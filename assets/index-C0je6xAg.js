function mI(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var gI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sE={exports:{}},Lc={},oE={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Symbol.for("react.element"),_I=Symbol.for("react.portal"),vI=Symbol.for("react.fragment"),yI=Symbol.for("react.strict_mode"),wI=Symbol.for("react.profiler"),EI=Symbol.for("react.provider"),AI=Symbol.for("react.context"),CI=Symbol.for("react.forward_ref"),SI=Symbol.for("react.suspense"),TI=Symbol.for("react.memo"),xI=Symbol.for("react.lazy"),J_=Symbol.iterator;function II(t){return t===null||typeof t!="object"?null:(t=J_&&t[J_]||t["@@iterator"],typeof t=="function"?t:null)}var aE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lE=Object.assign,uE={};function oo(t,e,n){this.props=t,this.context=e,this.refs=uE,this.updater=n||aE}oo.prototype.isReactComponent={};oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cE(){}cE.prototype=oo.prototype;function bp(t,e,n){this.props=t,this.context=e,this.refs=uE,this.updater=n||aE}var Lp=bp.prototype=new cE;Lp.constructor=bp;lE(Lp,oo.prototype);Lp.isPureReactComponent=!0;var X_=Array.isArray,hE=Object.prototype.hasOwnProperty,Op={current:null},dE={key:!0,ref:!0,__self:!0,__source:!0};function fE(t,e,n){var i,r={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)hE.call(e,i)&&!dE.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var h=Array(u),f=0;f<u;f++)h[f]=arguments[f+2];r.children=h}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:Xa,type:t,key:o,ref:a,props:r,_owner:Op.current}}function kI(t,e){return{$$typeof:Xa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xa}function PI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ev=/\/+/g;function Xh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PI(""+t.key):e.toString(36)}function pu(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Xa:case _I:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+Xh(a,0):i,X_(r)?(n="",t!=null&&(n=t.replace(ev,"$&/")+"/"),pu(r,e,n,"",function(f){return f})):r!=null&&(Mp(r)&&(r=kI(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(ev,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",X_(t))for(var u=0;u<t.length;u++){o=t[u];var h=i+Xh(o,u);a+=pu(o,e,n,h,r)}else if(h=II(t),typeof h=="function")for(t=h.call(t),u=0;!(o=t.next()).done;)o=o.value,h=i+Xh(o,u++),a+=pu(o,e,n,h,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Hl(t,e,n){if(t==null)return t;var i=[],r=0;return pu(t,i,"","",function(o){return e.call(n,o,r++)}),i}function RI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var It={current:null},mu={transition:null},NI={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:mu,ReactCurrentOwner:Op};function pE(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Hl,forEach:function(t,e,n){Hl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hl(t,function(){e++}),e},toArray:function(t){return Hl(t,function(e){return e})||[]},only:function(t){if(!Mp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=oo;ce.Fragment=vI;ce.Profiler=wI;ce.PureComponent=bp;ce.StrictMode=yI;ce.Suspense=SI;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NI;ce.act=pE;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=lE({},t.props),r=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Op.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)hE.call(e,h)&&!dE.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){u=Array(h);for(var f=0;f<h;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:Xa,type:t.type,key:r,ref:o,props:i,_owner:a}};ce.createContext=function(t){return t={$$typeof:AI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EI,_context:t},t.Consumer=t};ce.createElement=fE;ce.createFactory=function(t){var e=fE.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:CI,render:t}};ce.isValidElement=Mp;ce.lazy=function(t){return{$$typeof:xI,_payload:{_status:-1,_result:t},_init:RI}};ce.memo=function(t,e){return{$$typeof:TI,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=mu.transition;mu.transition={};try{t()}finally{mu.transition=e}};ce.unstable_act=pE;ce.useCallback=function(t,e){return It.current.useCallback(t,e)};ce.useContext=function(t){return It.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return It.current.useDeferredValue(t)};ce.useEffect=function(t,e){return It.current.useEffect(t,e)};ce.useId=function(){return It.current.useId()};ce.useImperativeHandle=function(t,e,n){return It.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return It.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return It.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return It.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return It.current.useReducer(t,e,n)};ce.useRef=function(t){return It.current.useRef(t)};ce.useState=function(t){return It.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return It.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return It.current.useTransition()};ce.version="18.3.1";oE.exports=ce;var S=oE.exports;const tn=bc(S),bI=mI({__proto__:null,default:tn},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LI=S,OI=Symbol.for("react.element"),MI=Symbol.for("react.fragment"),DI=Object.prototype.hasOwnProperty,BI=LI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jI={key:!0,ref:!0,__self:!0,__source:!0};function mE(t,e,n){var i,r={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)DI.call(e,i)&&!jI.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:OI,type:t,key:o,ref:a,props:r,_owner:BI.current}}Lc.Fragment=MI;Lc.jsx=mE;Lc.jsxs=mE;sE.exports=Lc;var _=sE.exports,Jd={},gE={exports:{}},Zt={},_E={exports:{}},vE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,$){var U=O.length;O.push($);e:for(;0<U;){var K=U-1>>>1,te=O[K];if(0<r(te,$))O[K]=$,O[U]=te,U=K;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var $=O[0],U=O.pop();if(U!==$){O[0]=U;e:for(var K=0,te=O.length,ye=te>>>1;K<ye;){var le=2*(K+1)-1,re=O[le],J=le+1,Ye=O[J];if(0>r(re,U))J<te&&0>r(Ye,re)?(O[K]=Ye,O[J]=U,K=J):(O[K]=re,O[le]=U,K=le);else if(J<te&&0>r(Ye,U))O[K]=Ye,O[J]=U,K=J;else break e}}return $}function r(O,$){var U=O.sortIndex-$.sortIndex;return U!==0?U:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var h=[],f=[],g=1,p=null,v=3,E=!1,w=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(O){for(var $=n(f);$!==null;){if($.callback===null)i(f);else if($.startTime<=O)i(f),$.sortIndex=$.expirationTime,e(h,$);else break;$=n(f)}}function R(O){if(x=!1,T(O),!w)if(n(h)!==null)w=!0,Se(M);else{var $=n(f);$!==null&&pt(R,$.startTime-O)}}function M(O,$){w=!1,x&&(x=!1,C(W),W=-1),E=!0;var U=v;try{for(T($),p=n(h);p!==null&&(!(p.expirationTime>$)||O&&!ve());){var K=p.callback;if(typeof K=="function"){p.callback=null,v=p.priorityLevel;var te=K(p.expirationTime<=$);$=t.unstable_now(),typeof te=="function"?p.callback=te:p===n(h)&&i(h),T($)}else i(h);p=n(h)}if(p!==null)var ye=!0;else{var le=n(f);le!==null&&pt(R,le.startTime-$),ye=!1}return ye}finally{p=null,v=U,E=!1}}var B=!1,F=null,W=-1,ie=5,Q=-1;function ve(){return!(t.unstable_now()-Q<ie)}function be(){if(F!==null){var O=t.unstable_now();Q=O;var $=!0;try{$=F(!0,O)}finally{$?Qt():(B=!1,F=null)}}else B=!1}var Qt;if(typeof A=="function")Qt=function(){A(be)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,pr=at.port2;at.port1.onmessage=be,Qt=function(){pr.postMessage(null)}}else Qt=function(){k(be,0)};function Se(O){F=O,B||(B=!0,Qt())}function pt(O,$){W=k(function(){O(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){w||E||(w=!0,Se(M))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(O){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var U=v;v=$;try{return O()}finally{v=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=v;v=O;try{return $()}finally{v=U}},t.unstable_scheduleCallback=function(O,$,U){var K=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?K+U:K):U=K,O){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=U+te,O={id:g++,callback:$,priorityLevel:O,startTime:U,expirationTime:te,sortIndex:-1},U>K?(O.sortIndex=U,e(f,O),n(h)===null&&O===n(f)&&(x?(C(W),W=-1):x=!0,pt(R,U-K))):(O.sortIndex=te,e(h,O),w||E||(w=!0,Se(M))),O},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(O){var $=v;return function(){var U=v;v=$;try{return O.apply(this,arguments)}finally{v=U}}}})(vE);_E.exports=vE;var FI=_E.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI=S,Vt=FI;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yE=new Set,wa={};function Yr(t,e){Ks(t,e),Ks(t+"Capture",e)}function Ks(t,e){for(wa[t]=e,t=0;t<e.length;t++)yE.add(e[t])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xd=Object.prototype.hasOwnProperty,zI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tv={},nv={};function WI(t){return Xd.call(nv,t)?!0:Xd.call(tv,t)?!1:zI.test(t)?nv[t]=!0:(tv[t]=!0,!1)}function HI(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VI(t,e,n,i){if(e===null||typeof e>"u"||HI(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,i,r,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dt[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dt[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dt[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dt[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dt[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dt[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dt[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dt[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dt[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dp=/[\-:]([a-z])/g;function Bp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dp,Bp);dt[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dp,Bp);dt[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dp,Bp);dt[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dt[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});dt.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dt[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function jp(t,e,n,i){var r=dt.hasOwnProperty(e)?dt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VI(e,n,r,i)&&(n=null),i||r===null?WI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var fi=UI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vl=Symbol.for("react.element"),ys=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),Fp=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),wE=Symbol.for("react.provider"),EE=Symbol.for("react.context"),Up=Symbol.for("react.forward_ref"),tf=Symbol.for("react.suspense"),nf=Symbol.for("react.suspense_list"),zp=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),AE=Symbol.for("react.offscreen"),iv=Symbol.iterator;function Do(t){return t===null||typeof t!="object"?null:(t=iv&&t[iv]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,ed;function Yo(t){if(ed===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ed=e&&e[1]||""}return`
`+ed+t}var td=!1;function nd(t,e){if(!t||td)return"";td=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),o=i.stack.split(`
`),a=r.length-1,u=o.length-1;1<=a&&0<=u&&r[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(r[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||r[a]!==o[u]){var h=`
`+r[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=u);break}}}finally{td=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yo(t):""}function ZI(t){switch(t.tag){case 5:return Yo(t.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 2:case 15:return t=nd(t.type,!1),t;case 11:return t=nd(t.type.render,!1),t;case 1:return t=nd(t.type,!0),t;default:return""}}function rf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ws:return"Fragment";case ys:return"Portal";case ef:return"Profiler";case Fp:return"StrictMode";case tf:return"Suspense";case nf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case EE:return(t.displayName||"Context")+".Consumer";case wE:return(t._context.displayName||"Context")+".Provider";case Up:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zp:return e=t.displayName||null,e!==null?e:rf(t.type)||"Memo";case ki:e=t._payload,t=t._init;try{return rf(t(e))}catch{}}return null}function KI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rf(e);case 8:return e===Fp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QI(t){var e=CE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zl(t){t._valueTracker||(t._valueTracker=QI(t))}function SE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=CE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Lu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sf(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rv(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TE(t,e){e=e.checked,e!=null&&jp(t,"checked",e,!1)}function of(t,e){TE(t,e);var n=nr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?af(t,e.type,n):e.hasOwnProperty("defaultValue")&&af(t,e.type,nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function af(t,e,n){(e!=="number"||Lu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jo=Array.isArray;function Ms(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+nr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function lf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ov(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Jo(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nr(n)}}function xE(t,e){var n=nr(e.value),i=nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function av(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kl,kE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kl=Kl||document.createElement("div"),Kl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ea(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GI=["Webkit","ms","Moz","O"];Object.keys(ra).forEach(function(t){GI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ra[e]=ra[t]})});function PE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ra.hasOwnProperty(t)&&ra[t]?(""+e).trim():e+"px"}function RE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=PE(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var qI=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cf(t,e){if(e){if(qI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function hf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var df=null;function Wp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ff=null,Ds=null,Bs=null;function lv(t){if(t=nl(t)){if(typeof ff!="function")throw Error(j(280));var e=t.stateNode;e&&(e=jc(e),ff(t.stateNode,t.type,e))}}function NE(t){Ds?Bs?Bs.push(t):Bs=[t]:Ds=t}function bE(){if(Ds){var t=Ds,e=Bs;if(Bs=Ds=null,lv(t),e)for(t=0;t<e.length;t++)lv(e[t])}}function LE(t,e){return t(e)}function OE(){}var id=!1;function ME(t,e,n){if(id)return t(e,n);id=!0;try{return LE(t,e,n)}finally{id=!1,(Ds!==null||Bs!==null)&&(OE(),bE())}}function Aa(t,e){var n=t.stateNode;if(n===null)return null;var i=jc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var pf=!1;if(ai)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){pf=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{pf=!1}function $I(t,e,n,i,r,o,a,u,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(g){this.onError(g)}}var sa=!1,Ou=null,Mu=!1,mf=null,YI={onError:function(t){sa=!0,Ou=t}};function JI(t,e,n,i,r,o,a,u,h){sa=!1,Ou=null,$I.apply(YI,arguments)}function XI(t,e,n,i,r,o,a,u,h){if(JI.apply(this,arguments),sa){if(sa){var f=Ou;sa=!1,Ou=null}else throw Error(j(198));Mu||(Mu=!0,mf=f)}}function Jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function DE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uv(t){if(Jr(t)!==t)throw Error(j(188))}function ek(t){var e=t.alternate;if(!e){if(e=Jr(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return uv(r),t;if(o===i)return uv(r),e;o=o.sibling}throw Error(j(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=o;break}if(u===i){a=!0,i=r,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,i=r;break}if(u===i){a=!0,i=o,n=r;break}u=u.sibling}if(!a)throw Error(j(189))}}if(n.alternate!==i)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function BE(t){return t=ek(t),t!==null?jE(t):null}function jE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jE(t);if(e!==null)return e;t=t.sibling}return null}var FE=Vt.unstable_scheduleCallback,cv=Vt.unstable_cancelCallback,tk=Vt.unstable_shouldYield,nk=Vt.unstable_requestPaint,Ve=Vt.unstable_now,ik=Vt.unstable_getCurrentPriorityLevel,Hp=Vt.unstable_ImmediatePriority,UE=Vt.unstable_UserBlockingPriority,Du=Vt.unstable_NormalPriority,rk=Vt.unstable_LowPriority,zE=Vt.unstable_IdlePriority,Oc=null,Dn=null;function sk(t){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(Oc,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:lk,ok=Math.log,ak=Math.LN2;function lk(t){return t>>>=0,t===0?32:31-(ok(t)/ak|0)|0}var Ql=64,Gl=4194304;function Xo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~r;u!==0?i=Xo(u):(o&=a,o!==0&&(i=Xo(o)))}else a=n&~r,a!==0?i=Xo(a):o!==0&&(i=Xo(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-_n(e),r=1<<n,i|=t[n],e&=~r;return i}function uk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ck(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-_n(o),u=1<<a,h=r[a];h===-1?(!(u&n)||u&i)&&(r[a]=uk(u,e)):h<=e&&(t.expiredLanes|=u),o&=~u}}function gf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WE(){var t=Ql;return Ql<<=1,!(Ql&4194240)&&(Ql=64),t}function rd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function el(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function hk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-_n(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function Vp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-_n(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var we=0;function HE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VE,Zp,ZE,KE,QE,_f=!1,ql=[],Hi=null,Vi=null,Zi=null,Ca=new Map,Sa=new Map,bi=[],dk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hv(t,e){switch(t){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Ca.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(e.pointerId)}}function jo(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=nl(e),e!==null&&Zp(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function fk(t,e,n,i,r){switch(e){case"focusin":return Hi=jo(Hi,t,e,n,i,r),!0;case"dragenter":return Vi=jo(Vi,t,e,n,i,r),!0;case"mouseover":return Zi=jo(Zi,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Ca.set(o,jo(Ca.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Sa.set(o,jo(Sa.get(o)||null,t,e,n,i,r)),!0}return!1}function GE(t){var e=Ir(t.target);if(e!==null){var n=Jr(e);if(n!==null){if(e=n.tag,e===13){if(e=DE(n),e!==null){t.blockedOn=e,QE(t.priority,function(){ZE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);df=i,n.target.dispatchEvent(i),df=null}else return e=nl(n),e!==null&&Zp(e),t.blockedOn=n,!1;e.shift()}return!0}function dv(t,e,n){gu(t)&&n.delete(e)}function pk(){_f=!1,Hi!==null&&gu(Hi)&&(Hi=null),Vi!==null&&gu(Vi)&&(Vi=null),Zi!==null&&gu(Zi)&&(Zi=null),Ca.forEach(dv),Sa.forEach(dv)}function Fo(t,e){t.blockedOn===e&&(t.blockedOn=null,_f||(_f=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,pk)))}function Ta(t){function e(r){return Fo(r,t)}if(0<ql.length){Fo(ql[0],t);for(var n=1;n<ql.length;n++){var i=ql[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Hi!==null&&Fo(Hi,t),Vi!==null&&Fo(Vi,t),Zi!==null&&Fo(Zi,t),Ca.forEach(e),Sa.forEach(e),n=0;n<bi.length;n++)i=bi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<bi.length&&(n=bi[0],n.blockedOn===null);)GE(n),n.blockedOn===null&&bi.shift()}var js=fi.ReactCurrentBatchConfig,ju=!0;function mk(t,e,n,i){var r=we,o=js.transition;js.transition=null;try{we=1,Kp(t,e,n,i)}finally{we=r,js.transition=o}}function gk(t,e,n,i){var r=we,o=js.transition;js.transition=null;try{we=4,Kp(t,e,n,i)}finally{we=r,js.transition=o}}function Kp(t,e,n,i){if(ju){var r=vf(t,e,n,i);if(r===null)pd(t,e,i,Fu,n),hv(t,i);else if(fk(r,t,e,n,i))i.stopPropagation();else if(hv(t,i),e&4&&-1<dk.indexOf(t)){for(;r!==null;){var o=nl(r);if(o!==null&&VE(o),o=vf(t,e,n,i),o===null&&pd(t,e,i,Fu,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else pd(t,e,i,null,n)}}var Fu=null;function vf(t,e,n,i){if(Fu=null,t=Wp(i),t=Ir(t),t!==null)if(e=Jr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=DE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fu=t,null}function qE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ik()){case Hp:return 1;case UE:return 4;case Du:case rk:return 16;case zE:return 536870912;default:return 16}default:return 16}}var Fi=null,Qp=null,_u=null;function $E(){if(_u)return _u;var t,e=Qp,n=e.length,i,r="value"in Fi?Fi.value:Fi.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[o-i];i++);return _u=r.slice(t,1<i?1-i:void 0)}function vu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $l(){return!0}function fv(){return!1}function Kt(t){function e(n,i,r,o,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$l:fv,this.isPropagationStopped=fv,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),e}var ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gp=Kt(ao),tl=De({},ao,{view:0,detail:0}),_k=Kt(tl),sd,od,Uo,Mc=De({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uo&&(Uo&&t.type==="mousemove"?(sd=t.screenX-Uo.screenX,od=t.screenY-Uo.screenY):od=sd=0,Uo=t),sd)},movementY:function(t){return"movementY"in t?t.movementY:od}}),pv=Kt(Mc),vk=De({},Mc,{dataTransfer:0}),yk=Kt(vk),wk=De({},tl,{relatedTarget:0}),ad=Kt(wk),Ek=De({},ao,{animationName:0,elapsedTime:0,pseudoElement:0}),Ak=Kt(Ek),Ck=De({},ao,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sk=Kt(Ck),Tk=De({},ao,{data:0}),mv=Kt(Tk),xk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ik={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kk[t])?!!e[t]:!1}function qp(){return Pk}var Rk=De({},tl,{key:function(t){if(t.key){var e=xk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ik[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(t){return t.type==="keypress"?vu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nk=Kt(Rk),bk=De({},Mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gv=Kt(bk),Lk=De({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),Ok=Kt(Lk),Mk=De({},ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dk=Kt(Mk),Bk=De({},Mc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jk=Kt(Bk),Fk=[9,13,27,32],$p=ai&&"CompositionEvent"in window,oa=null;ai&&"documentMode"in document&&(oa=document.documentMode);var Uk=ai&&"TextEvent"in window&&!oa,YE=ai&&(!$p||oa&&8<oa&&11>=oa),_v=" ",vv=!1;function JE(t,e){switch(t){case"keyup":return Fk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Es=!1;function zk(t,e){switch(t){case"compositionend":return XE(e);case"keypress":return e.which!==32?null:(vv=!0,_v);case"textInput":return t=e.data,t===_v&&vv?null:t;default:return null}}function Wk(t,e){if(Es)return t==="compositionend"||!$p&&JE(t,e)?(t=$E(),_u=Qp=Fi=null,Es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return YE&&e.locale!=="ko"?null:e.data;default:return null}}var Hk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hk[t.type]:e==="textarea"}function e0(t,e,n,i){NE(i),e=Uu(e,"onChange"),0<e.length&&(n=new Gp("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var aa=null,xa=null;function Vk(t){h0(t,0)}function Dc(t){var e=Ss(t);if(SE(e))return t}function Zk(t,e){if(t==="change")return e}var t0=!1;if(ai){var ld;if(ai){var ud="oninput"in document;if(!ud){var wv=document.createElement("div");wv.setAttribute("oninput","return;"),ud=typeof wv.oninput=="function"}ld=ud}else ld=!1;t0=ld&&(!document.documentMode||9<document.documentMode)}function Ev(){aa&&(aa.detachEvent("onpropertychange",n0),xa=aa=null)}function n0(t){if(t.propertyName==="value"&&Dc(xa)){var e=[];e0(e,xa,t,Wp(t)),ME(Vk,e)}}function Kk(t,e,n){t==="focusin"?(Ev(),aa=e,xa=n,aa.attachEvent("onpropertychange",n0)):t==="focusout"&&Ev()}function Qk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dc(xa)}function Gk(t,e){if(t==="click")return Dc(e)}function qk(t,e){if(t==="input"||t==="change")return Dc(e)}function $k(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:$k;function Ia(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Xd.call(e,r)||!En(t[r],e[r]))return!1}return!0}function Av(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cv(t,e){var n=Av(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Av(n)}}function i0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?i0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function r0(){for(var t=window,e=Lu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lu(t.document)}return e}function Yp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yk(t){var e=r0(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&i0(n.ownerDocument.documentElement,n)){if(i!==null&&Yp(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=Cv(n,o);var a=Cv(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jk=ai&&"documentMode"in document&&11>=document.documentMode,As=null,yf=null,la=null,wf=!1;function Sv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wf||As==null||As!==Lu(i)||(i=As,"selectionStart"in i&&Yp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),la&&Ia(la,i)||(la=i,i=Uu(yf,"onSelect"),0<i.length&&(e=new Gp("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=As)))}function Yl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cs={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},cd={},s0={};ai&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function Bc(t){if(cd[t])return cd[t];if(!Cs[t])return t;var e=Cs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in s0)return cd[t]=e[n];return t}var o0=Bc("animationend"),a0=Bc("animationiteration"),l0=Bc("animationstart"),u0=Bc("transitionend"),c0=new Map,Tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lr(t,e){c0.set(t,e),Yr(e,[t])}for(var hd=0;hd<Tv.length;hd++){var dd=Tv[hd],Xk=dd.toLowerCase(),eP=dd[0].toUpperCase()+dd.slice(1);lr(Xk,"on"+eP)}lr(o0,"onAnimationEnd");lr(a0,"onAnimationIteration");lr(l0,"onAnimationStart");lr("dblclick","onDoubleClick");lr("focusin","onFocus");lr("focusout","onBlur");lr(u0,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function xv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,XI(i,e,void 0,t),t.currentTarget=null}function h0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var u=i[a],h=u.instance,f=u.currentTarget;if(u=u.listener,h!==o&&r.isPropagationStopped())break e;xv(r,u,f),o=h}else for(a=0;a<i.length;a++){if(u=i[a],h=u.instance,f=u.currentTarget,u=u.listener,h!==o&&r.isPropagationStopped())break e;xv(r,u,f),o=h}}}if(Mu)throw t=mf,Mu=!1,mf=null,t}function Pe(t,e){var n=e[Tf];n===void 0&&(n=e[Tf]=new Set);var i=t+"__bubble";n.has(i)||(d0(e,t,2,!1),n.add(i))}function fd(t,e,n){var i=0;e&&(i|=4),d0(n,t,i,e)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function ka(t){if(!t[Jl]){t[Jl]=!0,yE.forEach(function(n){n!=="selectionchange"&&(tP.has(n)||fd(n,!1,t),fd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jl]||(e[Jl]=!0,fd("selectionchange",!1,e))}}function d0(t,e,n,i){switch(qE(e)){case 1:var r=mk;break;case 4:r=gk;break;default:r=Kp}n=r.bind(null,e,n,t),r=void 0,!pf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function pd(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===r||h.nodeType===8&&h.parentNode===r))return;a=a.return}for(;u!==null;){if(a=Ir(u),a===null)return;if(h=a.tag,h===5||h===6){i=o=a;continue e}u=u.parentNode}}i=i.return}ME(function(){var f=o,g=Wp(n),p=[];e:{var v=c0.get(t);if(v!==void 0){var E=Gp,w=t;switch(t){case"keypress":if(vu(n)===0)break e;case"keydown":case"keyup":E=Nk;break;case"focusin":w="focus",E=ad;break;case"focusout":w="blur",E=ad;break;case"beforeblur":case"afterblur":E=ad;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=pv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=yk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Ok;break;case o0:case a0:case l0:E=Ak;break;case u0:E=Dk;break;case"scroll":E=_k;break;case"wheel":E=jk;break;case"copy":case"cut":case"paste":E=Sk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=gv}var x=(e&4)!==0,k=!x&&t==="scroll",C=x?v!==null?v+"Capture":null:v;x=[];for(var A=f,T;A!==null;){T=A;var R=T.stateNode;if(T.tag===5&&R!==null&&(T=R,C!==null&&(R=Aa(A,C),R!=null&&x.push(Pa(A,R,T)))),k)break;A=A.return}0<x.length&&(v=new E(v,w,null,n,g),p.push({event:v,listeners:x}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",v&&n!==df&&(w=n.relatedTarget||n.fromElement)&&(Ir(w)||w[li]))break e;if((E||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,E?(w=n.relatedTarget||n.toElement,E=f,w=w?Ir(w):null,w!==null&&(k=Jr(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(E=null,w=f),E!==w)){if(x=pv,R="onMouseLeave",C="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(x=gv,R="onPointerLeave",C="onPointerEnter",A="pointer"),k=E==null?v:Ss(E),T=w==null?v:Ss(w),v=new x(R,A+"leave",E,n,g),v.target=k,v.relatedTarget=T,R=null,Ir(g)===f&&(x=new x(C,A+"enter",w,n,g),x.target=T,x.relatedTarget=k,R=x),k=R,E&&w)t:{for(x=E,C=w,A=0,T=x;T;T=ps(T))A++;for(T=0,R=C;R;R=ps(R))T++;for(;0<A-T;)x=ps(x),A--;for(;0<T-A;)C=ps(C),T--;for(;A--;){if(x===C||C!==null&&x===C.alternate)break t;x=ps(x),C=ps(C)}x=null}else x=null;E!==null&&Iv(p,v,E,x,!1),w!==null&&k!==null&&Iv(p,k,w,x,!0)}}e:{if(v=f?Ss(f):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var M=Zk;else if(yv(v))if(t0)M=qk;else{M=Qk;var B=Kk}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(M=Gk);if(M&&(M=M(t,f))){e0(p,M,n,g);break e}B&&B(t,v,f),t==="focusout"&&(B=v._wrapperState)&&B.controlled&&v.type==="number"&&af(v,"number",v.value)}switch(B=f?Ss(f):window,t){case"focusin":(yv(B)||B.contentEditable==="true")&&(As=B,yf=f,la=null);break;case"focusout":la=yf=As=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Sv(p,n,g);break;case"selectionchange":if(Jk)break;case"keydown":case"keyup":Sv(p,n,g)}var F;if($p)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Es?JE(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(YE&&n.locale!=="ko"&&(Es||W!=="onCompositionStart"?W==="onCompositionEnd"&&Es&&(F=$E()):(Fi=g,Qp="value"in Fi?Fi.value:Fi.textContent,Es=!0)),B=Uu(f,W),0<B.length&&(W=new mv(W,t,null,n,g),p.push({event:W,listeners:B}),F?W.data=F:(F=XE(n),F!==null&&(W.data=F)))),(F=Uk?zk(t,n):Wk(t,n))&&(f=Uu(f,"onBeforeInput"),0<f.length&&(g=new mv("onBeforeInput","beforeinput",null,n,g),p.push({event:g,listeners:f}),g.data=F))}h0(p,e)})}function Pa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Aa(t,n),o!=null&&i.unshift(Pa(t,o,r)),o=Aa(t,e),o!=null&&i.push(Pa(t,o,r))),t=t.return}return i}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Iv(t,e,n,i,r){for(var o=e._reactName,a=[];n!==null&&n!==i;){var u=n,h=u.alternate,f=u.stateNode;if(h!==null&&h===i)break;u.tag===5&&f!==null&&(u=f,r?(h=Aa(n,o),h!=null&&a.unshift(Pa(n,h,u))):r||(h=Aa(n,o),h!=null&&a.push(Pa(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var nP=/\r\n?/g,iP=/\u0000|\uFFFD/g;function kv(t){return(typeof t=="string"?t:""+t).replace(nP,`
`).replace(iP,"")}function Xl(t,e,n){if(e=kv(e),kv(t)!==e&&n)throw Error(j(425))}function zu(){}var Ef=null,Af=null;function Cf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sf=typeof setTimeout=="function"?setTimeout:void 0,rP=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,sP=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(t){return Pv.resolve(null).then(t).catch(oP)}:Sf;function oP(t){setTimeout(function(){throw t})}function md(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Ta(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Ta(e)}function Ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var lo=Math.random().toString(36).slice(2),bn="__reactFiber$"+lo,Ra="__reactProps$"+lo,li="__reactContainer$"+lo,Tf="__reactEvents$"+lo,aP="__reactListeners$"+lo,lP="__reactHandles$"+lo;function Ir(t){var e=t[bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[li]||n[bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rv(t);t!==null;){if(n=t[bn])return n;t=Rv(t)}return e}t=n,n=t.parentNode}return null}function nl(t){return t=t[bn]||t[li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function jc(t){return t[Ra]||null}var xf=[],Ts=-1;function ur(t){return{current:t}}function Re(t){0>Ts||(t.current=xf[Ts],xf[Ts]=null,Ts--)}function ke(t,e){Ts++,xf[Ts]=t.current,t.current=e}var ir={},vt=ur(ir),Lt=ur(!1),Br=ir;function Qs(t,e){var n=t.type.contextTypes;if(!n)return ir;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ot(t){return t=t.childContextTypes,t!=null}function Wu(){Re(Lt),Re(vt)}function Nv(t,e,n){if(vt.current!==ir)throw Error(j(168));ke(vt,e),ke(Lt,n)}function f0(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(j(108,KI(t)||"Unknown",r));return De({},n,i)}function Hu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ir,Br=vt.current,ke(vt,t),ke(Lt,Lt.current),!0}function bv(t,e,n){var i=t.stateNode;if(!i)throw Error(j(169));n?(t=f0(t,e,Br),i.__reactInternalMemoizedMergedChildContext=t,Re(Lt),Re(vt),ke(vt,t)):Re(Lt),ke(Lt,n)}var Yn=null,Fc=!1,gd=!1;function p0(t){Yn===null?Yn=[t]:Yn.push(t)}function uP(t){Fc=!0,p0(t)}function cr(){if(!gd&&Yn!==null){gd=!0;var t=0,e=we;try{var n=Yn;for(we=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Yn=null,Fc=!1}catch(r){throw Yn!==null&&(Yn=Yn.slice(t+1)),FE(Hp,cr),r}finally{we=e,gd=!1}}return null}var xs=[],Is=0,Vu=null,Zu=0,Xt=[],en=0,jr=null,Jn=1,Xn="";function Er(t,e){xs[Is++]=Zu,xs[Is++]=Vu,Vu=t,Zu=e}function m0(t,e,n){Xt[en++]=Jn,Xt[en++]=Xn,Xt[en++]=jr,jr=t;var i=Jn;t=Xn;var r=32-_n(i)-1;i&=~(1<<r),n+=1;var o=32-_n(e)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Jn=1<<32-_n(e)+r|n<<r|i,Xn=o+t}else Jn=1<<o|n<<r|i,Xn=t}function Jp(t){t.return!==null&&(Er(t,1),m0(t,1,0))}function Xp(t){for(;t===Vu;)Vu=xs[--Is],xs[Is]=null,Zu=xs[--Is],xs[Is]=null;for(;t===jr;)jr=Xt[--en],Xt[en]=null,Xn=Xt[--en],Xt[en]=null,Jn=Xt[--en],Xt[en]=null}var Wt=null,Ft=null,Ne=!1,pn=null;function g0(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,Ft=Ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,Ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jr!==null?{id:Jn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wt=t,Ft=null,!0):!1;default:return!1}}function If(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kf(t){if(Ne){var e=Ft;if(e){var n=e;if(!Lv(t,e)){if(If(t))throw Error(j(418));e=Ki(n.nextSibling);var i=Wt;e&&Lv(t,e)?g0(i,n):(t.flags=t.flags&-4097|2,Ne=!1,Wt=t)}}else{if(If(t))throw Error(j(418));t.flags=t.flags&-4097|2,Ne=!1,Wt=t}}}function Ov(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function eu(t){if(t!==Wt)return!1;if(!Ne)return Ov(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cf(t.type,t.memoizedProps)),e&&(e=Ft)){if(If(t))throw _0(),Error(j(418));for(;e;)g0(t,e),e=Ki(e.nextSibling)}if(Ov(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ft=Ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ft=null}}else Ft=Wt?Ki(t.stateNode.nextSibling):null;return!0}function _0(){for(var t=Ft;t;)t=Ki(t.nextSibling)}function Gs(){Ft=Wt=null,Ne=!1}function em(t){pn===null?pn=[t]:pn.push(t)}var cP=fi.ReactCurrentBatchConfig;function zo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var i=n.stateNode}if(!i)throw Error(j(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var u=r.refs;a===null?delete u[o]:u[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function tu(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mv(t){var e=t._init;return e(t._payload)}function v0(t){function e(C,A){if(t){var T=C.deletions;T===null?(C.deletions=[A],C.flags|=16):T.push(A)}}function n(C,A){if(!t)return null;for(;A!==null;)e(C,A),A=A.sibling;return null}function i(C,A){for(C=new Map;A!==null;)A.key!==null?C.set(A.key,A):C.set(A.index,A),A=A.sibling;return C}function r(C,A){return C=$i(C,A),C.index=0,C.sibling=null,C}function o(C,A,T){return C.index=T,t?(T=C.alternate,T!==null?(T=T.index,T<A?(C.flags|=2,A):T):(C.flags|=2,A)):(C.flags|=1048576,A)}function a(C){return t&&C.alternate===null&&(C.flags|=2),C}function u(C,A,T,R){return A===null||A.tag!==6?(A=Cd(T,C.mode,R),A.return=C,A):(A=r(A,T),A.return=C,A)}function h(C,A,T,R){var M=T.type;return M===ws?g(C,A,T.props.children,R,T.key):A!==null&&(A.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ki&&Mv(M)===A.type)?(R=r(A,T.props),R.ref=zo(C,A,T),R.return=C,R):(R=Tu(T.type,T.key,T.props,null,C.mode,R),R.ref=zo(C,A,T),R.return=C,R)}function f(C,A,T,R){return A===null||A.tag!==4||A.stateNode.containerInfo!==T.containerInfo||A.stateNode.implementation!==T.implementation?(A=Sd(T,C.mode,R),A.return=C,A):(A=r(A,T.children||[]),A.return=C,A)}function g(C,A,T,R,M){return A===null||A.tag!==7?(A=Lr(T,C.mode,R,M),A.return=C,A):(A=r(A,T),A.return=C,A)}function p(C,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Cd(""+A,C.mode,T),A.return=C,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Vl:return T=Tu(A.type,A.key,A.props,null,C.mode,T),T.ref=zo(C,null,A),T.return=C,T;case ys:return A=Sd(A,C.mode,T),A.return=C,A;case ki:var R=A._init;return p(C,R(A._payload),T)}if(Jo(A)||Do(A))return A=Lr(A,C.mode,T,null),A.return=C,A;tu(C,A)}return null}function v(C,A,T,R){var M=A!==null?A.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:u(C,A,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vl:return T.key===M?h(C,A,T,R):null;case ys:return T.key===M?f(C,A,T,R):null;case ki:return M=T._init,v(C,A,M(T._payload),R)}if(Jo(T)||Do(T))return M!==null?null:g(C,A,T,R,null);tu(C,T)}return null}function E(C,A,T,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return C=C.get(T)||null,u(A,C,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Vl:return C=C.get(R.key===null?T:R.key)||null,h(A,C,R,M);case ys:return C=C.get(R.key===null?T:R.key)||null,f(A,C,R,M);case ki:var B=R._init;return E(C,A,T,B(R._payload),M)}if(Jo(R)||Do(R))return C=C.get(T)||null,g(A,C,R,M,null);tu(A,R)}return null}function w(C,A,T,R){for(var M=null,B=null,F=A,W=A=0,ie=null;F!==null&&W<T.length;W++){F.index>W?(ie=F,F=null):ie=F.sibling;var Q=v(C,F,T[W],R);if(Q===null){F===null&&(F=ie);break}t&&F&&Q.alternate===null&&e(C,F),A=o(Q,A,W),B===null?M=Q:B.sibling=Q,B=Q,F=ie}if(W===T.length)return n(C,F),Ne&&Er(C,W),M;if(F===null){for(;W<T.length;W++)F=p(C,T[W],R),F!==null&&(A=o(F,A,W),B===null?M=F:B.sibling=F,B=F);return Ne&&Er(C,W),M}for(F=i(C,F);W<T.length;W++)ie=E(F,C,W,T[W],R),ie!==null&&(t&&ie.alternate!==null&&F.delete(ie.key===null?W:ie.key),A=o(ie,A,W),B===null?M=ie:B.sibling=ie,B=ie);return t&&F.forEach(function(ve){return e(C,ve)}),Ne&&Er(C,W),M}function x(C,A,T,R){var M=Do(T);if(typeof M!="function")throw Error(j(150));if(T=M.call(T),T==null)throw Error(j(151));for(var B=M=null,F=A,W=A=0,ie=null,Q=T.next();F!==null&&!Q.done;W++,Q=T.next()){F.index>W?(ie=F,F=null):ie=F.sibling;var ve=v(C,F,Q.value,R);if(ve===null){F===null&&(F=ie);break}t&&F&&ve.alternate===null&&e(C,F),A=o(ve,A,W),B===null?M=ve:B.sibling=ve,B=ve,F=ie}if(Q.done)return n(C,F),Ne&&Er(C,W),M;if(F===null){for(;!Q.done;W++,Q=T.next())Q=p(C,Q.value,R),Q!==null&&(A=o(Q,A,W),B===null?M=Q:B.sibling=Q,B=Q);return Ne&&Er(C,W),M}for(F=i(C,F);!Q.done;W++,Q=T.next())Q=E(F,C,W,Q.value,R),Q!==null&&(t&&Q.alternate!==null&&F.delete(Q.key===null?W:Q.key),A=o(Q,A,W),B===null?M=Q:B.sibling=Q,B=Q);return t&&F.forEach(function(be){return e(C,be)}),Ne&&Er(C,W),M}function k(C,A,T,R){if(typeof T=="object"&&T!==null&&T.type===ws&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Vl:e:{for(var M=T.key,B=A;B!==null;){if(B.key===M){if(M=T.type,M===ws){if(B.tag===7){n(C,B.sibling),A=r(B,T.props.children),A.return=C,C=A;break e}}else if(B.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ki&&Mv(M)===B.type){n(C,B.sibling),A=r(B,T.props),A.ref=zo(C,B,T),A.return=C,C=A;break e}n(C,B);break}else e(C,B);B=B.sibling}T.type===ws?(A=Lr(T.props.children,C.mode,R,T.key),A.return=C,C=A):(R=Tu(T.type,T.key,T.props,null,C.mode,R),R.ref=zo(C,A,T),R.return=C,C=R)}return a(C);case ys:e:{for(B=T.key;A!==null;){if(A.key===B)if(A.tag===4&&A.stateNode.containerInfo===T.containerInfo&&A.stateNode.implementation===T.implementation){n(C,A.sibling),A=r(A,T.children||[]),A.return=C,C=A;break e}else{n(C,A);break}else e(C,A);A=A.sibling}A=Sd(T,C.mode,R),A.return=C,C=A}return a(C);case ki:return B=T._init,k(C,A,B(T._payload),R)}if(Jo(T))return w(C,A,T,R);if(Do(T))return x(C,A,T,R);tu(C,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,A!==null&&A.tag===6?(n(C,A.sibling),A=r(A,T),A.return=C,C=A):(n(C,A),A=Cd(T,C.mode,R),A.return=C,C=A),a(C)):n(C,A)}return k}var qs=v0(!0),y0=v0(!1),Ku=ur(null),Qu=null,ks=null,tm=null;function nm(){tm=ks=Qu=null}function im(t){var e=Ku.current;Re(Ku),t._currentValue=e}function Pf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Fs(t,e){Qu=t,tm=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(tm!==t)if(t={context:t,memoizedValue:e,next:null},ks===null){if(Qu===null)throw Error(j(308));ks=t,Qu.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var kr=null;function rm(t){kr===null?kr=[t]:kr.push(t)}function w0(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,rm(e)):(n.next=r.next,r.next=n),e.interleaved=n,ui(t,i)}function ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pi=!1;function sm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,pe&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ui(t,n)}return r=i.interleaved,r===null?(e.next=e,rm(i)):(e.next=r.next,r.next=e),i.interleaved=e,ui(t,n)}function yu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Vp(t,n)}}function Dv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gu(t,e,n,i){var r=t.updateQueue;Pi=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var h=u,f=h.next;h.next=null,a===null?o=f:a.next=f,a=h;var g=t.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==a&&(u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=h))}if(o!==null){var p=r.baseState;a=0,g=f=h=null,u=o;do{var v=u.lane,E=u.eventTime;if((i&v)===v){g!==null&&(g=g.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=t,x=u;switch(v=e,E=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){p=w.call(E,p,v);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,v=typeof w=="function"?w.call(E,p,v):w,v==null)break e;p=De({},p,v);break e;case 2:Pi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,v=r.effects,v===null?r.effects=[u]:v.push(u))}else E={eventTime:E,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(f=g=E,h=p):g=g.next=E,a|=v;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;v=u,u=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(!0);if(g===null&&(h=p),r.baseState=h,r.firstBaseUpdate=f,r.lastBaseUpdate=g,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Ur|=a,t.lanes=a,t.memoizedState=p}}function Bv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(j(191,r));r.call(i)}}}var il={},Bn=ur(il),Na=ur(il),ba=ur(il);function Pr(t){if(t===il)throw Error(j(174));return t}function om(t,e){switch(ke(ba,e),ke(Na,t),ke(Bn,il),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uf(e,t)}Re(Bn),ke(Bn,e)}function $s(){Re(Bn),Re(Na),Re(ba)}function A0(t){Pr(ba.current);var e=Pr(Bn.current),n=uf(e,t.type);e!==n&&(ke(Na,t),ke(Bn,n))}function am(t){Na.current===t&&(Re(Bn),Re(Na))}var Oe=ur(0);function qu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _d=[];function lm(){for(var t=0;t<_d.length;t++)_d[t]._workInProgressVersionPrimary=null;_d.length=0}var wu=fi.ReactCurrentDispatcher,vd=fi.ReactCurrentBatchConfig,Fr=0,Me=null,Je=null,rt=null,$u=!1,ua=!1,La=0,hP=0;function mt(){throw Error(j(321))}function um(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function cm(t,e,n,i,r,o){if(Fr=o,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wu.current=t===null||t.memoizedState===null?mP:gP,t=n(i,r),ua){o=0;do{if(ua=!1,La=0,25<=o)throw Error(j(301));o+=1,rt=Je=null,e.updateQueue=null,wu.current=_P,t=n(i,r)}while(ua)}if(wu.current=Yu,e=Je!==null&&Je.next!==null,Fr=0,rt=Je=Me=null,$u=!1,e)throw Error(j(300));return t}function hm(){var t=La!==0;return La=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Me.memoizedState=rt=t:rt=rt.next=t,rt}function an(){if(Je===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=rt===null?Me.memoizedState:rt.next;if(e!==null)rt=e,Je=t;else{if(t===null)throw Error(j(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},rt===null?Me.memoizedState=rt=t:rt=rt.next=t}return rt}function Oa(t,e){return typeof e=="function"?e(t):e}function yd(t){var e=an(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var i=Je,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var u=a=null,h=null,f=o;do{var g=f.lane;if((Fr&g)===g)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var p={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(u=h=p,a=i):h=h.next=p,Me.lanes|=g,Ur|=g}f=f.next}while(f!==null&&f!==o);h===null?a=i:h.next=u,En(i,e.memoizedState)||(Nt=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Me.lanes|=o,Ur|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wd(t){var e=an(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do o=t(o,a.action),a=a.next;while(a!==r);En(o,e.memoizedState)||(Nt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function C0(){}function S0(t,e){var n=Me,i=an(),r=e(),o=!En(i.memoizedState,r);if(o&&(i.memoizedState=r,Nt=!0),i=i.queue,dm(I0.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Ma(9,x0.bind(null,n,i,r,e),void 0,null),ot===null)throw Error(j(349));Fr&30||T0(n,e,r)}return r}function T0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function x0(t,e,n,i){e.value=n,e.getSnapshot=i,k0(e)&&P0(t)}function I0(t,e,n){return n(function(){k0(e)&&P0(t)})}function k0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function P0(t){var e=ui(t,1);e!==null&&vn(e,t,1,-1)}function jv(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:t},e.queue=t,t=t.dispatch=pP.bind(null,Me,t),[e.memoizedState,t]}function Ma(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function R0(){return an().memoizedState}function Eu(t,e,n,i){var r=Nn();Me.flags|=t,r.memoizedState=Ma(1|e,n,void 0,i===void 0?null:i)}function Uc(t,e,n,i){var r=an();i=i===void 0?null:i;var o=void 0;if(Je!==null){var a=Je.memoizedState;if(o=a.destroy,i!==null&&um(i,a.deps)){r.memoizedState=Ma(e,n,o,i);return}}Me.flags|=t,r.memoizedState=Ma(1|e,n,o,i)}function Fv(t,e){return Eu(8390656,8,t,e)}function dm(t,e){return Uc(2048,8,t,e)}function N0(t,e){return Uc(4,2,t,e)}function b0(t,e){return Uc(4,4,t,e)}function L0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function O0(t,e,n){return n=n!=null?n.concat([t]):null,Uc(4,4,L0.bind(null,e,t),n)}function fm(){}function M0(t,e){var n=an();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&um(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function D0(t,e){var n=an();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&um(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function B0(t,e,n){return Fr&21?(En(n,e)||(n=WE(),Me.lanes|=n,Ur|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nt=!0),t.memoizedState=n)}function dP(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var i=vd.transition;vd.transition={};try{t(!1),e()}finally{we=n,vd.transition=i}}function j0(){return an().memoizedState}function fP(t,e,n){var i=qi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},F0(t))U0(e,n);else if(n=w0(t,e,n,i),n!==null){var r=St();vn(n,t,i,r),z0(n,e,i)}}function pP(t,e,n){var i=qi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(F0(t))U0(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,n);if(r.hasEagerState=!0,r.eagerState=u,En(u,a)){var h=e.interleaved;h===null?(r.next=r,rm(e)):(r.next=h.next,h.next=r),e.interleaved=r;return}}catch{}finally{}n=w0(t,e,r,i),n!==null&&(r=St(),vn(n,t,i,r),z0(n,e,i))}}function F0(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function U0(t,e){ua=$u=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function z0(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Vp(t,n)}}var Yu={readContext:on,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},mP={readContext:on,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:Fv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Eu(4194308,4,L0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Eu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Eu(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Nn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=fP.bind(null,Me,t),[i.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:jv,useDebugValue:fm,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=jv(!1),e=t[0];return t=dP.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Me,r=Nn();if(Ne){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),ot===null)throw Error(j(349));Fr&30||T0(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Fv(I0.bind(null,i,o,t),[t]),i.flags|=2048,Ma(9,x0.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Nn(),e=ot.identifierPrefix;if(Ne){var n=Xn,i=Jn;n=(i&~(1<<32-_n(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=La++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gP={readContext:on,useCallback:M0,useContext:on,useEffect:dm,useImperativeHandle:O0,useInsertionEffect:N0,useLayoutEffect:b0,useMemo:D0,useReducer:yd,useRef:R0,useState:function(){return yd(Oa)},useDebugValue:fm,useDeferredValue:function(t){var e=an();return B0(e,Je.memoizedState,t)},useTransition:function(){var t=yd(Oa)[0],e=an().memoizedState;return[t,e]},useMutableSource:C0,useSyncExternalStore:S0,useId:j0,unstable_isNewReconciler:!1},_P={readContext:on,useCallback:M0,useContext:on,useEffect:dm,useImperativeHandle:O0,useInsertionEffect:N0,useLayoutEffect:b0,useMemo:D0,useReducer:wd,useRef:R0,useState:function(){return wd(Oa)},useDebugValue:fm,useDeferredValue:function(t){var e=an();return Je===null?e.memoizedState=t:B0(e,Je.memoizedState,t)},useTransition:function(){var t=wd(Oa)[0],e=an().memoizedState;return[t,e]},useMutableSource:C0,useSyncExternalStore:S0,useId:j0,unstable_isNewReconciler:!1};function dn(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Rf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zc={isMounted:function(t){return(t=t._reactInternals)?Jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=St(),r=qi(t),o=ri(i,r);o.payload=e,n!=null&&(o.callback=n),e=Qi(t,o,r),e!==null&&(vn(e,t,r,i),yu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=St(),r=qi(t),o=ri(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Qi(t,o,r),e!==null&&(vn(e,t,r,i),yu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),i=qi(t),r=ri(n,i);r.tag=2,e!=null&&(r.callback=e),e=Qi(t,r,i),e!==null&&(vn(e,t,i,n),yu(e,t,i))}};function Uv(t,e,n,i,r,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ia(n,i)||!Ia(r,o):!0}function W0(t,e,n){var i=!1,r=ir,o=e.contextType;return typeof o=="object"&&o!==null?o=on(o):(r=Ot(e)?Br:vt.current,i=e.contextTypes,o=(i=i!=null)?Qs(t,r):ir),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function zv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&zc.enqueueReplaceState(e,e.state,null)}function Nf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},sm(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=on(o):(o=Ot(e)?Br:vt.current,r.context=Qs(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Rf(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&zc.enqueueReplaceState(r,r.state,null),Gu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Ys(t,e){try{var n="",i=e;do n+=ZI(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function Ed(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vP=typeof WeakMap=="function"?WeakMap:Map;function H0(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Xu||(Xu=!0,Wf=i),bf(t,e)},n}function V0(t,e,n){n=ri(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){bf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){bf(t,e),typeof i!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Wv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new vP;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=bP.bind(null,t,e,n),e.then(t,t))}function Hv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vv(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,Qi(n,e,1))),n.lanes|=1),t)}var yP=fi.ReactCurrentOwner,Nt=!1;function At(t,e,n,i){e.child=t===null?y0(e,null,n,i):qs(e,t.child,n,i)}function Zv(t,e,n,i,r){n=n.render;var o=e.ref;return Fs(e,r),i=cm(t,e,n,i,o,r),n=hm(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ci(t,e,r)):(Ne&&n&&Jp(e),e.flags|=1,At(t,e,i,r),e.child)}function Kv(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!Em(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Z0(t,e,o,i,r)):(t=Tu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ia,n(a,i)&&t.ref===e.ref)return ci(t,e,r)}return e.flags|=1,t=$i(o,i),t.ref=e.ref,t.return=e,e.child=t}function Z0(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(Ia(o,i)&&t.ref===e.ref)if(Nt=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(Nt=!0);else return e.lanes=t.lanes,ci(t,e,r)}return Lf(t,e,n,i,r)}function K0(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Rs,Bt),Bt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Rs,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,ke(Rs,Bt),Bt|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,ke(Rs,Bt),Bt|=i;return At(t,e,r,n),e.child}function Q0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lf(t,e,n,i,r){var o=Ot(n)?Br:vt.current;return o=Qs(e,o),Fs(e,r),n=cm(t,e,n,i,o,r),i=hm(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ci(t,e,r)):(Ne&&i&&Jp(e),e.flags|=1,At(t,e,n,r),e.child)}function Qv(t,e,n,i,r){if(Ot(n)){var o=!0;Hu(e)}else o=!1;if(Fs(e,r),e.stateNode===null)Au(t,e),W0(e,n,i),Nf(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var h=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=on(f):(f=Ot(n)?Br:vt.current,f=Qs(e,f));var g=n.getDerivedStateFromProps,p=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==i||h!==f)&&zv(e,a,i,f),Pi=!1;var v=e.memoizedState;a.state=v,Gu(e,i,a,r),h=e.memoizedState,u!==i||v!==h||Lt.current||Pi?(typeof g=="function"&&(Rf(e,n,g,i),h=e.memoizedState),(u=Pi||Uv(e,n,u,i,v,h,f))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),a.props=i,a.state=h,a.context=f,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,E0(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:dn(e.type,u),a.props=f,p=e.pendingProps,v=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=on(h):(h=Ot(n)?Br:vt.current,h=Qs(e,h));var E=n.getDerivedStateFromProps;(g=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==p||v!==h)&&zv(e,a,i,h),Pi=!1,v=e.memoizedState,a.state=v,Gu(e,i,a,r);var w=e.memoizedState;u!==p||v!==w||Lt.current||Pi?(typeof E=="function"&&(Rf(e,n,E,i),w=e.memoizedState),(f=Pi||Uv(e,n,f,i,v,w,h)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,w,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,w,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=w),a.props=i,a.state=w,a.context=h,i=f):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),i=!1)}return Of(t,e,n,i,o,r)}function Of(t,e,n,i,r,o){Q0(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&bv(e,n,!1),ci(t,e,o);i=e.stateNode,yP.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=qs(e,t.child,null,o),e.child=qs(e,null,u,o)):At(t,e,u,o),e.memoizedState=i.state,r&&bv(e,n,!0),e.child}function G0(t){var e=t.stateNode;e.pendingContext?Nv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nv(t,e.context,!1),om(t,e.containerInfo)}function Gv(t,e,n,i,r){return Gs(),em(r),e.flags|=256,At(t,e,n,i),e.child}var Mf={dehydrated:null,treeContext:null,retryLane:0};function Df(t){return{baseLanes:t,cachePool:null,transitions:null}}function q0(t,e,n){var i=e.pendingProps,r=Oe.current,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ke(Oe,r&1),t===null)return kf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Vc(a,i,0,null),t=Lr(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Df(n),e.memoizedState=Mf,t):pm(e,a));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return wP(t,e,a,i,u,r,n);if(o){o=i.fallback,a=e.mode,r=t.child,u=r.sibling;var h={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=$i(r,h),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?o=$i(u,o):(o=Lr(o,a,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=t.child.memoizedState,a=a===null?Df(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Mf,i}return o=t.child,t=o.sibling,i=$i(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function pm(t,e){return e=Vc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nu(t,e,n,i){return i!==null&&em(i),qs(e,t.child,null,n),t=pm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wP(t,e,n,i,r,o,a){if(n)return e.flags&256?(e.flags&=-257,i=Ed(Error(j(422))),nu(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Vc({mode:"visible",children:i.children},r,0,null),o=Lr(o,r,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&qs(e,t.child,null,a),e.child.memoizedState=Df(a),e.memoizedState=Mf,o);if(!(e.mode&1))return nu(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(j(419)),i=Ed(o,i,void 0),nu(t,e,a,i)}if(u=(a&t.childLanes)!==0,Nt||u){if(i=ot,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,ui(t,r),vn(i,t,r,-1))}return wm(),i=Ed(Error(j(421))),nu(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=LP.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,Ft=Ki(r.nextSibling),Wt=e,Ne=!0,pn=null,t!==null&&(Xt[en++]=Jn,Xt[en++]=Xn,Xt[en++]=jr,Jn=t.id,Xn=t.overflow,jr=e),e=pm(e,i.children),e.flags|=4096,e)}function qv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Pf(t.return,e,n)}function Ad(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function $0(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(At(t,e,i.children,n),i=Oe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qv(t,n,e);else if(t.tag===19)qv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ke(Oe,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&qu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ad(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&qu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ad(e,!0,n,null,o);break;case"together":Ad(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ur|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=$i(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$i(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EP(t,e,n){switch(e.tag){case 3:G0(e),Gs();break;case 5:A0(e);break;case 1:Ot(e.type)&&Hu(e);break;case 4:om(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ke(Ku,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ke(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?q0(t,e,n):(ke(Oe,Oe.current&1),t=ci(t,e,n),t!==null?t.sibling:null);ke(Oe,Oe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return $0(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ke(Oe,Oe.current),i)break;return null;case 22:case 23:return e.lanes=0,K0(t,e,n)}return ci(t,e,n)}var Y0,Bf,J0,X0;Y0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bf=function(){};J0=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Pr(Bn.current);var o=null;switch(n){case"input":r=sf(t,r),i=sf(t,i),o=[];break;case"select":r=De({},r,{value:void 0}),i=De({},i,{value:void 0}),o=[];break;case"textarea":r=lf(t,r),i=lf(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=zu)}cf(n,i);var a;n=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var u=r[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(wa.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var h=i[f];if(u=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&h!==u&&(h!=null||u!=null))if(f==="style")if(u){for(a in u)!u.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&u[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(wa.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&Pe("scroll",t),o||u===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};X0=function(t,e,n,i){n!==i&&(e.flags|=4)};function Wo(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function AP(t,e,n){var i=e.pendingProps;switch(Xp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return Ot(e.type)&&Wu(),gt(e),null;case 3:return i=e.stateNode,$s(),Re(Lt),Re(vt),lm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pn!==null&&(Zf(pn),pn=null))),Bf(t,e),gt(e),null;case 5:am(e);var r=Pr(ba.current);if(n=e.type,t!==null&&e.stateNode!=null)J0(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(j(166));return gt(e),null}if(t=Pr(Bn.current),eu(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[bn]=e,i[Ra]=o,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(r=0;r<ea.length;r++)Pe(ea[r],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":rv(i,o),Pe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Pe("invalid",i);break;case"textarea":ov(i,o),Pe("invalid",i)}cf(n,o),r=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&Xl(i.textContent,u,t),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Xl(i.textContent,u,t),r=["children",""+u]):wa.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Pe("scroll",i)}switch(n){case"input":Zl(i),sv(i,o,!0);break;case"textarea":Zl(i),av(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=zu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[bn]=e,t[Ra]=i,Y0(t,e,!1,!1),e.stateNode=t;e:{switch(a=hf(n,i),n){case"dialog":Pe("cancel",t),Pe("close",t),r=i;break;case"iframe":case"object":case"embed":Pe("load",t),r=i;break;case"video":case"audio":for(r=0;r<ea.length;r++)Pe(ea[r],t);r=i;break;case"source":Pe("error",t),r=i;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),r=i;break;case"details":Pe("toggle",t),r=i;break;case"input":rv(t,i),r=sf(t,i),Pe("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=De({},i,{value:void 0}),Pe("invalid",t);break;case"textarea":ov(t,i),r=lf(t,i),Pe("invalid",t);break;default:r=i}cf(n,r),u=r;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];o==="style"?RE(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&kE(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Ea(t,h):typeof h=="number"&&Ea(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wa.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Pe("scroll",t):h!=null&&jp(t,o,h,a))}switch(n){case"input":Zl(t),sv(t,i,!1);break;case"textarea":Zl(t),av(t);break;case"option":i.value!=null&&t.setAttribute("value",""+nr(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Ms(t,!!i.multiple,o,!1):i.defaultValue!=null&&Ms(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=zu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gt(e),null;case 6:if(t&&e.stateNode!=null)X0(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(j(166));if(n=Pr(ba.current),Pr(Bn.current),eu(e)){if(i=e.stateNode,n=e.memoizedProps,i[bn]=e,(o=i.nodeValue!==n)&&(t=Wt,t!==null))switch(t.tag){case 3:Xl(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xl(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[bn]=e,e.stateNode=i}return gt(e),null;case 13:if(Re(Oe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Ft!==null&&e.mode&1&&!(e.flags&128))_0(),Gs(),e.flags|=98560,o=!1;else if(o=eu(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(j(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(j(317));o[bn]=e}else Gs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),o=!1}else pn!==null&&(Zf(pn),pn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?tt===0&&(tt=3):wm())),e.updateQueue!==null&&(e.flags|=4),gt(e),null);case 4:return $s(),Bf(t,e),t===null&&ka(e.stateNode.containerInfo),gt(e),null;case 10:return im(e.type._context),gt(e),null;case 17:return Ot(e.type)&&Wu(),gt(e),null;case 19:if(Re(Oe),o=e.memoizedState,o===null)return gt(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)Wo(o,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=qu(t),a!==null){for(e.flags|=128,Wo(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Oe,Oe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ve()>Js&&(e.flags|=128,i=!0,Wo(o,!1),e.lanes=4194304)}else{if(!i)if(t=qu(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ne)return gt(e),null}else 2*Ve()-o.renderingStartTime>Js&&n!==1073741824&&(e.flags|=128,i=!0,Wo(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ve(),e.sibling=null,n=Oe.current,ke(Oe,i?n&1|2:n&1),e):(gt(e),null);case 22:case 23:return ym(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Bt&1073741824&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function CP(t,e){switch(Xp(e),e.tag){case 1:return Ot(e.type)&&Wu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $s(),Re(Lt),Re(vt),lm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return am(e),null;case 13:if(Re(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Gs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Oe),null;case 4:return $s(),null;case 10:return im(e.type._context),null;case 22:case 23:return ym(),null;case 24:return null;default:return null}}var iu=!1,_t=!1,SP=typeof WeakSet=="function"?WeakSet:Set,V=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Be(t,e,i)}else n.current=null}function jf(t,e,n){try{n()}catch(i){Be(t,e,i)}}var $v=!1;function TP(t,e){if(Ef=ju,t=r0(),Yp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,u=-1,h=-1,f=0,g=0,p=t,v=null;t:for(;;){for(var E;p!==n||r!==0&&p.nodeType!==3||(u=a+r),p!==o||i!==0&&p.nodeType!==3||(h=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(E=p.firstChild)!==null;)v=p,p=E;for(;;){if(p===t)break t;if(v===n&&++f===r&&(u=a),v===o&&++g===i&&(h=a),(E=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=E}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Af={focusedElem:t,selectionRange:n},ju=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,k=w.memoizedState,C=e.stateNode,A=C.getSnapshotBeforeUpdate(e.elementType===e.type?x:dn(e.type,x),k);C.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(R){Be(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return w=$v,$v=!1,w}function ca(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&jf(e,n,o)}r=r.next}while(r!==i)}}function Wc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Ff(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function eA(t){var e=t.alternate;e!==null&&(t.alternate=null,eA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bn],delete e[Ra],delete e[Tf],delete e[aP],delete e[lP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tA(t){return t.tag===5||t.tag===3||t.tag===4}function Yv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zu));else if(i!==4&&(t=t.child,t!==null))for(Uf(t,e,n),t=t.sibling;t!==null;)Uf(t,e,n),t=t.sibling}function zf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(zf(t,e,n),t=t.sibling;t!==null;)zf(t,e,n),t=t.sibling}var ut=null,fn=!1;function Ti(t,e,n){for(n=n.child;n!==null;)nA(t,e,n),n=n.sibling}function nA(t,e,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(Oc,n)}catch{}switch(n.tag){case 5:_t||Ps(n,e);case 6:var i=ut,r=fn;ut=null,Ti(t,e,n),ut=i,fn=r,ut!==null&&(fn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(fn?(t=ut,n=n.stateNode,t.nodeType===8?md(t.parentNode,n):t.nodeType===1&&md(t,n),Ta(t)):md(ut,n.stateNode));break;case 4:i=ut,r=fn,ut=n.stateNode.containerInfo,fn=!0,Ti(t,e,n),ut=i,fn=r;break;case 0:case 11:case 14:case 15:if(!_t&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&jf(n,e,a),r=r.next}while(r!==i)}Ti(t,e,n);break;case 1:if(!_t&&(Ps(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){Be(n,e,u)}Ti(t,e,n);break;case 21:Ti(t,e,n);break;case 22:n.mode&1?(_t=(i=_t)||n.memoizedState!==null,Ti(t,e,n),_t=i):Ti(t,e,n);break;default:Ti(t,e,n)}}function Jv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SP),e.forEach(function(i){var r=OP.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function hn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:ut=u.stateNode,fn=!1;break e;case 3:ut=u.stateNode.containerInfo,fn=!0;break e;case 4:ut=u.stateNode.containerInfo,fn=!0;break e}u=u.return}if(ut===null)throw Error(j(160));nA(o,a,r),ut=null,fn=!1;var h=r.alternate;h!==null&&(h.return=null),r.return=null}catch(f){Be(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iA(e,t),e=e.sibling}function iA(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(e,t),Rn(t),i&4){try{ca(3,t,t.return),Wc(3,t)}catch(x){Be(t,t.return,x)}try{ca(5,t,t.return)}catch(x){Be(t,t.return,x)}}break;case 1:hn(e,t),Rn(t),i&512&&n!==null&&Ps(n,n.return);break;case 5:if(hn(e,t),Rn(t),i&512&&n!==null&&Ps(n,n.return),t.flags&32){var r=t.stateNode;try{Ea(r,"")}catch(x){Be(t,t.return,x)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&TE(r,o),hf(u,a);var f=hf(u,o);for(a=0;a<h.length;a+=2){var g=h[a],p=h[a+1];g==="style"?RE(r,p):g==="dangerouslySetInnerHTML"?kE(r,p):g==="children"?Ea(r,p):jp(r,g,p,f)}switch(u){case"input":of(r,o);break;case"textarea":xE(r,o);break;case"select":var v=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?Ms(r,!!o.multiple,E,!1):v!==!!o.multiple&&(o.defaultValue!=null?Ms(r,!!o.multiple,o.defaultValue,!0):Ms(r,!!o.multiple,o.multiple?[]:"",!1))}r[Ra]=o}catch(x){Be(t,t.return,x)}}break;case 6:if(hn(e,t),Rn(t),i&4){if(t.stateNode===null)throw Error(j(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(x){Be(t,t.return,x)}}break;case 3:if(hn(e,t),Rn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ta(e.containerInfo)}catch(x){Be(t,t.return,x)}break;case 4:hn(e,t),Rn(t);break;case 13:hn(e,t),Rn(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(_m=Ve())),i&4&&Jv(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(f=_t)||g,hn(e,t),_t=f):hn(e,t),Rn(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!g&&t.mode&1)for(V=t,g=t.child;g!==null;){for(p=V=g;V!==null;){switch(v=V,E=v.child,v.tag){case 0:case 11:case 14:case 15:ca(4,v,v.return);break;case 1:Ps(v,v.return);var w=v.stateNode;if(typeof w.componentWillUnmount=="function"){i=v,n=v.return;try{e=i,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(x){Be(i,n,x)}}break;case 5:Ps(v,v.return);break;case 22:if(v.memoizedState!==null){ey(p);continue}}E!==null?(E.return=v,V=E):ey(p)}g=g.sibling}e:for(g=null,p=t;;){if(p.tag===5){if(g===null){g=p;try{r=p.stateNode,f?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=p.stateNode,h=p.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=PE("display",a))}catch(x){Be(t,t.return,x)}}}else if(p.tag===6){if(g===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(x){Be(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;g===p&&(g=null),p=p.return}g===p&&(g=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:hn(e,t),Rn(t),i&4&&Jv(t);break;case 21:break;default:hn(e,t),Rn(t)}}function Rn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tA(n)){var i=n;break e}n=n.return}throw Error(j(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ea(r,""),i.flags&=-33);var o=Yv(t);zf(t,o,r);break;case 3:case 4:var a=i.stateNode.containerInfo,u=Yv(t);Uf(t,u,a);break;default:throw Error(j(161))}}catch(h){Be(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xP(t,e,n){V=t,rA(t)}function rA(t,e,n){for(var i=(t.mode&1)!==0;V!==null;){var r=V,o=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||iu;if(!a){var u=r.alternate,h=u!==null&&u.memoizedState!==null||_t;u=iu;var f=_t;if(iu=a,(_t=h)&&!f)for(V=r;V!==null;)a=V,h=a.child,a.tag===22&&a.memoizedState!==null?ty(r):h!==null?(h.return=a,V=h):ty(r);for(;o!==null;)V=o,rA(o),o=o.sibling;V=r,iu=u,_t=f}Xv(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,V=o):Xv(t)}}function Xv(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||Wc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!_t)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:dn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Bv(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bv(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var p=g.dehydrated;p!==null&&Ta(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}_t||e.flags&512&&Ff(e)}catch(v){Be(e,e.return,v)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function ey(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function ty(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wc(4,e)}catch(h){Be(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(h){Be(e,r,h)}}var o=e.return;try{Ff(e)}catch(h){Be(e,o,h)}break;case 5:var a=e.return;try{Ff(e)}catch(h){Be(e,a,h)}}}catch(h){Be(e,e.return,h)}if(e===t){V=null;break}var u=e.sibling;if(u!==null){u.return=e.return,V=u;break}V=e.return}}var IP=Math.ceil,Ju=fi.ReactCurrentDispatcher,mm=fi.ReactCurrentOwner,sn=fi.ReactCurrentBatchConfig,pe=0,ot=null,qe=null,ht=0,Bt=0,Rs=ur(0),tt=0,Da=null,Ur=0,Hc=0,gm=0,ha=null,Rt=null,_m=0,Js=1/0,$n=null,Xu=!1,Wf=null,Gi=null,ru=!1,Ui=null,ec=0,da=0,Hf=null,Cu=-1,Su=0;function St(){return pe&6?Ve():Cu!==-1?Cu:Cu=Ve()}function qi(t){return t.mode&1?pe&2&&ht!==0?ht&-ht:cP.transition!==null?(Su===0&&(Su=WE()),Su):(t=we,t!==0||(t=window.event,t=t===void 0?16:qE(t.type)),t):1}function vn(t,e,n,i){if(50<da)throw da=0,Hf=null,Error(j(185));el(t,n,i),(!(pe&2)||t!==ot)&&(t===ot&&(!(pe&2)&&(Hc|=n),tt===4&&Li(t,ht)),Mt(t,i),n===1&&pe===0&&!(e.mode&1)&&(Js=Ve()+500,Fc&&cr()))}function Mt(t,e){var n=t.callbackNode;ck(t,e);var i=Bu(t,t===ot?ht:0);if(i===0)n!==null&&cv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&cv(n),e===1)t.tag===0?uP(ny.bind(null,t)):p0(ny.bind(null,t)),sP(function(){!(pe&6)&&cr()}),n=null;else{switch(HE(i)){case 1:n=Hp;break;case 4:n=UE;break;case 16:n=Du;break;case 536870912:n=zE;break;default:n=Du}n=dA(n,sA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sA(t,e){if(Cu=-1,Su=0,pe&6)throw Error(j(327));var n=t.callbackNode;if(Us()&&t.callbackNode!==n)return null;var i=Bu(t,t===ot?ht:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=tc(t,i);else{e=i;var r=pe;pe|=2;var o=aA();(ot!==t||ht!==e)&&($n=null,Js=Ve()+500,br(t,e));do try{RP();break}catch(u){oA(t,u)}while(!0);nm(),Ju.current=o,pe=r,qe!==null?e=0:(ot=null,ht=0,e=tt)}if(e!==0){if(e===2&&(r=gf(t),r!==0&&(i=r,e=Vf(t,r))),e===1)throw n=Da,br(t,0),Li(t,i),Mt(t,Ve()),n;if(e===6)Li(t,i);else{if(r=t.current.alternate,!(i&30)&&!kP(r)&&(e=tc(t,i),e===2&&(o=gf(t),o!==0&&(i=o,e=Vf(t,o))),e===1))throw n=Da,br(t,0),Li(t,i),Mt(t,Ve()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(j(345));case 2:Ar(t,Rt,$n);break;case 3:if(Li(t,i),(i&130023424)===i&&(e=_m+500-Ve(),10<e)){if(Bu(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){St(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Sf(Ar.bind(null,t,Rt,$n),e);break}Ar(t,Rt,$n);break;case 4:if(Li(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-_n(i);o=1<<a,a=e[a],a>r&&(r=a),i&=~o}if(i=r,i=Ve()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*IP(i/1960))-i,10<i){t.timeoutHandle=Sf(Ar.bind(null,t,Rt,$n),i);break}Ar(t,Rt,$n);break;case 5:Ar(t,Rt,$n);break;default:throw Error(j(329))}}}return Mt(t,Ve()),t.callbackNode===n?sA.bind(null,t):null}function Vf(t,e){var n=ha;return t.current.memoizedState.isDehydrated&&(br(t,e).flags|=256),t=tc(t,e),t!==2&&(e=Rt,Rt=n,e!==null&&Zf(e)),t}function Zf(t){Rt===null?Rt=t:Rt.push.apply(Rt,t)}function kP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!En(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Li(t,e){for(e&=~gm,e&=~Hc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),i=1<<n;t[n]=-1,e&=~i}}function ny(t){if(pe&6)throw Error(j(327));Us();var e=Bu(t,0);if(!(e&1))return Mt(t,Ve()),null;var n=tc(t,e);if(t.tag!==0&&n===2){var i=gf(t);i!==0&&(e=i,n=Vf(t,i))}if(n===1)throw n=Da,br(t,0),Li(t,e),Mt(t,Ve()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ar(t,Rt,$n),Mt(t,Ve()),null}function vm(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(Js=Ve()+500,Fc&&cr())}}function zr(t){Ui!==null&&Ui.tag===0&&!(pe&6)&&Us();var e=pe;pe|=1;var n=sn.transition,i=we;try{if(sn.transition=null,we=1,t)return t()}finally{we=i,sn.transition=n,pe=e,!(pe&6)&&cr()}}function ym(){Bt=Rs.current,Re(Rs)}function br(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rP(n)),qe!==null)for(n=qe.return;n!==null;){var i=n;switch(Xp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Wu();break;case 3:$s(),Re(Lt),Re(vt),lm();break;case 5:am(i);break;case 4:$s();break;case 13:Re(Oe);break;case 19:Re(Oe);break;case 10:im(i.type._context);break;case 22:case 23:ym()}n=n.return}if(ot=t,qe=t=$i(t.current,null),ht=Bt=e,tt=0,Da=null,gm=Hc=Ur=0,Rt=ha=null,kr!==null){for(e=0;e<kr.length;e++)if(n=kr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var a=o.next;o.next=r,i.next=a}n.pending=i}kr=null}return t}function oA(t,e){do{var n=qe;try{if(nm(),wu.current=Yu,$u){for(var i=Me.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}$u=!1}if(Fr=0,rt=Je=Me=null,ua=!1,La=0,mm.current=null,n===null||n.return===null){tt=1,Da=e,qe=null;break}e:{var o=t,a=n.return,u=n,h=e;if(e=ht,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,g=u,p=g.tag;if(!(g.mode&1)&&(p===0||p===11||p===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var E=Hv(a);if(E!==null){E.flags&=-257,Vv(E,a,u,o,e),E.mode&1&&Wv(o,f,e),e=E,h=f;var w=e.updateQueue;if(w===null){var x=new Set;x.add(h),e.updateQueue=x}else w.add(h);break e}else{if(!(e&1)){Wv(o,f,e),wm();break e}h=Error(j(426))}}else if(Ne&&u.mode&1){var k=Hv(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Vv(k,a,u,o,e),em(Ys(h,u));break e}}o=h=Ys(h,u),tt!==4&&(tt=2),ha===null?ha=[o]:ha.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var C=H0(o,h,e);Dv(o,C);break e;case 1:u=h;var A=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Gi===null||!Gi.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var R=V0(o,u,e);Dv(o,R);break e}}o=o.return}while(o!==null)}uA(n)}catch(M){e=M,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function aA(){var t=Ju.current;return Ju.current=Yu,t===null?Yu:t}function wm(){(tt===0||tt===3||tt===2)&&(tt=4),ot===null||!(Ur&268435455)&&!(Hc&268435455)||Li(ot,ht)}function tc(t,e){var n=pe;pe|=2;var i=aA();(ot!==t||ht!==e)&&($n=null,br(t,e));do try{PP();break}catch(r){oA(t,r)}while(!0);if(nm(),pe=n,Ju.current=i,qe!==null)throw Error(j(261));return ot=null,ht=0,tt}function PP(){for(;qe!==null;)lA(qe)}function RP(){for(;qe!==null&&!tk();)lA(qe)}function lA(t){var e=hA(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?uA(t):qe=e,mm.current=null}function uA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CP(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,qe=null;return}}else if(n=AP(n,e,Bt),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);tt===0&&(tt=5)}function Ar(t,e,n){var i=we,r=sn.transition;try{sn.transition=null,we=1,NP(t,e,n,i)}finally{sn.transition=r,we=i}return null}function NP(t,e,n,i){do Us();while(Ui!==null);if(pe&6)throw Error(j(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(hk(t,o),t===ot&&(qe=ot=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ru||(ru=!0,dA(Du,function(){return Us(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sn.transition,sn.transition=null;var a=we;we=1;var u=pe;pe|=4,mm.current=null,TP(t,n),iA(n,t),Yk(Af),ju=!!Ef,Af=Ef=null,t.current=n,xP(n),nk(),pe=u,we=a,sn.transition=o}else t.current=n;if(ru&&(ru=!1,Ui=t,ec=r),o=t.pendingLanes,o===0&&(Gi=null),sk(n.stateNode),Mt(t,Ve()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Xu)throw Xu=!1,t=Wf,Wf=null,t;return ec&1&&t.tag!==0&&Us(),o=t.pendingLanes,o&1?t===Hf?da++:(da=0,Hf=t):da=0,cr(),null}function Us(){if(Ui!==null){var t=HE(ec),e=sn.transition,n=we;try{if(sn.transition=null,we=16>t?16:t,Ui===null)var i=!1;else{if(t=Ui,Ui=null,ec=0,pe&6)throw Error(j(331));var r=pe;for(pe|=4,V=t.current;V!==null;){var o=V,a=o.child;if(V.flags&16){var u=o.deletions;if(u!==null){for(var h=0;h<u.length;h++){var f=u[h];for(V=f;V!==null;){var g=V;switch(g.tag){case 0:case 11:case 15:ca(8,g,o)}var p=g.child;if(p!==null)p.return=g,V=p;else for(;V!==null;){g=V;var v=g.sibling,E=g.return;if(eA(g),g===f){V=null;break}if(v!==null){v.return=E,V=v;break}V=E}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}V=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,V=a;else e:for(;V!==null;){if(o=V,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ca(9,o,o.return)}var C=o.sibling;if(C!==null){C.return=o.return,V=C;break e}V=o.return}}var A=t.current;for(V=A;V!==null;){a=V;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,V=T;else e:for(a=A;V!==null;){if(u=V,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Wc(9,u)}}catch(M){Be(u,u.return,M)}if(u===a){V=null;break e}var R=u.sibling;if(R!==null){R.return=u.return,V=R;break e}V=u.return}}if(pe=r,cr(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(Oc,t)}catch{}i=!0}return i}finally{we=n,sn.transition=e}}return!1}function iy(t,e,n){e=Ys(n,e),e=H0(t,e,1),t=Qi(t,e,1),e=St(),t!==null&&(el(t,1,e),Mt(t,e))}function Be(t,e,n){if(t.tag===3)iy(t,t,n);else for(;e!==null;){if(e.tag===3){iy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Gi===null||!Gi.has(i))){t=Ys(n,t),t=V0(e,t,1),e=Qi(e,t,1),t=St(),e!==null&&(el(e,1,t),Mt(e,t));break}}e=e.return}}function bP(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(ht&n)===n&&(tt===4||tt===3&&(ht&130023424)===ht&&500>Ve()-_m?br(t,0):gm|=n),Mt(t,e)}function cA(t,e){e===0&&(t.mode&1?(e=Gl,Gl<<=1,!(Gl&130023424)&&(Gl=4194304)):e=1);var n=St();t=ui(t,e),t!==null&&(el(t,e,n),Mt(t,n))}function LP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cA(t,n)}function OP(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(j(314))}i!==null&&i.delete(e),cA(t,n)}var hA;hA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lt.current)Nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nt=!1,EP(t,e,n);Nt=!!(t.flags&131072)}else Nt=!1,Ne&&e.flags&1048576&&m0(e,Zu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Au(t,e),t=e.pendingProps;var r=Qs(e,vt.current);Fs(e,n),r=cm(null,e,i,t,r,n);var o=hm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(i)?(o=!0,Hu(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,sm(e),r.updater=zc,e.stateNode=r,r._reactInternals=e,Nf(e,i,t,n),e=Of(null,e,i,!0,o,n)):(e.tag=0,Ne&&o&&Jp(e),At(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Au(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=DP(i),t=dn(i,t),r){case 0:e=Lf(null,e,i,t,n);break e;case 1:e=Qv(null,e,i,t,n);break e;case 11:e=Zv(null,e,i,t,n);break e;case 14:e=Kv(null,e,i,dn(i.type,t),n);break e}throw Error(j(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),Lf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),Qv(t,e,i,r,n);case 3:e:{if(G0(e),t===null)throw Error(j(387));i=e.pendingProps,o=e.memoizedState,r=o.element,E0(t,e),Gu(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Ys(Error(j(423)),e),e=Gv(t,e,i,n,r);break e}else if(i!==r){r=Ys(Error(j(424)),e),e=Gv(t,e,i,n,r);break e}else for(Ft=Ki(e.stateNode.containerInfo.firstChild),Wt=e,Ne=!0,pn=null,n=y0(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gs(),i===r){e=ci(t,e,n);break e}At(t,e,i,n)}e=e.child}return e;case 5:return A0(e),t===null&&kf(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,a=r.children,Cf(i,r)?a=null:o!==null&&Cf(i,o)&&(e.flags|=32),Q0(t,e),At(t,e,a,n),e.child;case 6:return t===null&&kf(e),null;case 13:return q0(t,e,n);case 4:return om(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=qs(e,null,i,n):At(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),Zv(t,e,i,r,n);case 7:return At(t,e,e.pendingProps,n),e.child;case 8:return At(t,e,e.pendingProps.children,n),e.child;case 12:return At(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,ke(Ku,i._currentValue),i._currentValue=a,o!==null)if(En(o.value,a)){if(o.children===r.children&&!Lt.current){e=ci(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var h=u.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=ri(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?h.next=h:(h.next=g.next,g.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),Pf(o.return,n,e),u.lanes|=n;break}h=h.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(j(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Pf(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}At(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Fs(e,n),r=on(r),i=i(r),e.flags|=1,At(t,e,i,n),e.child;case 14:return i=e.type,r=dn(i,e.pendingProps),r=dn(i.type,r),Kv(t,e,i,r,n);case 15:return Z0(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),Au(t,e),e.tag=1,Ot(i)?(t=!0,Hu(e)):t=!1,Fs(e,n),W0(e,i,r),Nf(e,i,r,n),Of(null,e,i,!0,t,n);case 19:return $0(t,e,n);case 22:return K0(t,e,n)}throw Error(j(156,e.tag))};function dA(t,e){return FE(t,e)}function MP(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,i){return new MP(t,e,n,i)}function Em(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DP(t){if(typeof t=="function")return Em(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Up)return 11;if(t===zp)return 14}return 2}function $i(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tu(t,e,n,i,r,o){var a=2;if(i=t,typeof t=="function")Em(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ws:return Lr(n.children,r,o,e);case Fp:a=8,r|=8;break;case ef:return t=nn(12,n,e,r|2),t.elementType=ef,t.lanes=o,t;case tf:return t=nn(13,n,e,r),t.elementType=tf,t.lanes=o,t;case nf:return t=nn(19,n,e,r),t.elementType=nf,t.lanes=o,t;case AE:return Vc(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wE:a=10;break e;case EE:a=9;break e;case Up:a=11;break e;case zp:a=14;break e;case ki:a=16,i=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=nn(a,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function Lr(t,e,n,i){return t=nn(7,t,i,e),t.lanes=n,t}function Vc(t,e,n,i){return t=nn(22,t,i,e),t.elementType=AE,t.lanes=n,t.stateNode={isHidden:!1},t}function Cd(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function Sd(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BP(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rd(0),this.expirationTimes=rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rd(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Am(t,e,n,i,r,o,a,u,h){return t=new BP(t,e,n,u,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=nn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sm(o),t}function jP(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function fA(t){if(!t)return ir;t=t._reactInternals;e:{if(Jr(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(Ot(n))return f0(t,n,e)}return e}function pA(t,e,n,i,r,o,a,u,h){return t=Am(n,i,!0,t,r,o,a,u,h),t.context=fA(null),n=t.current,i=St(),r=qi(n),o=ri(i,r),o.callback=e??null,Qi(n,o,r),t.current.lanes=r,el(t,r,i),Mt(t,i),t}function Zc(t,e,n,i){var r=e.current,o=St(),a=qi(r);return n=fA(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(o,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Qi(r,e,a),t!==null&&(vn(t,r,a,o),yu(t,r,a)),a}function nc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ry(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cm(t,e){ry(t,e),(t=t.alternate)&&ry(t,e)}function FP(){return null}var mA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sm(t){this._internalRoot=t}Kc.prototype.render=Sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Zc(t,e,null,null)};Kc.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zr(function(){Zc(null,t,null,null)}),e[li]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var e=KE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bi.length&&e!==0&&e<bi[n].priority;n++);bi.splice(n,0,t),n===0&&GE(t)}};function Tm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sy(){}function UP(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var f=nc(a);o.call(f)}}var a=pA(e,i,t,0,null,!1,!1,"",sy);return t._reactRootContainer=a,t[li]=a.current,ka(t.nodeType===8?t.parentNode:t),zr(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var f=nc(h);u.call(f)}}var h=Am(t,0,!1,null,null,!1,!1,"",sy);return t._reactRootContainer=h,t[li]=h.current,ka(t.nodeType===8?t.parentNode:t),zr(function(){Zc(e,h,n,i)}),h}function Gc(t,e,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if(typeof r=="function"){var u=r;r=function(){var h=nc(a);u.call(h)}}Zc(e,a,t,r)}else a=UP(n,e,t,r,i);return nc(a)}VE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xo(e.pendingLanes);n!==0&&(Vp(e,n|1),Mt(e,Ve()),!(pe&6)&&(Js=Ve()+500,cr()))}break;case 13:zr(function(){var i=ui(t,1);if(i!==null){var r=St();vn(i,t,1,r)}}),Cm(t,1)}};Zp=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var n=St();vn(e,t,134217728,n)}Cm(t,134217728)}};ZE=function(t){if(t.tag===13){var e=qi(t),n=ui(t,e);if(n!==null){var i=St();vn(n,t,e,i)}Cm(t,e)}};KE=function(){return we};QE=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};ff=function(t,e,n){switch(e){case"input":if(of(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=jc(i);if(!r)throw Error(j(90));SE(i),of(i,r)}}}break;case"textarea":xE(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};LE=vm;OE=zr;var zP={usingClientEntryPoint:!1,Events:[nl,Ss,jc,NE,bE,vm]},Ho={findFiberByHostInstance:Ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WP={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||FP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{Oc=su.inject(WP),Dn=su}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zP;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tm(e))throw Error(j(200));return jP(t,e,null,n)};Zt.createRoot=function(t,e){if(!Tm(t))throw Error(j(299));var n=!1,i="",r=mA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Am(t,1,!1,null,null,n,!1,i,r),t[li]=e.current,ka(t.nodeType===8?t.parentNode:t),new Sm(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=BE(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return zr(t)};Zt.hydrate=function(t,e,n){if(!Qc(e))throw Error(j(200));return Gc(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!Tm(t))throw Error(j(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",a=mA;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=pA(e,null,t,1,n??null,r,!1,o,a),t[li]=e.current,ka(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Kc(e)};Zt.render=function(t,e,n){if(!Qc(e))throw Error(j(200));return Gc(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!Qc(t))throw Error(j(40));return t._reactRootContainer?(zr(function(){Gc(null,null,t,!1,function(){t._reactRootContainer=null,t[li]=null})}),!0):!1};Zt.unstable_batchedUpdates=vm;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Qc(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Gc(t,e,n,!1,i)};Zt.version="18.3.1-next-f1338f8080-20240426";function gA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gA)}catch(t){console.error(t)}}gA(),gE.exports=Zt;var xm=gE.exports;const Ns=bc(xm);var oy=xm;Jd.createRoot=oy.createRoot,Jd.hydrateRoot=oy.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ba.apply(this,arguments)}var zi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zi||(zi={}));const ay="popstate";function HP(t){t===void 0&&(t={});function e(r,o){let{pathname:a="/",search:u="",hash:h=""}=Xr(r.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Kf("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){let a=r.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let h=r.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof o=="string"?o:ic(o))}function i(r,o){Im(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return ZP(e,n,i,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Im(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VP(){return Math.random().toString(36).substr(2,8)}function ly(t,e){return{usr:t.state,key:t.key,idx:e}}function Kf(t,e,n,i){return n===void 0&&(n=null),Ba({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xr(e):e,{state:n,key:e&&e.key||i||VP()})}function ic(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Xr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function ZP(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,a=r.history,u=zi.Pop,h=null,f=g();f==null&&(f=0,a.replaceState(Ba({},a.state,{idx:f}),""));function g(){return(a.state||{idx:null}).idx}function p(){u=zi.Pop;let k=g(),C=k==null?null:k-f;f=k,h&&h({action:u,location:x.location,delta:C})}function v(k,C){u=zi.Push;let A=Kf(x.location,k,C);n&&n(A,k),f=g()+1;let T=ly(A,f),R=x.createHref(A);try{a.pushState(T,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(R)}o&&h&&h({action:u,location:x.location,delta:1})}function E(k,C){u=zi.Replace;let A=Kf(x.location,k,C);n&&n(A,k),f=g();let T=ly(A,f),R=x.createHref(A);a.replaceState(T,"",R),o&&h&&h({action:u,location:x.location,delta:0})}function w(k){let C=r.location.origin!=="null"?r.location.origin:r.location.href,A=typeof k=="string"?k:ic(k);return A=A.replace(/ $/,"%20"),Ze(C,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,C)}let x={get action(){return u},get location(){return t(r,a)},listen(k){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(ay,p),h=k,()=>{r.removeEventListener(ay,p),h=null}},createHref(k){return e(r,k)},createURL:w,encodeLocation(k){let C=w(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:E,go(k){return a.go(k)}};return x}var uy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uy||(uy={}));function KP(t,e,n){return n===void 0&&(n="/"),QP(t,e,n,!1)}function QP(t,e,n,i){let r=typeof e=="string"?Xr(e):e,o=km(r.pathname||"/",n);if(o==null)return null;let a=_A(t);GP(a);let u=null;for(let h=0;u==null&&h<a.length;++h){let f=sR(o);u=iR(a[h],f,i)}return u}function _A(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,a,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};h.relativePath.startsWith("/")&&(Ze(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=Yi([i,h.relativePath]),g=n.concat(h);o.children&&o.children.length>0&&(Ze(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),_A(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:tR(f,o.index),routesMeta:g})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))r(o,a);else for(let h of vA(o.path))r(o,a,h)}),e}function vA(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let a=vA(i.join("/")),u=[];return u.push(...a.map(h=>h===""?o:[o,h].join("/"))),r&&u.push(...a),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function GP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const qP=/^:[\w-]+$/,$P=3,YP=2,JP=1,XP=10,eR=-2,cy=t=>t==="*";function tR(t,e){let n=t.split("/"),i=n.length;return n.some(cy)&&(i+=eR),e&&(i+=YP),n.filter(r=>!cy(r)).reduce((r,o)=>r+(qP.test(o)?$P:o===""?JP:XP),i)}function nR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function iR(t,e,n){let{routesMeta:i}=t,r={},o="/",a=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",p=hy({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),v=h.route;if(!p&&f&&n&&!i[i.length-1].route.index&&(p=hy({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:Yi([o,p.pathname]),pathnameBase:uR(Yi([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=Yi([o,p.pathnameBase]))}return a}function hy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=rR(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,g,p)=>{let{paramName:v,isOptional:E}=g;if(v==="*"){let x=u[p]||"";a=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=u[p];return E&&!w?f[v]=void 0:f[v]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function rR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Im(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function sR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Im(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function km(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function oR(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Xr(t):t;return{pathname:n?n.startsWith("/")?n:aR(n,e):e,search:cR(i),hash:hR(r)}}function aR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Td(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pm(t,e){let n=lR(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Rm(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Xr(t):(r=Ba({},t),Ze(!r.pathname||!r.pathname.includes("?"),Td("?","pathname","search",r)),Ze(!r.pathname||!r.pathname.includes("#"),Td("#","pathname","hash",r)),Ze(!r.search||!r.search.includes("#"),Td("#","search","hash",r)));let o=t===""||r.pathname==="",a=o?"/":r.pathname,u;if(a==null)u=n;else{let p=e.length-1;if(!i&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),p-=1;r.pathname=v.join("/")}u=p>=0?e[p]:"/"}let h=oR(r,u),f=a&&a!=="/"&&a.endsWith("/"),g=(o||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}const Yi=t=>t.join("/").replace(/\/\/+/g,"/"),uR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yA=["post","put","patch","delete"];new Set(yA);const fR=["get",...yA];new Set(fR);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ja(){return ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ja.apply(this,arguments)}const Nm=S.createContext(null),pR=S.createContext(null),hr=S.createContext(null),qc=S.createContext(null),pi=S.createContext({outlet:null,matches:[],isDataRoute:!1}),wA=S.createContext(null);function mR(t,e){let{relative:n}=e===void 0?{}:e;uo()||Ze(!1);let{basename:i,navigator:r}=S.useContext(hr),{hash:o,pathname:a,search:u}=AA(t,{relative:n}),h=a;return i!=="/"&&(h=a==="/"?i:Yi([i,a])),r.createHref({pathname:h,search:u,hash:o})}function uo(){return S.useContext(qc)!=null}function dr(){return uo()||Ze(!1),S.useContext(qc).location}function EA(t){S.useContext(hr).static||S.useLayoutEffect(t)}function es(){let{isDataRoute:t}=S.useContext(pi);return t?PR():gR()}function gR(){uo()||Ze(!1);let t=S.useContext(Nm),{basename:e,future:n,navigator:i}=S.useContext(hr),{matches:r}=S.useContext(pi),{pathname:o}=dr(),a=JSON.stringify(Pm(r,n.v7_relativeSplatPath)),u=S.useRef(!1);return EA(()=>{u.current=!0}),S.useCallback(function(f,g){if(g===void 0&&(g={}),!u.current)return;if(typeof f=="number"){i.go(f);return}let p=Rm(f,JSON.parse(a),o,g.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Yi([e,p.pathname])),(g.replace?i.replace:i.push)(p,g.state,g)},[e,i,a,o,t])}function _R(){let{matches:t}=S.useContext(pi),e=t[t.length-1];return e?e.params:{}}function AA(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=S.useContext(hr),{matches:r}=S.useContext(pi),{pathname:o}=dr(),a=JSON.stringify(Pm(r,i.v7_relativeSplatPath));return S.useMemo(()=>Rm(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function vR(t,e){return yR(t,e)}function yR(t,e,n,i){uo()||Ze(!1);let{navigator:r}=S.useContext(hr),{matches:o}=S.useContext(pi),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let h=a?a.pathnameBase:"/";a&&a.route;let f=dr(),g;if(e){var p;let k=typeof e=="string"?Xr(e):e;h==="/"||(p=k.pathname)!=null&&p.startsWith(h)||Ze(!1),g=k}else g=f;let v=g.pathname||"/",E=v;if(h!=="/"){let k=h.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=KP(t,{pathname:E}),x=SR(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:Yi([h,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Yi([h,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,i);return e&&x?S.createElement(qc.Provider,{value:{location:ja({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:zi.Pop}},x):x}function wR(){let t=kR(),e=dR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:r},n):null,null)}const ER=S.createElement(wR,null);class AR extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(pi.Provider,{value:this.props.routeContext},S.createElement(wA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CR(t){let{routeContext:e,match:n,children:i}=t,r=S.useContext(Nm);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(pi.Provider,{value:e},i)}function SR(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let a=t,u=(r=n)==null?void 0:r.errors;if(u!=null){let g=a.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);g>=0||Ze(!1),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,f=-1;if(n&&i&&i.v7_partialHydration)for(let g=0;g<a.length;g++){let p=a[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=g),p.route.id){let{loaderData:v,errors:E}=n,w=p.route.loader&&v[p.route.id]===void 0&&(!E||E[p.route.id]===void 0);if(p.route.lazy||w){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((g,p,v)=>{let E,w=!1,x=null,k=null;n&&(E=u&&p.route.id?u[p.route.id]:void 0,x=p.route.errorElement||ER,h&&(f<0&&v===0?(w=!0,k=null):f===v&&(w=!0,k=p.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,v+1)),A=()=>{let T;return E?T=x:w?T=k:p.route.Component?T=S.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=g,S.createElement(CR,{match:p,routeContext:{outlet:g,matches:C,isDataRoute:n!=null},children:T})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?S.createElement(AR,{location:n.location,revalidation:n.revalidation,component:x,error:E,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):A()},null)}var CA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(CA||{}),rc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rc||{});function TR(t){let e=S.useContext(Nm);return e||Ze(!1),e}function xR(t){let e=S.useContext(pR);return e||Ze(!1),e}function IR(t){let e=S.useContext(pi);return e||Ze(!1),e}function SA(t){let e=IR(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function kR(){var t;let e=S.useContext(wA),n=xR(rc.UseRouteError),i=SA(rc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function PR(){let{router:t}=TR(CA.UseNavigateStable),e=SA(rc.UseNavigateStable),n=S.useRef(!1);return EA(()=>{n.current=!0}),S.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,ja({fromRouteId:e},o)))},[t,e])}function Ri(t){let{to:e,replace:n,state:i,relative:r}=t;uo()||Ze(!1);let{future:o,static:a}=S.useContext(hr),{matches:u}=S.useContext(pi),{pathname:h}=dr(),f=es(),g=Rm(e,Pm(u,o.v7_relativeSplatPath),h,r==="path"),p=JSON.stringify(g);return S.useEffect(()=>f(JSON.parse(p),{replace:n,state:i,relative:r}),[f,p,r,n,i]),null}function He(t){Ze(!1)}function RR(t){let{basename:e="/",children:n=null,location:i,navigationType:r=zi.Pop,navigator:o,static:a=!1,future:u}=t;uo()&&Ze(!1);let h=e.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:h,navigator:o,static:a,future:ja({v7_relativeSplatPath:!1},u)}),[h,u,o,a]);typeof i=="string"&&(i=Xr(i));let{pathname:g="/",search:p="",hash:v="",state:E=null,key:w="default"}=i,x=S.useMemo(()=>{let k=km(g,h);return k==null?null:{location:{pathname:k,search:p,hash:v,state:E,key:w},navigationType:r}},[h,g,p,v,E,w,r]);return x==null?null:S.createElement(hr.Provider,{value:f},S.createElement(qc.Provider,{children:n,value:x}))}function bm(t){let{children:e,location:n}=t;return vR(Qf(e),n)}new Promise(()=>{});function Qf(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(i,r)=>{if(!S.isValidElement(i))return;let o=[...e,r];if(i.type===S.Fragment){n.push.apply(n,Qf(i.props.children,o));return}i.type!==He&&Ze(!1),!i.props.index||!i.props.children||Ze(!1);let a={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Qf(i.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gf.apply(this,arguments)}function NR(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function bR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LR(t,e){return t.button===0&&(!e||e==="_self")&&!bR(t)}const OR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],MR="6";try{window.__reactRouterVersion=MR}catch{}const DR="startTransition",dy=bI[DR];function BR(t){let{basename:e,children:n,future:i,window:r}=t,o=S.useRef();o.current==null&&(o.current=HP({window:r,v5Compat:!0}));let a=o.current,[u,h]=S.useState({action:a.action,location:a.location}),{v7_startTransition:f}=i||{},g=S.useCallback(p=>{f&&dy?dy(()=>h(p)):h(p)},[h,f]);return S.useLayoutEffect(()=>a.listen(g),[a,g]),S.createElement(RR,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a,future:i})}const jR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=S.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:o,replace:a,state:u,target:h,to:f,preventScrollReset:g,unstable_viewTransition:p}=e,v=NR(e,OR),{basename:E}=S.useContext(hr),w,x=!1;if(typeof f=="string"&&FR.test(f)&&(w=f,jR))try{let T=new URL(window.location.href),R=f.startsWith("//")?new URL(T.protocol+f):new URL(f),M=km(R.pathname,E);R.origin===T.origin&&M!=null?f=M+R.search+R.hash:x=!0}catch{}let k=mR(f,{relative:r}),C=UR(f,{replace:a,state:u,target:h,preventScrollReset:g,relative:r,unstable_viewTransition:p});function A(T){i&&i(T),T.defaultPrevented||C(T)}return S.createElement("a",Gf({},v,{href:w||k,onClick:x||o?i:A,ref:n,target:h}))});var fy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fy||(fy={}));var py;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(py||(py={}));function UR(t,e){let{target:n,replace:i,state:r,preventScrollReset:o,relative:a,unstable_viewTransition:u}=e===void 0?{}:e,h=es(),f=dr(),g=AA(t,{relative:a});return S.useCallback(p=>{if(LR(p,n)){p.preventDefault();let v=i!==void 0?i:ic(f)===ic(g);h(t,{replace:v,state:r,preventScrollReset:o,relative:a,unstable_viewTransition:u})}},[f,h,g,i,r,n,t,o,a,u])}var my={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(t,e){if(!t)throw co(e)},co=function(t){return new Error("Firebase Database ("+TA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},zR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],a=t[n++],u=t[n++],h=((r&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Lm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],a=r+1<t.length,u=a?t[r+1]:0,h=r+2<t.length,f=h?t[r+2]:0,g=o>>2,p=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,E=f&63;h||(E=64,a||(v=64)),i.push(n[g],n[p],n[v],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const p=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||f==null||p==null)throw new WR;const v=o<<2|u>>4;if(i.push(v),f!==64){const E=u<<4&240|f>>2;if(i.push(E),p!==64){const w=f<<6&192|p;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IA=function(t){const e=xA(t);return Lm.encodeByteArray(e,!0)},sc=function(t){return IA(t).replace(/\./g,"")},oc=function(t){try{return Lm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t){return kA(void 0,t)}function kA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!VR(n)||(t[n]=kA(t[n],e[n]));return t}function VR(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=()=>ZR().__FIREBASE_DEFAULTS__,QR=()=>{if(typeof process>"u"||typeof my>"u")return;const t=my.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oc(t[1]);return e&&JSON.parse(e)},Om=()=>{try{return KR()||QR()||GR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PA=t=>{var e,n;return(n=(e=Om())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RA=t=>{const e=PA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},NA=()=>{var t;return(t=Om())===null||t===void 0?void 0:t.config},bA=t=>{var e;return(e=Om())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sc(JSON.stringify(n)),sc(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function qR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $R(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MA(){return TA.NODE_ADMIN===!0}function YR(){try{return typeof indexedDB=="object"}catch{return!1}}function JR(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="FirebaseError";class mi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=XR,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sl.prototype.create)}}class sl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?eN(o,i):"Error",u=`${this.serviceName}: ${a} (${r}).`;return new mi(r,u,i)}}function eN(t,e){return t.replace(tN,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const tN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){return JSON.parse(t)}function et(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=Fa(oc(o[0])||""),n=Fa(oc(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},nN=function(t){const e=DA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},iN=function(t){const e=DA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function qf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ac(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function lc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],a=e[r];if(gy(o)&&gy(a)){if(!lc(o,a))return!1}else if(o!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function gy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ta(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function na(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)i[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)i[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const v=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=(v<<1|v>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],a=this.chain_[2],u=this.chain_[3],h=this.chain_[4],f,g;for(let p=0;p<80;p++){p<40?p<20?(f=u^o&(a^u),g=1518500249):(f=o^a^u,g=1859775393):p<60?(f=o&a|u&(o|a),g=2400959708):(f=o^a^u,g=3395469782);const v=(r<<5|r>>>27)+f+h+g+i[p]&4294967295;h=u,u=a,a=(o<<30|o>>>2)&4294967295,o=r,r=v}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const o=this.buf_;let a=this.inbuf_;for(;r<n;){if(a===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}else for(;r<n;)if(o[a]=e[r],++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function sN(t,e){const n=new oN(t,e);return n.subscribe.bind(n)}class oN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");aN(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=xd),r.error===void 0&&(r.error=xd),r.complete===void 0&&(r.complete=xd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xd(){}function $c(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,z(i<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(i)-56320;r=65536+(o<<10)+a}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Yc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return t&&t._delegate?t._delegate:t}class rr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new rl;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hN(e))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cr){return this.instances.has(e)}getOptions(e=Cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:cN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Cr){return this.component?this.component.multipleInstances?e:Cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cN(t){return t===Cr?void 0:t}function hN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const fN={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},pN=Ee.INFO,mN={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},gN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=mN[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=pN,this._logHandler=gN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const _N=(t,e)=>e.some(n=>t instanceof n);let _y,vy;function vN(){return _y||(_y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yN(){return vy||(vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BA=new WeakMap,$f=new WeakMap,jA=new WeakMap,Id=new WeakMap,Bm=new WeakMap;function wN(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ji(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&BA.set(n,t)}).catch(()=>{}),Bm.set(e,t),e}function EN(t){if($f.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});$f.set(t,e)}let Yf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $f.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AN(t){Yf=t(Yf)}function CN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(kd(this),e,...n);return jA.set(i,e.sort?e.sort():[e]),Ji(i)}:yN().includes(t)?function(...e){return t.apply(kd(this),e),Ji(BA.get(this))}:function(...e){return Ji(t.apply(kd(this),e))}}function SN(t){return typeof t=="function"?CN(t):(t instanceof IDBTransaction&&EN(t),_N(t,vN())?new Proxy(t,Yf):t)}function Ji(t){if(t instanceof IDBRequest)return wN(t);if(Id.has(t))return Id.get(t);const e=SN(t);return e!==t&&(Id.set(t,e),Bm.set(e,t)),e}const kd=t=>Bm.get(t);function TN(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const a=indexedDB.open(t,e),u=Ji(a);return i&&a.addEventListener("upgradeneeded",h=>{i(Ji(a.result),h.oldVersion,h.newVersion,Ji(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const xN=["get","getKey","getAll","getAllKeys","count"],IN=["put","add","delete","clear"],Pd=new Map;function yy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=IN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||xN.includes(n)))return;const o=async function(a,...u){const h=this.transaction(a,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return Pd.set(e,o),o}AN(t=>({...t,get:(e,n,i)=>yy(e,n)||t.get(e,n,i),has:(e,n)=>!!yy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function PN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jf="@firebase/app",wy="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Dm("@firebase/app"),RN="@firebase/app-compat",NN="@firebase/analytics-compat",bN="@firebase/analytics",LN="@firebase/app-check-compat",ON="@firebase/app-check",MN="@firebase/auth",DN="@firebase/auth-compat",BN="@firebase/database",jN="@firebase/database-compat",FN="@firebase/functions",UN="@firebase/functions-compat",zN="@firebase/installations",WN="@firebase/installations-compat",HN="@firebase/messaging",VN="@firebase/messaging-compat",ZN="@firebase/performance",KN="@firebase/performance-compat",QN="@firebase/remote-config",GN="@firebase/remote-config-compat",qN="@firebase/storage",$N="@firebase/storage-compat",YN="@firebase/firestore",JN="@firebase/vertexai-preview",XN="@firebase/firestore-compat",eb="firebase",tb="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="[DEFAULT]",nb={[Jf]:"fire-core",[RN]:"fire-core-compat",[bN]:"fire-analytics",[NN]:"fire-analytics-compat",[ON]:"fire-app-check",[LN]:"fire-app-check-compat",[MN]:"fire-auth",[DN]:"fire-auth-compat",[BN]:"fire-rtdb",[jN]:"fire-rtdb-compat",[FN]:"fire-fn",[UN]:"fire-fn-compat",[zN]:"fire-iid",[WN]:"fire-iid-compat",[HN]:"fire-fcm",[VN]:"fire-fcm-compat",[ZN]:"fire-perf",[KN]:"fire-perf-compat",[QN]:"fire-rc",[GN]:"fire-rc-compat",[qN]:"fire-gcs",[$N]:"fire-gcs-compat",[YN]:"fire-fst",[XN]:"fire-fst-compat",[JN]:"fire-vertex","fire-js":"fire-js",[eb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,ib=new Map,ep=new Map;function Ey(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hr(t){const e=t.name;if(ep.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,t);for(const n of uc.values())Ey(n,t);for(const n of ib.values())Ey(n,t);return!0}function Jc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new sl("app","Firebase",rb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=tb;function FA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Xf,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Xi.create("bad-app-name",{appName:String(r)});if(n||(n=NA()),!n)throw Xi.create("no-options");const o=uc.get(r);if(o){if(lc(n,o.options)&&lc(i,o.config))return o;throw Xi.create("duplicate-app",{appName:r})}const a=new dN(r);for(const h of ep.values())a.addComponent(h);const u=new sb(n,i,a);return uc.set(r,u),u}function jm(t=Xf){const e=uc.get(t);if(!e&&t===Xf&&NA())return FA();if(!e)throw Xi.create("no-app",{appName:t});return e}function jn(t,e,n){var i;let r=(i=nb[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(u.join(" "));return}Hr(new rr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="firebase-heartbeat-database",ab=1,Ua="firebase-heartbeat-store";let Rd=null;function UA(){return Rd||(Rd=TN(ob,ab,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ua)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),Rd}async function lb(t){try{const n=(await UA()).transaction(Ua),i=await n.objectStore(Ua).get(zA(t));return await n.done,i}catch(e){if(e instanceof mi)Wr.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function Ay(t,e){try{const i=(await UA()).transaction(Ua,"readwrite");await i.objectStore(Ua).put(e,zA(t)),await i.done}catch(n){if(n instanceof mi)Wr.warn(n.message);else{const i=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(i.message)}}}function zA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=1024,cb=30*24*60*60*1e3;class hb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fb(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Cy();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=cb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cy(),{heartbeatsToSend:i,unsentEntries:r}=db(this._heartbeatsCache.heartbeats),o=sc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Cy(){return new Date().toISOString().substring(0,10)}function db(t,e=ub){const n=[];let i=t.slice();for(const r of t){const o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),Sy(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Sy(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class fb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YR()?JR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Sy(t){return sc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t){Hr(new rr("platform-logger",e=>new kN(e),"PRIVATE")),Hr(new rr("heartbeat",e=>new hb(e),"PRIVATE")),jn(Jf,wy,t),jn(Jf,wy,"esm2017"),jn("fire-js","")}pb("");function Fm(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function WA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mb=WA,HA=new sl("auth","Firebase",WA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Dm("@firebase/auth");function gb(t,...e){cc.logLevel<=Ee.WARN&&cc.warn(`Auth (${ts}): ${t}`,...e)}function xu(t,...e){cc.logLevel<=Ee.ERROR&&cc.error(`Auth (${ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,...e){throw Um(t,...e)}function Fn(t,...e){return Um(t,...e)}function VA(t,e,n){const i=Object.assign(Object.assign({},mb()),{[e]:n});return new sl("auth","Firebase",i).create(e,{appName:t.name})}function si(t){return VA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Um(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return HA.create(t,...e)}function Y(t,e,...n){if(!t)throw Um(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xu(e),new Error(e)}function hi(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _b(){return Ty()==="http:"||Ty()==="https:"}function Ty(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_b()||qR()||"connection"in navigator)?navigator.onLine:!0}function yb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=Mm()||OA()}get(){return vb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t,e){hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new ol(3e4,6e4);function gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wn(t,e,n,i,r={}){return KA(t,r,async()=>{let o={},a={};i&&(e==="GET"?a=i:o={body:JSON.stringify(i)});const u=ho(Object.assign({key:t.config.apiKey},a)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),ZA.fetch()(QA(t,t.config.apiHost,n,u),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function KA(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},wb),e);try{const r=new Cb(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw ou(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ou(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw ou(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw ou(t,"user-disabled",a);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw VA(t,g,f);An(t,g)}}catch(r){if(r instanceof mi)throw r;An(t,"network-request-failed",{message:String(r)})}}async function al(t,e,n,i,r={}){const o=await Wn(t,e,n,i,r);return"mfaPendingCredential"in o&&An(t,"multi-factor-auth-required",{_serverResponse:o}),o}function QA(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?zm(t.config,r):`${t.config.apiScheme}://${r}`}function Ab(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Fn(this.auth,"network-request-failed")),Eb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ou(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Fn(t,e,i);return r.customData._tokenResponse=n,r}function xy(t){return t!==void 0&&t.enterprise!==void 0}class Sb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ab(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Tb(t,e){return Wn(t,"GET","/v2/recaptchaConfig",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(t,e){return Wn(t,"POST","/v1/accounts:delete",e)}async function GA(t,e){return Wn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ib(t,e=!1){const n=Ke(t),i=await n.getIdToken(e),r=Wm(i);Y(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:fa(Nd(r.auth_time)),issuedAtTime:fa(Nd(r.iat)),expirationTime:fa(Nd(r.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Nd(t){return Number(t)*1e3}function Wm(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{const r=oc(n);return r?JSON.parse(r):(xu("Failed to decode base64 JWT payload"),null)}catch(r){return xu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Iy(t){const e=Wm(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof mi&&kb(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function kb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fa(this.lastLoginAt),this.creationTime=fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await eo(t,GA(n,{idToken:i}));Y(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?qA(o.providerUserInfo):[],u=Nb(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),g=h?f:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,p)}async function Rb(t){const e=Ke(t);await hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nb(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function qA(t){return t.map(e=>{var{providerId:n}=e,i=Fm(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(t,e){const n=await KA(t,{},async()=>{const i=ho({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=QA(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",ZA.fetch()(a,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lb(t,e){return Wn(t,"POST","/v2/accounts:revokeToken",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=Iy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await bb(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new zs;return i&&(Y(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Y(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(Y(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=Fm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new np(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await eo(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ib(this,e)}reload(){return Rb(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await hc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await eo(this,xb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,u,h,f,g;const p=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,x=(u=n.tenantId)!==null&&u!==void 0?u:void 0,k=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,C=(f=n.createdAt)!==null&&f!==void 0?f:void 0,A=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:T,emailVerified:R,isAnonymous:M,providerData:B,stsTokenManager:F}=n;Y(T&&F,e,"internal-error");const W=zs.fromJSON(this.name,F);Y(typeof T=="string",e,"internal-error"),xi(p,e.name),xi(v,e.name),Y(typeof R=="boolean",e,"internal-error"),Y(typeof M=="boolean",e,"internal-error"),xi(E,e.name),xi(w,e.name),xi(x,e.name),xi(k,e.name),xi(C,e.name),xi(A,e.name);const ie=new ti({uid:T,auth:e,email:v,emailVerified:R,displayName:p,isAnonymous:M,photoURL:w,phoneNumber:E,tenantId:x,stsTokenManager:W,createdAt:C,lastLoginAt:A});return B&&Array.isArray(B)&&(ie.providerData=B.map(Q=>Object.assign({},Q))),k&&(ie._redirectEventId=k),ie}static async _fromIdTokenResponse(e,n,i=!1){const r=new zs;r.updateFromServerResponse(n);const o=new ti({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await hc(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Y(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?qA(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),u=new zs;u.updateFromIdToken(i);const h=new ti({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new np(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=new Map;function ni(t){hi(t instanceof Function,"Expected a class definition");let e=ky.get(t);return e?(hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ky.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$A.type="NONE";const Py=$A;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ws{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Iu(this.userKey,r.apiKey,o),this.fullPersistenceKey=Iu("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ws(ni(Py),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||ni(Py);const a=Iu(i,e.config.apiKey,e.name);let u=null;for(const f of n)try{const g=await f._get(a);if(g){const p=ti._fromJSON(e,g);f!==o&&(u=p),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ws(o,e,i):(o=h[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new Ws(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tC(e))return"Blackberry";if(nC(e))return"Webos";if(Hm(e))return"Safari";if((e.includes("chrome/")||JA(e))&&!e.includes("edge/"))return"Chrome";if(eC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function YA(t=yt()){return/firefox\//i.test(t)}function Hm(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JA(t=yt()){return/crios\//i.test(t)}function XA(t=yt()){return/iemobile/i.test(t)}function eC(t=yt()){return/android/i.test(t)}function tC(t=yt()){return/blackberry/i.test(t)}function nC(t=yt()){return/webos/i.test(t)}function Xc(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ob(t=yt()){var e;return Xc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Mb(){return $R()&&document.documentMode===10}function iC(t=yt()){return Xc(t)||eC(t)||nC(t)||tC(t)||/windows phone/i.test(t)||XA(t)}function Db(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t,e=[]){let n;switch(t){case"Browser":n=Ry(yt());break;case"Worker":n=`${Ry(yt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ts}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((a,u)=>{try{const h=e(o);a(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t,e={}){return Wn(t,"GET","/v2/passwordPolicy",gi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=6;class Ub{constructor(e){var n,i,r,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Fb,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ny(this),this.idTokenSubscription=new Ny(this),this.beforeStateQueue=new Bb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Ws.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await GA(this,{idToken:e}),i=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(On(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(si(this));const n=e?Ke(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jb(this),n=new Ub(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Lb(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Ws.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&gb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fr(t){return Ke(t)}class Ny{constructor(e){this.auth=e,this.observer=null,this.addObserver=sN(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wb(t){eh=t}function sC(t){return eh.loadJS(t)}function Hb(){return eh.recaptchaEnterpriseScript}function Vb(){return eh.gapiScript}function Zb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Kb="recaptcha-enterprise",Qb="NO_RECAPTCHA";class Gb{constructor(e){this.type=Kb,this.auth=fr(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{Tb(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new Sb(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(h=>{u(h)})})}function r(o,a,u){const h=window.grecaptcha;xy(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(Qb)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(u=>{if(!n&&xy(window.grecaptcha))r(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Hb();h.length!==0&&(h+=u),sC(h).then(()=>{r(u,o,a)}).catch(f=>{a(f)})}}).catch(u=>{a(u)})})}}async function by(t,e,n,i=!1){const r=new Gb(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function dc(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await by(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await by(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t,e){const n=Jc(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(lc(o,e??{}))return r;An(r,"already-initialized")}return n.initialize({options:e})}function $b(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Yb(t,e,n){const i=fr(t);Y(i._canInitEmulator,i,"emulator-config-failed"),Y(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=oC(e),{host:a,port:u}=Jb(e),h=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${a}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),Xb()}function oC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Jb(t){const e=oC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Ly(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:Ly(a)}}}function Ly(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Xb(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function e1(t,e){return Wn(t,"POST","/v1/accounts:update",e)}async function t1(t,e){return Wn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(t,e){return al(t,"POST","/v1/accounts:signInWithPassword",gi(t,e))}async function i1(t,e){return Wn(t,"POST","/v1/accounts:sendOobCode",gi(t,e))}async function r1(t,e){return i1(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(t,e){return al(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))}async function o1(t,e){return al(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Vm{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new za(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new za(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dc(e,n,"signInWithPassword",n1);case"emailLink":return s1(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dc(e,i,"signUpPassword",t1);case"emailLink":return o1(e,{idToken:n,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(t,e){return al(t,"POST","/v1/accounts:signInWithIdp",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="http://localhost";class Vr extends Vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):An("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=Fm(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Vr(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Hs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Hs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hs(e,n)}buildRequest(){const e={requestUri:a1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ho(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u1(t){const e=ta(na(t)).link,n=e?ta(na(e)).deep_link_id:null,i=ta(na(t)).deep_link_id;return(i?ta(na(i)).link:null)||i||n||e||t}class Zm{constructor(e){var n,i,r,o,a,u;const h=ta(na(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(i=h.oobCode)!==null&&i!==void 0?i:null,p=l1((r=h.mode)!==null&&r!==void 0?r:null);Y(f&&g&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=h.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=u1(e);try{return new Zm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(e,n){return za._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Zm.parseLink(n);return Y(i,"argument-error"),za._fromEmailAndCode(e,i.code,i.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends aC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends ll{constructor(){super("facebook.com")}static credential(e){return Vr._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vr._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Mi.credential(n,i)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends ll{constructor(){super("github.com")}static credential(e){return Vr._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends ll{constructor(){super("twitter.com")}static credential(e,n){return Vr._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Bi.credential(n,i)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(t,e){return al(t,"POST","/v1/accounts:signUp",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await ti._fromIdTokenResponse(e,i,r),a=Oy(i);return new Zr({user:o,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Oy(i);return new Zr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Oy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends mi{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,fc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new fc(e,n,i,r)}}function lC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fc._fromErrorAndOperation(t,o,e,i):o})}async function h1(t,e,n=!1){const i=await eo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(t,e,n=!1){const{auth:i}=t;if(On(i.app))return Promise.reject(si(i));const r="reauthenticate";try{const o=await eo(t,lC(i,r,e,t),n);Y(o.idToken,i,"internal-error");const a=Wm(o.idToken);Y(a,i,"internal-error");const{sub:u}=a;return Y(t.uid===u,i,"user-mismatch"),Zr._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&An(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(t,e,n=!1){if(On(t.app))return Promise.reject(si(t));const i="signIn",r=await lC(t,i,e),o=await Zr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function f1(t,e){return uC(fr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(t){const e=fr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p1(t,e,n){const i=fr(t);await dc(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",r1)}async function m1(t,e,n){if(On(t.app))return Promise.reject(si(t));const i=fr(t),a=await dc(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c1).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&cC(t),h}),u=await Zr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(u.user),u}function g1(t,e,n){return On(t.app)?Promise.reject(si(t)):f1(Ke(t),fo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cC(t),i})}function _1(t,e){return v1(Ke(t),null,e)}async function v1(t,e,n){const{auth:i}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const a=await eo(t,e1(i,o));await t._updateTokensIfNecessary(a,!0)}function y1(t,e,n,i){return Ke(t).onIdTokenChanged(e,n,i)}function w1(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function E1(t,e,n,i){return Ke(t).onAuthStateChanged(e,n,i)}function A1(t){return Ke(t).signOut()}const pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pc,"1"),this.storage.removeItem(pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){const t=yt();return Hm(t)||Xc(t)}const S1=1e3,T1=10;class dC extends hC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=C1()&&Db(),this.fallbackToPolling=iC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,h)=>{this.notifyListeners(a,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Mb()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,T1):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},S1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dC.type="LOCAL";const x1=dC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC extends hC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fC.type="SESSION";const pC=fC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new th(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(a).map(async f=>f(n.origin,o)),h=await I1(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((u,h)=>{const f=Km("",20);r.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function P1(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function R1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N1(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function b1(){return mC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="firebaseLocalStorageDb",L1=1,mc="firebaseLocalStorage",_C="fbase_key";class ul{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nh(t,e){return t.transaction([mc],e?"readwrite":"readonly").objectStore(mc)}function O1(){const t=indexedDB.deleteDatabase(gC);return new ul(t).toPromise()}function ip(){const t=indexedDB.open(gC,L1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(mc,{keyPath:_C})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(mc)?e(i):(i.close(),await O1(),e(await ip()))})})}async function My(t,e,n){const i=nh(t,!0).put({[_C]:e,value:n});return new ul(i).toPromise()}async function M1(t,e){const n=nh(t,!1).get(e),i=await new ul(n).toPromise();return i===void 0?null:i.value}function Dy(t,e){const n=nh(t,!0).delete(e);return new ul(n).toPromise()}const D1=800,B1=3;class vC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>B1)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(b1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await R1(),!this.activeServiceWorker)return;this.sender=new k1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ip();return await My(e,pc,"1"),await Dy(e,pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>My(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>M1(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=nh(r,!1).getAll();return new ul(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vC.type="LOCAL";const j1=vC;new ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t,e){return e?ni(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends Vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U1(t){return uC(t.auth,new Qm(t),t.bypassAuthState)}function z1(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),d1(n,new Qm(t),t.bypassAuthState)}async function W1(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),h1(n,new Qm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U1;case"linkViaPopup":case"linkViaRedirect":return W1;case"reauthViaPopup":case"reauthViaRedirect":return z1;default:An(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new ol(2e3,1e4);class bs extends yC{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H1.get())};e()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="pendingRedirect",ku=new Map;class Z1 extends yC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ku.get(this.auth._key());if(!e){try{const i=await K1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ku.set(this.auth._key(),e)}return this.bypassAuthState||ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K1(t,e){const n=q1(e),i=G1(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function Q1(t,e){ku.set(t._key(),e)}function G1(t){return ni(t._redirectPersistence)}function q1(t){return Iu(V1,t.config.apiKey,t.name)}async function $1(t,e,n=!1){if(On(t.app))return Promise.reject(si(t));const i=fr(t),r=F1(i,e),a=await new Z1(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=10*60*1e3;class J1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!wC(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y1&&this.cachedEventUids.clear(),this.cachedEventUids.has(By(e))}saveEventToCache(e){this.cachedEventUids.add(By(e)),this.lastProcessedEventTime=Date.now()}}function By(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e={}){return Wn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nL=/^https?/;async function iL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eL(t);for(const n of e)try{if(rL(n))return}catch{}An(t,"unauthorized-domain")}function rL(t){const e=tp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!nL.test(n))return!1;if(tL.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new ol(3e4,6e4);function jy(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oL(t){return new Promise((e,n)=>{var i,r,o;function a(){jy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jy(),n(Fn(t,"network-request-failed"))},timeout:sL.get()})}if(!((r=(i=Un().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Un().gapi)===null||o===void 0)&&o.load)a();else{const u=Zb("iframefcb");return Un()[u]=()=>{gapi.load?a():n(Fn(t,"network-request-failed"))},sC(`${Vb()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Pu=null,e})}let Pu=null;function aL(t){return Pu=Pu||oL(t),Pu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new ol(5e3,15e3),uL="__/auth/iframe",cL="emulator/auth/iframe",hL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fL(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zm(e,cL):`https://${t.config.authDomain}/${uL}`,i={apiKey:e.apiKey,appName:t.name,v:ts},r=dL.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${ho(i).slice(1)}`}async function pL(t){const e=await aL(t),n=Un().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:fL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hL,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const a=Fn(t,"network-request-failed"),u=Un().setTimeout(()=>{o(a)},lL.get());function h(){Un().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gL=500,_L=600,vL="_blank",yL="http://localhost";class Fy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wL(t,e,n,i=gL,r=_L){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},mL),{width:i.toString(),height:r.toString(),top:o,left:a}),f=yt().toLowerCase();n&&(u=JA(f)?vL:n),YA(f)&&(e=e||yL,h.scrollbars="yes");const g=Object.entries(h).reduce((v,[E,w])=>`${v}${E}=${w},`,"");if(Ob(f)&&u!=="_self")return EL(e||"",u),new Fy(null);const p=window.open(e||"",u,g);Y(p,t,"popup-blocked");try{p.focus()}catch{}return new Fy(p)}function EL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="__/auth/handler",CL="emulator/auth/handler",SL=encodeURIComponent("fac");async function Uy(t,e,n,i,r,o){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ts,eventId:r};if(e instanceof aC){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",qf(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,p]of Object.entries({}))a[g]=p}if(e instanceof ll){const g=e.getScopes().filter(p=>p!=="");g.length>0&&(a.scopes=g.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await t._getAppCheckToken(),f=h?`#${SL}=${encodeURIComponent(h)}`:"";return`${TL(t)}?${ho(u).slice(1)}${f}`}function TL({config:t}){return t.emulator?zm(t,CL):`https://${t.authDomain}/${AL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="webStorageSupport";class xL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pC,this._completeRedirectFn=$1,this._overrideRedirectResult=Q1}async _openPopup(e,n,i,r){var o;hi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await Uy(e,n,i,tp(),r);return wL(e,a,Km())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await Uy(e,n,i,tp(),r);return P1(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(hi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await pL(e),i=new J1(e);return n.register("authEvent",r=>(Y(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bd,{type:bd},r=>{var o;const a=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[bd];a!==void 0&&n(!!a),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iC()||Hm()||Xc()}}const IL=xL;var zy="@firebase/auth",Wy="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RL(t){Hr(new rr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=i.options;Y(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rC(t)},f=new zb(i,r,o,h);return $b(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Hr(new rr("auth-internal",e=>{const n=fr(e.getProvider("auth").getImmediate());return(i=>new kL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(zy,Wy,PL(t)),jn(zy,Wy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=5*60,bL=bA("authIdTokenMaxAge")||NL;let Hy=null;const LL=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>bL)return;const r=n==null?void 0:n.token;Hy!==r&&(Hy=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Gm(t=jm()){const e=Jc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qb(t,{popupRedirectResolver:IL,persistence:[j1,x1,pC]}),i=bA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const a=LL(o.toString());w1(n,a,()=>a(n.currentUser)),y1(n,u=>a(u))}}const r=PA("auth");return r&&Yb(n,`http://${r}`),n}function OL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Wb({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=Fn("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",OL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RL("Browser");var Vy={};const Zy="@firebase/database",Ky="1.0.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EC="";function ML(t){EC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),et(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Fa(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return zn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new DL(e)}}catch{}return new BL},Rr=AC("localStorage"),jL=AC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Dm("@firebase/database"),FL=function(){let t=1;return function(){return t++}}(),CC=function(t){const e=lN(t),n=new rN;n.update(e);const i=n.digest();return Lm.encodeByteArray(i)},cl=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=cl.apply(null,i):typeof i=="object"?e+=et(i):e+=i,e+=" "}return e};let pa=null,Qy=!0;const UL=function(t,e){z(!e,"Can't turn on custom loggers persistently."),Vs.logLevel=Ee.VERBOSE,pa=Vs.log.bind(Vs)},ct=function(...t){if(Qy===!0&&(Qy=!1,pa===null&&jL.get("logging_enabled")===!0&&UL()),pa){const e=cl.apply(null,t);pa(e)}},hl=function(t){return function(...e){ct(t,...e)}},rp=function(...t){const e="FIREBASE INTERNAL ERROR: "+cl(...t);Vs.error(e)},di=function(...t){const e=`FIREBASE FATAL ERROR: ${cl(...t)}`;throw Vs.error(e),new Error(e)},Tt=function(...t){const e="FIREBASE WARNING: "+cl(...t);Vs.warn(e)},zL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},WL=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},to="[MIN_NAME]",Kr="[MAX_NAME]",ns=function(t,e){if(t===e)return 0;if(t===to||e===Kr)return-1;if(e===to||t===Kr)return 1;{const n=Gy(t),i=Gy(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},HL=function(t,e){return t===e?0:t<e?-1:1},Vo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+et(e))},$m=function(t){if(typeof t!="object"||t===null)return et(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=et(e[i]),n+=":",n+=$m(t[e[i]]);return n+="}",n},SC=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function ft(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const TC=function(t){z(!qm(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,o,a,u,h;t===0?(o=0,a=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=u+i,a=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-i-n))));const f=[];for(h=n;h;h-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(h=e;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(r?1:0),f.reverse();const g=f.join("");let p="";for(h=0;h<64;h+=8){let v=parseInt(g.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),p=p+v}return p.toLowerCase()},VL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ZL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function KL(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const QL=new RegExp("^-?(0*)\\d{1,10}$"),GL=-2147483648,qL=2147483647,Gy=function(t){if(QL.test(t)){const e=Number(t);if(e>=GL&&e<=qL)return e}return null},po=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Tt("Exception was thrown by user callback.",n),e},Math.floor(0))}},$L=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ma=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(e)}}class Ru{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ru.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="5",xC="v",IC="s",kC="r",PC="f",RC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,NC="ls",bC="p",sp="ac",LC="websocket",OC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,i,r,o=!1,a="",u=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Rr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function XL(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function DC(t,e,n){z(typeof e=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let i;if(e===LC)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===OC)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);XL(t)&&(n.ns=t.namespace);const r=[];return ft(n,(o,a)=>{r.push(o+"="+a)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.counters_={}}incrementCounter(e,n=1){zn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return HR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld={},Od={};function Jm(t){const e=t.toString();return Ld[e]||(Ld[e]=new eO),Ld[e]}function tO(t,e){const n=t.toString();return Od[n]||(Od[n]=e()),Od[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&po(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="start",iO="close",rO="pLPCommand",sO="pRTLPCB",BC="id",jC="pw",FC="ser",oO="cb",aO="seg",lO="ts",uO="d",cO="dframe",UC=1870,zC=30,hO=UC-zC,dO=25e3,fO=3e4;class Ls{constructor(e,n,i,r,o,a,u){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hl(e),this.stats_=Jm(n),this.urlFn=h=>(this.appCheckToken&&(h[sp]=this.appCheckToken),DC(n,OC,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new nO(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fO)),WL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xm((...o)=>{const[a,u,h,f,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===qy)this.id=u,this.password=h;else if(a===iO)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const i={};i[qy]="t",i[FC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[oO]=this.scriptTagHolder.uniqueCallbackIdentifier),i[xC]=Ym,this.transportSessionId&&(i[IC]=this.transportSessionId),this.lastSessionId&&(i[NC]=this.lastSessionId),this.applicationId&&(i[bC]=this.applicationId),this.appCheckToken&&(i[sp]=this.appCheckToken),typeof location<"u"&&location.hostname&&RC.test(location.hostname)&&(i[kC]=PC);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ls.forceAllow_=!0}static forceDisallow(){Ls.forceDisallow_=!0}static isAvailable(){return Ls.forceAllow_?!0:!Ls.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!VL()&&!ZL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=IA(n),r=SC(i,hO);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[cO]="t",i[BC]=e,i[jC]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=et(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Xm{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=FL(),window[rO+this.uniqueCallbackIdentifier]=e,window[sO+this.uniqueCallbackIdentifier]=n,this.myIFrame=Xm.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){ct("frame writing exception"),u.stack&&ct(u.stack),ct(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ct("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[BC]=this.myID,e[jC]=this.myPW,e[FC]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zC+i.length<=UC;){const a=this.pendingSegs.shift();i=i+"&"+aO+r+"="+a.seg+"&"+lO+r+"="+a.ts+"&"+uO+r+"="+a.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(dO)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ct("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=16384,mO=45e3;let gc=null;typeof MozWebSocket<"u"?gc=MozWebSocket:typeof WebSocket<"u"&&(gc=WebSocket);class mn{constructor(e,n,i,r,o,a,u){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hl(this.connId),this.stats_=Jm(n),this.connURL=mn.connectionURL_(n,a,u,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,o){const a={};return a[xC]=Ym,typeof location<"u"&&location.hostname&&RC.test(location.hostname)&&(a[kC]=PC),n&&(a[IC]=n),i&&(a[NC]=i),r&&(a[sp]=r),o&&(a[bC]=o),DC(e,LC,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rr.set("previous_websocket_failure",!0);try{let i;MA(),this.mySock=new gc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){mn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&gc!==null&&!mn.forceDisallow_}static previouslyFailed(){return Rr.isInMemoryStorage||Rr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Rr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Fa(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=SC(n,pO);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(mO))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mn.responsesRequiredToBeHealthy=2;mn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ls,mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=mn&&mn.isAvailable();let i=n&&!mn.previouslyFailed();if(e.webSocketOnly&&(n||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[mn];else{const r=this.transports_=[];for(const o of Wa.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);Wa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=6e4,_O=5e3,vO=10*1024,yO=100*1024,Md="t",$y="d",wO="s",Yy="r",EO="e",Jy="o",Xy="a",ew="n",tw="p",AO="h";class CO{constructor(e,n,i,r,o,a,u,h,f,g){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hl("c:"+this.id+":"),this.transportManager_=new Wa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=ma(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>yO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>vO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Md in e){const n=e[Md];n===Xy?this.upgradeIfSecondaryHealthy_():n===Yy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Jy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Vo("t",e),i=Vo("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Xy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ew,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Vo("t",e),i=Vo("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Vo(Md,e);if($y in e){const i=e[$y];if(n===AO){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===ew){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===wO?this.onConnectionShutdown_(i):n===Yy?this.onReset_(i):n===EO?rp("Server Error: "+i):n===Jy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ym!==i&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),ma(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(gO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ma(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_O))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends HC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Mm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new _c}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=32,iw=768;class Ae{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function _e(){return new Ae("")}function oe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function sr(t){return t.pieces_.length-t.pieceNum_}function Ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ae(t.pieces_,e)}function eg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function SO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ha(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function VC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ae(e,0)}function je(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ae)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Ae(n,0)}function ue(t){return t.pieceNum_>=t.pieces_.length}function Ct(t,e){const n=oe(t),i=oe(e);if(n===null)return e;if(n===i)return Ct(Ie(t),Ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function TO(t,e){const n=Ha(t,0),i=Ha(e,0);for(let r=0;r<n.length&&r<i.length;r++){const o=ns(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function tg(t,e){if(sr(t)!==sr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function rn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(sr(t)>sr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class xO{constructor(e,n){this.errorPrefix_=n,this.parts_=Ha(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Yc(this.parts_[i]);ZC(this)}}function IO(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Yc(e),ZC(t)}function kO(t){const e=t.parts_.pop();t.byteLength_-=Yc(e),t.parts_.length>0&&(t.byteLength_-=1)}function ZC(t){if(t.byteLength_>iw)throw new Error(t.errorPrefix_+"has a key path longer than "+iw+" bytes ("+t.byteLength_+").");if(t.parts_.length>nw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nw+") or object contains a cycle "+Sr(t))}function Sr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends HC{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new ng}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=1e3,PO=60*5*1e3,rw=30*1e3,RO=1.3,NO=3e4,bO="server_kill",sw=3;class oi extends WC{constructor(e,n,i,r,o,a,u,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=h,this.id=oi.nextPersistentConnectionId_++,this.log_=hl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zo,this.maxReconnectDelay_=PO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!MA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ng.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&_c.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,o={r,a:e,b:n};this.log_(et(o)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new rl,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const u=a.d;a.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,r){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},a="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(a,o,u=>{const h=u.d,f=u.s;oi.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&zn(e,"w")){const i=Xs(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||iN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=rw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=nN(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const o=r.s,a=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const o={p:e},a="n";r&&(o.q=i,o.t=r),this.sendRequest(a,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{r&&setTimeout(()=>{r(a.s,a.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,o){this.initConnection_();const a={p:n,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+et(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):rp("Unrecognized action received from server: "+et(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>NO&&(this.reconnectDelay_=Zo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+oi.nextConnectionId_++,o=this.lastSessionId;let a=!1,u=null;const h=function(){u?u.close():(a=!0,i())},f=function(p){z(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(p)};this.realtime_={close:h,sendRequest:f};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);a?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new CO(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,E=>{Tt(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(bO)},o))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&Tt(p),h())}}}interrupt(e){ct("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ct("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qf(this.interruptReasons_)&&(this.reconnectDelay_=Zo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>$m(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Ae(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){ct("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=sw&&(this.reconnectDelay_=rw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ct("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=sw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+EC.replace(/\./g,"-")]=1,Mm()?e["framework.cordova"]=1:OA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_c.getInstance().currentlyOnline();return qf(this.interruptReasons_)&&e}}oi.nextPersistentConnectionId_=0;oi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ae(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ae(to,e),r=new ae(to,n);return this.compare(i,r)!==0}minPost(){return ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au;class KC extends ih{static get __EMPTY_NODE(){return au}static set __EMPTY_NODE(e){au=e}compare(e,n){return ns(e.name,n.name)}isDefinedOn(e){throw co("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ae.MIN}maxPost(){return new ae(Kr,au)}makePost(e,n){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new ae(e,au)}toString(){return".key"}}const Zs=new KC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?i(e.key,n):1,r&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class st{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??st.RED,this.left=r??bt.EMPTY_NODE,this.right=o??bt.EMPTY_NODE}copy(e,n,i,r,o){return new st(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return bt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}st.RED=!0;st.BLACK=!1;class LO{copy(e,n,i,r,o){return this}insert(e,n,i){return new st(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class bt{constructor(e,n=bt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new bt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,st.BLACK,null,null))}remove(e){return new bt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,st.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new lu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new lu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new lu(this.root_,null,this.comparator_,!0,e)}}bt.EMPTY_NODE=new LO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t,e){return ns(t.name,e.name)}function ig(t,e){return ns(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op;function MO(t){op=t}const QC=function(t){return typeof t=="number"?"number:"+TC(t):"string:"+t},GC=function(t){if(t.isLeafNode()){const e=t.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zn(e,".sv"),"Priority must be a string or number.")}else z(t===op||t.isEmpty(),"priority of unexpected type.");z(t===op||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ow;class it{constructor(e,n=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),GC(this.priorityNode_)}static set __childrenNodeConstructor(e){ow=e}static get __childrenNodeConstructor(){return ow}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ue(e)?this:oe(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=oe(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(z(i!==".priority"||sr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+QC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=TC(this.value_):e+=this.value_,this.lazyHash_=CC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=it.VALUE_TYPE_ORDER.indexOf(n),o=it.VALUE_TYPE_ORDER.indexOf(i);return z(r>=0,"Unknown leaf type: "+n),z(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qC,$C;function DO(t){qC=t}function BO(t){$C=t}class jO extends ih{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?ns(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(Kr,new it("[PRIORITY-POST]",$C))}makePost(e,n){const i=qC(e);return new ae(n,new it("[PRIORITY-POST]",i))}toString(){return".priority"}}const Fe=new jO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=Math.log(2);class UO{constructor(e){const n=o=>parseInt(Math.log(o)/FO,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vc=function(t,e,n,i){t.sort(e);const r=function(h,f){const g=f-h;let p,v;if(g===0)return null;if(g===1)return p=t[h],v=n?n(p):p,new st(v,p.node,st.BLACK,null,null);{const E=parseInt(g/2,10)+h,w=r(h,E),x=r(E+1,f);return p=t[E],v=n?n(p):p,new st(v,p.node,st.BLACK,w,x)}},o=function(h){let f=null,g=null,p=t.length;const v=function(w,x){const k=p-w,C=p;p-=w;const A=r(k+1,C),T=t[k],R=n?n(T):T;E(new st(R,T.node,x,null,A))},E=function(w){f?(f.left=w,f=w):(g=w,f=w)};for(let w=0;w<h.count;++w){const x=h.nextBitIsOne(),k=Math.pow(2,h.count-(w+1));x?v(k,st.BLACK):(v(k,st.BLACK),v(k,st.RED))}return g},a=new UO(t.length),u=o(a);return new bt(i||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd;const ms={};class ii{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return z(ms&&Fe,"ChildrenNode.ts has not been loaded"),Dd=Dd||new ii({".priority":ms},{".priority":Fe}),Dd}get(e){const n=Xs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof bt?n:null}hasIndex(e){return zn(this.indexSet_,e.toString())}addIndex(e,n){z(e!==Zs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=n.getIterator(ae.Wrap);let a=o.getNext();for(;a;)r=r||e.isDefinedOn(a.node),i.push(a),a=o.getNext();let u;r?u=vc(i,e.getCompare()):u=ms;const h=e.toString(),f=Object.assign({},this.indexSet_);f[h]=e;const g=Object.assign({},this.indexes_);return g[h]=u,new ii(g,f)}addToIndexes(e,n){const i=ac(this.indexes_,(r,o)=>{const a=Xs(this.indexSet_,o);if(z(a,"Missing index implementation for "+o),r===ms)if(a.isDefinedOn(e.node)){const u=[],h=n.getIterator(ae.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&u.push(f),f=h.getNext();return u.push(e),vc(u,a.getCompare())}else return ms;else{const u=n.get(e.name);let h=r;return u&&(h=h.remove(new ae(e.name,u))),h.insert(e,e.node)}});return new ii(i,this.indexSet_)}removeFromIndexes(e,n){const i=ac(this.indexes_,r=>{if(r===ms)return r;{const o=n.get(e.name);return o?r.remove(new ae(e.name,o)):r}});return new ii(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko;class q{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&GC(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ko||(Ko=new q(new bt(ig),null,ii.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ko}updatePriority(e){return this.children_.isEmpty()?this:new q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ko:n}}getChild(e){const n=oe(e);return n===null?this:this.getImmediateChild(n).getChild(Ie(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ae(e,n);let r,o;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const a=r.isEmpty()?Ko:this.priorityNode_;return new q(r,a,o)}}updateChild(e,n){const i=oe(e);if(i===null)return n;{z(oe(e)!==".priority"||sr(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Ie(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,o=!0;if(this.forEachChild(Fe,(a,u)=>{n[a]=u.val(e),i++,o&&q.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):o=!1}),!e&&o&&r<2*i){const a=[];for(const u in n)a[u]=n[u];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+QC(this.getPriority().val())+":"),this.forEachChild(Fe,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":CC(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new ae(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ae(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ae(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,ae.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,ae.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===dl?-1:0}withIndex(e){if(e===Zs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Zs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Fe),r=n.getIterator(Fe);let o=i.getNext(),a=r.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=r.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Zs?null:this.indexMap_.get(e.toString())}}q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class zO extends q{constructor(){super(new bt(ig),q.EMPTY_NODE,ii.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return q.EMPTY_NODE}isEmpty(){return!1}}const dl=new zO;Object.defineProperties(ae,{MIN:{value:new ae(to,q.EMPTY_NODE)},MAX:{value:new ae(Kr,dl)}});KC.__EMPTY_NODE=q.EMPTY_NODE;it.__childrenNodeConstructor=q;MO(dl);BO(dl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=!0;function Xe(t,e=null){if(t===null)return q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new it(n,Xe(e))}if(!(t instanceof Array)&&WO){const n=[];let i=!1;if(ft(t,(a,u)=>{if(a.substring(0,1)!=="."){const h=Xe(u);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new ae(a,h)))}}),n.length===0)return q.EMPTY_NODE;const o=vc(n,OO,a=>a.name,ig);if(i){const a=vc(n,Fe.getCompare());return new q(o,Xe(e),new ii({".priority":a},{".priority":Fe}))}else return new q(o,Xe(e),ii.Default)}else{let n=q.EMPTY_NODE;return ft(t,(i,r)=>{if(zn(t,i)&&i.substring(0,1)!=="."){const o=Xe(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(Xe(e))}}DO(Xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO extends ih{constructor(e){super(),this.indexPath_=e,z(!ue(e)&&oe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?ns(e.name,n.name):o}makePost(e,n){const i=Xe(e),r=q.EMPTY_NODE.updateChild(this.indexPath_,i);return new ae(n,r)}maxPost(){const e=q.EMPTY_NODE.updateChild(this.indexPath_,dl);return new ae(Kr,e)}toString(){return Ha(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO extends ih{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ns(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(e,n){const i=Xe(e);return new ae(n,i)}toString(){return".value"}}const ZO=new VO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t){return{type:"value",snapshotNode:t}}function no(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Va(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Za(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function KO(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this.index_=e}updateChild(e,n,i,r,o,a){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?e.hasChild(n)?a.trackChildChange(Va(n,u)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(no(n,i)):a.trackChildChange(Za(n,i,u))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Fe,(r,o)=>{n.hasChild(r)||i.trackChildChange(Va(r,o))}),n.isLeafNode()||n.forEachChild(Fe,(r,o)=>{if(e.hasChild(r)){const a=e.getImmediateChild(r);a.equals(o)||i.trackChildChange(Za(r,o,a))}else i.trackChildChange(no(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.indexedFilter_=new rg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ka.getStartPost_(e),this.endPost_=Ka.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,a){return this.matches(new ae(n,i))||(i=q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,a)}updateFullNode(e,n,i){n.isLeafNode()&&(n=q.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(q.EMPTY_NODE);const o=this;return n.forEachChild(Fe,(a,u)=>{o.matches(new ae(a,u))||(r=r.updateImmediateChild(a,q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ka(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,a){return this.rangedFilter_.matches(new ae(n,i))||(i=q.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,a):this.fullLimitUpdateChild_(e,n,i,o,a)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=q.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))r=r.updateImmediateChild(u.name,u.node),a++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(q.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let a=0;for(;o.hasNext();){const u=o.getNext();a<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?a++:r=r.updateImmediateChild(u.name,q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let a;if(this.reverse_){const p=this.index_.getCompare();a=(v,E)=>p(E,v)}else a=this.index_.getCompare();const u=e;z(u.numChildren()===this.limit_,"");const h=new ae(n,i),f=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(u.hasChild(n)){const p=u.getImmediateChild(n);let v=r.getChildAfterChild(this.index_,f,this.reverse_);for(;v!=null&&(v.name===n||u.hasChild(v.name));)v=r.getChildAfterChild(this.index_,v,this.reverse_);const E=v==null?1:a(v,h);if(g&&!i.isEmpty()&&E>=0)return o!=null&&o.trackChildChange(Za(n,i,p)),u.updateImmediateChild(n,i);{o!=null&&o.trackChildChange(Va(n,p));const x=u.updateImmediateChild(n,q.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(o!=null&&o.trackChildChange(no(v.name,v.node)),x.updateImmediateChild(v.name,v.node)):x}}else return i.isEmpty()?e:g&&a(f,h)>=0?(o!=null&&(o.trackChildChange(Va(f.name,f.node)),o.trackChildChange(no(n,i))),u.updateImmediateChild(n,i).updateImmediateChild(f.name,q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:to}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const e=new sg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function GO(t){return t.loadsAllData()?new rg(t.getIndex()):t.hasLimit()?new QO(t):new Ka(t)}function aw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Fe?n="$priority":t.index_===ZO?n="$value":t.index_===Zs?n="$key":(z(t.index_ instanceof HO,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=et(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=et(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+et(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=et(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+et(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function lw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Fe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends WC{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=hl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=yc.getListenId_(e,i),u={};this.listens_[a]=u;const h=aw(e._queryParams);this.restRequest_(o+".json",h,(f,g)=>{let p=g;if(f===404&&(p=null,f=null),f===null&&this.onDataUpdate_(o,p,!1,i),Xs(this.listens_,a)===u){let v;f?f===401?v="permission_denied":v="rest_error:"+f:v="ok",r(v,null)}})}unlisten(e,n){const i=yc.getListenId_(e,n);delete this.listens_[i]}get(e){const n=aw(e._queryParams),i=e._path.toString(),r=new rl;return this.restRequest_(i+".json",n,(o,a)=>{let u=a;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ho(n);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&u.readyState===4){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let h=null;if(u.status>=200&&u.status<300){try{h=Fa(u.responseText)}catch{Tt("Failed to parse JSON response for "+a+": "+u.responseText)}i(null,h)}else u.status!==401&&u.status!==404&&Tt("Got unsuccessful REST response for "+a+" Status: "+u.status),i(u.status);i=null}},u.open("GET",a,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.rootNode_=q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(){return{value:null,children:new Map}}function JC(t,e,n){if(ue(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=oe(e);t.children.has(i)||t.children.set(i,wc());const r=t.children.get(i);e=Ie(e),JC(r,e,n)}}function ap(t,e,n){t.value!==null?n(e,t.value):$O(t,(i,r)=>{const o=new Ae(e.toString()+"/"+i);ap(r,o,n)})}function $O(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ft(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=10*1e3,JO=30*1e3,XO=5*60*1e3;class eM{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new YO(e);const i=uw+(JO-uw)*Math.random();ma(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;ft(e,(r,o)=>{o>0&&zn(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),ma(this.reportStats_.bind(this),Math.floor(Math.random()*2*XO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gn||(gn={}));function og(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ag(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=gn.ACK_USER_WRITE,this.source=og()}operationForChild(e){if(ue(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ae(e));return new Ec(_e(),n,this.revert)}}else return z(oe(this.path)===e,"operationForChild called for unrelated child."),new Ec(Ie(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.source=e,this.path=n,this.type=gn.LISTEN_COMPLETE}operationForChild(e){return ue(this.path)?new Qa(this.source,_e()):new Qa(this.source,Ie(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=gn.OVERWRITE}operationForChild(e){return ue(this.path)?new Qr(this.source,_e(),this.snap.getImmediateChild(e)):new Qr(this.source,Ie(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=gn.MERGE}operationForChild(e){if(ue(this.path)){const n=this.children.subtree(new Ae(e));return n.isEmpty()?null:n.value?new Qr(this.source,_e(),n.value):new io(this.source,_e(),n)}else return z(oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new io(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ue(e))return this.isFullyInitialized()&&!this.filtered_;const n=oe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nM(t,e,n,i){const r=[],o=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(KO(a.childName,a.snapshotNode))}),Qo(t,r,"child_removed",e,i,n),Qo(t,r,"child_added",e,i,n),Qo(t,r,"child_moved",o,i,n),Qo(t,r,"child_changed",e,i,n),Qo(t,r,"value",e,i,n),r}function Qo(t,e,n,i,r,o){const a=i.filter(u=>u.type===n);a.sort((u,h)=>rM(t,u,h)),a.forEach(u=>{const h=iM(t,u,o);r.forEach(f=>{f.respondsTo(u.type)&&e.push(f.createEvent(h,t.query_))})})}function iM(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function rM(t,e,n){if(e.childName==null||n.childName==null)throw co("Should only compare child_ events.");const i=new ae(e.childName,e.snapshotNode),r=new ae(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t,e){return{eventCache:t,serverCache:e}}function ga(t,e,n,i){return rh(new or(e,n,i),t.serverCache)}function XC(t,e,n,i){return rh(t.eventCache,new or(e,n,i))}function Ac(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Gr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd;const sM=()=>(Bd||(Bd=new bt(HL)),Bd);class xe{constructor(e,n=sM()){this.value=e,this.children=n}static fromObject(e){let n=new xe(null);return ft(e,(i,r)=>{n=n.set(new Ae(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:_e(),value:this.value};if(ue(e))return null;{const i=oe(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(Ie(e),n);return o!=null?{path:je(new Ae(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ue(e))return this;{const n=oe(e),i=this.children.get(n);return i!==null?i.subtree(Ie(e)):new xe(null)}}set(e,n){if(ue(e))return new xe(n,this.children);{const i=oe(e),o=(this.children.get(i)||new xe(null)).set(Ie(e),n),a=this.children.insert(i,o);return new xe(this.value,a)}}remove(e){if(ue(e))return this.children.isEmpty()?new xe(null):new xe(null,this.children);{const n=oe(e),i=this.children.get(n);if(i){const r=i.remove(Ie(e));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new xe(null):new xe(this.value,o)}else return this}}get(e){if(ue(e))return this.value;{const n=oe(e),i=this.children.get(n);return i?i.get(Ie(e)):null}}setTree(e,n){if(ue(e))return n;{const i=oe(e),o=(this.children.get(i)||new xe(null)).setTree(Ie(e),n);let a;return o.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,o),new xe(this.value,a)}}fold(e){return this.fold_(_e(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(je(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,_e(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(ue(e))return null;{const o=oe(e),a=this.children.get(o);return a?a.findOnPath_(Ie(e),je(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,_e(),n)}foreachOnPath_(e,n,i){if(ue(e))return this;{this.value&&i(n,this.value);const r=oe(e),o=this.children.get(r);return o?o.foreachOnPath_(Ie(e),je(n,r),i):new xe(null)}}foreach(e){this.foreach_(_e(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(je(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.writeTree_=e}static empty(){return new yn(new xe(null))}}function _a(t,e,n){if(ue(e))return new yn(new xe(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const a=Ct(r,e);return o=o.updateChild(a,n),new yn(t.writeTree_.set(r,o))}else{const r=new xe(n),o=t.writeTree_.setTree(e,r);return new yn(o)}}}function lp(t,e,n){let i=t;return ft(n,(r,o)=>{i=_a(i,je(e,r),o)}),i}function cw(t,e){if(ue(e))return yn.empty();{const n=t.writeTree_.setTree(e,new xe(null));return new yn(n)}}function up(t,e){return is(t,e)!=null}function is(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function hw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Fe,(i,r)=>{e.push(new ae(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new ae(i,r.value))}),e}function er(t,e){if(ue(e))return t;{const n=is(t,e);return n!=null?new yn(new xe(n)):new yn(t.writeTree_.subtree(e))}}function cp(t){return t.writeTree_.isEmpty()}function ro(t,e){return eS(_e(),t.writeTree_,e)}function eS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(z(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=eS(je(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(je(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e){return rS(e,t)}function oM(t,e,n,i,r){z(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=_a(t.visibleWrites,e,n)),t.lastWriteId=i}function aM(t,e,n,i){z(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=lp(t.visibleWrites,e,n),t.lastWriteId=i}function lM(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function uM(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);z(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,a=t.allWrites.length-1;for(;r&&a>=0;){const u=t.allWrites[a];u.visible&&(a>=n&&cM(u,i.path)?r=!1:rn(i.path,u.path)&&(o=!0)),a--}if(r){if(o)return hM(t),!0;if(i.snap)t.visibleWrites=cw(t.visibleWrites,i.path);else{const u=i.children;ft(u,h=>{t.visibleWrites=cw(t.visibleWrites,je(i.path,h))})}return!0}else return!1}function cM(t,e){if(t.snap)return rn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&rn(je(t.path,n),e))return!0;return!1}function hM(t){t.visibleWrites=tS(t.allWrites,dM,_e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function dM(t){return t.visible}function tS(t,e,n){let i=yn.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const a=o.path;let u;if(o.snap)rn(n,a)?(u=Ct(n,a),i=_a(i,u,o.snap)):rn(a,n)&&(u=Ct(a,n),i=_a(i,_e(),o.snap.getChild(u)));else if(o.children){if(rn(n,a))u=Ct(n,a),i=lp(i,u,o.children);else if(rn(a,n))if(u=Ct(a,n),ue(u))i=lp(i,_e(),o.children);else{const h=Xs(o.children,oe(u));if(h){const f=h.getChild(Ie(u));i=_a(i,_e(),f)}}}else throw co("WriteRecord should have .snap or .children")}}return i}function nS(t,e,n,i,r){if(!i&&!r){const o=is(t.visibleWrites,e);if(o!=null)return o;{const a=er(t.visibleWrites,e);if(cp(a))return n;if(n==null&&!up(a,_e()))return null;{const u=n||q.EMPTY_NODE;return ro(a,u)}}}else{const o=er(t.visibleWrites,e);if(!r&&cp(o))return n;if(!r&&n==null&&!up(o,_e()))return null;{const a=function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(rn(f.path,e)||rn(e,f.path))},u=tS(t.allWrites,a,e),h=n||q.EMPTY_NODE;return ro(u,h)}}}function fM(t,e,n){let i=q.EMPTY_NODE;const r=is(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Fe,(o,a)=>{i=i.updateImmediateChild(o,a)}),i;if(n){const o=er(t.visibleWrites,e);return n.forEachChild(Fe,(a,u)=>{const h=ro(er(o,new Ae(a)),u);i=i.updateImmediateChild(a,h)}),hw(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const o=er(t.visibleWrites,e);return hw(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function pM(t,e,n,i,r){z(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=je(e,n);if(up(t.visibleWrites,o))return null;{const a=er(t.visibleWrites,o);return cp(a)?r.getChild(n):ro(a,r.getChild(n))}}function mM(t,e,n,i){const r=je(e,n),o=is(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){const a=er(t.visibleWrites,r);return ro(a,i.getNode().getImmediateChild(n))}else return null}function gM(t,e){return is(t.visibleWrites,e)}function _M(t,e,n,i,r,o,a){let u;const h=er(t.visibleWrites,e),f=is(h,_e());if(f!=null)u=f;else if(n!=null)u=ro(h,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){const g=[],p=a.getCompare(),v=o?u.getReverseIteratorFrom(i,a):u.getIteratorFrom(i,a);let E=v.getNext();for(;E&&g.length<r;)p(E,i)!==0&&g.push(E),E=v.getNext();return g}else return[]}function vM(){return{visibleWrites:yn.empty(),allWrites:[],lastWriteId:-1}}function Cc(t,e,n,i){return nS(t.writeTree,t.treePath,e,n,i)}function ug(t,e){return fM(t.writeTree,t.treePath,e)}function dw(t,e,n,i){return pM(t.writeTree,t.treePath,e,n,i)}function Sc(t,e){return gM(t.writeTree,je(t.treePath,e))}function yM(t,e,n,i,r,o){return _M(t.writeTree,t.treePath,e,n,i,r,o)}function cg(t,e,n){return mM(t.writeTree,t.treePath,e,n)}function iS(t,e){return rS(je(t.treePath,e),t.writeTree)}function rS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Za(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Va(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,no(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Za(i,e.snapshotNode,r.oldSnap));else throw co("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const sS=new EM;class hg{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new or(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cg(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gr(this.viewCache_),o=yM(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t){return{filter:t}}function CM(t,e){z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function SM(t,e,n,i,r){const o=new wM;let a,u;if(n.type===gn.OVERWRITE){const f=n;f.source.fromUser?a=hp(t,e,f.path,f.snap,i,r,o):(z(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered()&&!ue(f.path),a=Tc(t,e,f.path,f.snap,i,r,u,o))}else if(n.type===gn.MERGE){const f=n;f.source.fromUser?a=xM(t,e,f.path,f.children,i,r,o):(z(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered(),a=dp(t,e,f.path,f.children,i,r,u,o))}else if(n.type===gn.ACK_USER_WRITE){const f=n;f.revert?a=PM(t,e,f.path,i,r,o):a=IM(t,e,f.path,f.affectedTree,i,r,o)}else if(n.type===gn.LISTEN_COMPLETE)a=kM(t,e,n.path,i,o);else throw co("Unknown operation type: "+n.type);const h=o.getChanges();return TM(e,a,h),{viewCache:a,changes:h}}function TM(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Ac(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(YC(Ac(e)))}}function oS(t,e,n,i,r,o){const a=e.eventCache;if(Sc(i,n)!=null)return e;{let u,h;if(ue(n))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Gr(e),g=f instanceof q?f:q.EMPTY_NODE,p=ug(i,g);u=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{const f=Cc(i,Gr(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=oe(n);if(f===".priority"){z(sr(n)===1,"Can't have a priority with additional path components");const g=a.getNode();h=e.serverCache.getNode();const p=dw(i,n,g,h);p!=null?u=t.filter.updatePriority(g,p):u=a.getNode()}else{const g=Ie(n);let p;if(a.isCompleteForChild(f)){h=e.serverCache.getNode();const v=dw(i,n,a.getNode(),h);v!=null?p=a.getNode().getImmediateChild(f).updateChild(g,v):p=a.getNode().getImmediateChild(f)}else p=cg(i,f,e.serverCache);p!=null?u=t.filter.updateChild(a.getNode(),f,p,g,r,o):u=a.getNode()}}return ga(e,u,a.isFullyInitialized()||ue(n),t.filter.filtersNodes())}}function Tc(t,e,n,i,r,o,a,u){const h=e.serverCache;let f;const g=a?t.filter:t.filter.getIndexedFilter();if(ue(n))f=g.updateFullNode(h.getNode(),i,null);else if(g.filtersNodes()&&!h.isFiltered()){const E=h.getNode().updateChild(n,i);f=g.updateFullNode(h.getNode(),E,null)}else{const E=oe(n);if(!h.isCompleteForPath(n)&&sr(n)>1)return e;const w=Ie(n),k=h.getNode().getImmediateChild(E).updateChild(w,i);E===".priority"?f=g.updatePriority(h.getNode(),k):f=g.updateChild(h.getNode(),E,k,w,sS,null)}const p=XC(e,f,h.isFullyInitialized()||ue(n),g.filtersNodes()),v=new hg(r,p,o);return oS(t,p,n,r,v,u)}function hp(t,e,n,i,r,o,a){const u=e.eventCache;let h,f;const g=new hg(r,e,o);if(ue(n))f=t.filter.updateFullNode(e.eventCache.getNode(),i,a),h=ga(e,f,!0,t.filter.filtersNodes());else{const p=oe(n);if(p===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),i),h=ga(e,f,u.isFullyInitialized(),u.isFiltered());else{const v=Ie(n),E=u.getNode().getImmediateChild(p);let w;if(ue(v))w=i;else{const x=g.getCompleteChild(p);x!=null?eg(v)===".priority"&&x.getChild(VC(v)).isEmpty()?w=x:w=x.updateChild(v,i):w=q.EMPTY_NODE}if(E.equals(w))h=e;else{const x=t.filter.updateChild(u.getNode(),p,w,v,g,a);h=ga(e,x,u.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function fw(t,e){return t.eventCache.isCompleteForChild(e)}function xM(t,e,n,i,r,o,a){let u=e;return i.foreach((h,f)=>{const g=je(n,h);fw(e,oe(g))&&(u=hp(t,u,g,f,r,o,a))}),i.foreach((h,f)=>{const g=je(n,h);fw(e,oe(g))||(u=hp(t,u,g,f,r,o,a))}),u}function pw(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function dp(t,e,n,i,r,o,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;ue(n)?f=i:f=new xe(null).setTree(n,i);const g=e.serverCache.getNode();return f.children.inorderTraversal((p,v)=>{if(g.hasChild(p)){const E=e.serverCache.getNode().getImmediateChild(p),w=pw(t,E,v);h=Tc(t,h,new Ae(p),w,r,o,a,u)}}),f.children.inorderTraversal((p,v)=>{const E=!e.serverCache.isCompleteForChild(p)&&v.value===null;if(!g.hasChild(p)&&!E){const w=e.serverCache.getNode().getImmediateChild(p),x=pw(t,w,v);h=Tc(t,h,new Ae(p),x,r,o,a,u)}}),h}function IM(t,e,n,i,r,o,a){if(Sc(r,n)!=null)return e;const u=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(ue(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return Tc(t,e,n,h.getNode().getChild(n),r,o,u,a);if(ue(n)){let f=new xe(null);return h.getNode().forEachChild(Zs,(g,p)=>{f=f.set(new Ae(g),p)}),dp(t,e,n,f,r,o,u,a)}else return e}else{let f=new xe(null);return i.foreach((g,p)=>{const v=je(n,g);h.isCompleteForPath(v)&&(f=f.set(g,h.getNode().getChild(v)))}),dp(t,e,n,f,r,o,u,a)}}function kM(t,e,n,i,r){const o=e.serverCache,a=XC(e,o.getNode(),o.isFullyInitialized()||ue(n),o.isFiltered());return oS(t,a,n,i,sS,r)}function PM(t,e,n,i,r,o){let a;if(Sc(i,n)!=null)return e;{const u=new hg(i,e,r),h=e.eventCache.getNode();let f;if(ue(n)||oe(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Cc(i,Gr(e));else{const p=e.serverCache.getNode();z(p instanceof q,"serverChildren would be complete if leaf node"),g=ug(i,p)}g=g,f=t.filter.updateFullNode(h,g,o)}else{const g=oe(n);let p=cg(i,g,e.serverCache);p==null&&e.serverCache.isCompleteForChild(g)&&(p=h.getImmediateChild(g)),p!=null?f=t.filter.updateChild(h,g,p,Ie(n),u,o):e.eventCache.getNode().hasChild(g)?f=t.filter.updateChild(h,g,q.EMPTY_NODE,Ie(n),u,o):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Cc(i,Gr(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,o)))}return a=e.serverCache.isFullyInitialized()||Sc(i,_e())!=null,ga(e,f,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new rg(i.getIndex()),o=GO(i);this.processor_=AM(o);const a=n.serverCache,u=n.eventCache,h=r.updateFullNode(q.EMPTY_NODE,a.getNode(),null),f=o.updateFullNode(q.EMPTY_NODE,u.getNode(),null),g=new or(h,a.isFullyInitialized(),r.filtersNodes()),p=new or(f,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=rh(p,g),this.eventGenerator_=new tM(this.query_)}get query(){return this.query_}}function NM(t){return t.viewCache_.serverCache.getNode()}function bM(t){return Ac(t.viewCache_)}function LM(t,e){const n=Gr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ue(e)&&!n.getImmediateChild(oe(e)).isEmpty())?n.getChild(e):null}function mw(t){return t.eventRegistrations_.length===0}function OM(t,e){t.eventRegistrations_.push(e)}function gw(t,e,n){const i=[];if(n){z(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(n,r);a&&i.push(a)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){const a=t.eventRegistrations_[o];if(!a.matches(e))r.push(a);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function _w(t,e,n,i){e.type===gn.MERGE&&e.source.queryId!==null&&(z(Gr(t.viewCache_),"We should always have a full cache before handling merges"),z(Ac(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=SM(t.processor_,r,e,n,i);return CM(t.processor_,o.viewCache),z(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,aS(t,o.changes,o.viewCache.eventCache.getNode(),null)}function MM(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Fe,(o,a)=>{i.push(no(o,a))}),n.isFullyInitialized()&&i.push(YC(n.getNode())),aS(t,i,n.getNode(),e)}function aS(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return nM(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc;class lS{constructor(){this.views=new Map}}function DM(t){z(!xc,"__referenceConstructor has already been defined"),xc=t}function BM(){return z(xc,"Reference.ts has not been loaded"),xc}function jM(t){return t.views.size===0}function dg(t,e,n,i){const r=e.source.queryId;if(r!==null){const o=t.views.get(r);return z(o!=null,"SyncTree gave us an op for an invalid query."),_w(o,e,n,i)}else{let o=[];for(const a of t.views.values())o=o.concat(_w(a,e,n,i));return o}}function uS(t,e,n,i,r){const o=e._queryIdentifier,a=t.views.get(o);if(!a){let u=Cc(n,r?i:null),h=!1;u?h=!0:i instanceof q?(u=ug(n,i),h=!1):(u=q.EMPTY_NODE,h=!1);const f=rh(new or(u,h,!1),new or(i,r,!1));return new RM(e,f)}return a}function FM(t,e,n,i,r,o){const a=uS(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),OM(a,n),MM(a,n)}function UM(t,e,n,i){const r=e._queryIdentifier,o=[];let a=[];const u=ar(t);if(r==="default")for(const[h,f]of t.views.entries())a=a.concat(gw(f,n,i)),mw(f)&&(t.views.delete(h),f.query._queryParams.loadsAllData()||o.push(f.query));else{const h=t.views.get(r);h&&(a=a.concat(gw(h,n,i)),mw(h)&&(t.views.delete(r),h.query._queryParams.loadsAllData()||o.push(h.query)))}return u&&!ar(t)&&o.push(new(BM())(e._repo,e._path)),{removed:o,events:a}}function cS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function tr(t,e){let n=null;for(const i of t.views.values())n=n||LM(i,e);return n}function hS(t,e){if(e._queryParams.loadsAllData())return oh(t);{const i=e._queryIdentifier;return t.views.get(i)}}function dS(t,e){return hS(t,e)!=null}function ar(t){return oh(t)!=null}function oh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;function zM(t){z(!Ic,"__referenceConstructor has already been defined"),Ic=t}function WM(){return z(Ic,"Reference.ts has not been loaded"),Ic}let HM=1;class vw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xe(null),this.pendingWriteTree_=vM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fS(t,e,n,i,r){return oM(t.pendingWriteTree_,e,n,i,r),r?mo(t,new Qr(og(),e,n)):[]}function VM(t,e,n,i){aM(t.pendingWriteTree_,e,n,i);const r=xe.fromObject(n);return mo(t,new io(og(),e,r))}function Wi(t,e,n=!1){const i=lM(t.pendingWriteTree_,e);if(uM(t.pendingWriteTree_,e)){let o=new xe(null);return i.snap!=null?o=o.set(_e(),!0):ft(i.children,a=>{o=o.set(new Ae(a),!0)}),mo(t,new Ec(i.path,o,n))}else return[]}function fl(t,e,n){return mo(t,new Qr(ag(),e,n))}function ZM(t,e,n){const i=xe.fromObject(n);return mo(t,new io(ag(),e,i))}function KM(t,e){return mo(t,new Qa(ag(),e))}function QM(t,e,n){const i=pg(t,n);if(i){const r=mg(i),o=r.path,a=r.queryId,u=Ct(o,e),h=new Qa(lg(a),u);return gg(t,o,h)}else return[]}function kc(t,e,n,i,r=!1){const o=e._path,a=t.syncPointTree_.get(o);let u=[];if(a&&(e._queryIdentifier==="default"||dS(a,e))){const h=UM(a,e,n,i);jM(a)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const f=h.removed;if(u=h.events,!r){const g=f.findIndex(v=>v._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(o,(v,E)=>ar(E));if(g&&!p){const v=t.syncPointTree_.subtree(o);if(!v.isEmpty()){const E=$M(v);for(let w=0;w<E.length;++w){const x=E[w],k=x.query,C=_S(t,x);t.listenProvider_.startListening(va(k),Ga(t,k),C.hashFn,C.onComplete)}}}!p&&f.length>0&&!i&&(g?t.listenProvider_.stopListening(va(e),null):f.forEach(v=>{const E=t.queryToTagMap.get(ah(v));t.listenProvider_.stopListening(va(v),E)}))}YM(t,f)}return u}function pS(t,e,n,i){const r=pg(t,i);if(r!=null){const o=mg(r),a=o.path,u=o.queryId,h=Ct(a,e),f=new Qr(lg(u),h,n);return gg(t,a,f)}else return[]}function GM(t,e,n,i){const r=pg(t,i);if(r){const o=mg(r),a=o.path,u=o.queryId,h=Ct(a,e),f=xe.fromObject(n),g=new io(lg(u),h,f);return gg(t,a,g)}else return[]}function fp(t,e,n,i=!1){const r=e._path;let o=null,a=!1;t.syncPointTree_.foreachOnPath(r,(v,E)=>{const w=Ct(v,r);o=o||tr(E,w),a=a||ar(E)});let u=t.syncPointTree_.get(r);u?(a=a||ar(u),o=o||tr(u,_e())):(u=new lS,t.syncPointTree_=t.syncPointTree_.set(r,u));let h;o!=null?h=!0:(h=!1,o=q.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((E,w)=>{const x=tr(w,_e());x&&(o=o.updateImmediateChild(E,x))}));const f=dS(u,e);if(!f&&!e._queryParams.loadsAllData()){const v=ah(e);z(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const E=JM();t.queryToTagMap.set(v,E),t.tagToQueryMap.set(E,v)}const g=sh(t.pendingWriteTree_,r);let p=FM(u,e,n,g,o,h);if(!f&&!a&&!i){const v=hS(u,e);p=p.concat(XM(t,e,v))}return p}function fg(t,e,n){const r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(a,u)=>{const h=Ct(a,e),f=tr(u,h);if(f)return f});return nS(r,e,o,n,!0)}function qM(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(f,g)=>{const p=Ct(f,n);i=i||tr(g,p)});let r=t.syncPointTree_.get(n);r?i=i||tr(r,_e()):(r=new lS,t.syncPointTree_=t.syncPointTree_.set(n,r));const o=i!=null,a=o?new or(i,!0,!1):null,u=sh(t.pendingWriteTree_,e._path),h=uS(r,e,u,o?a.getNode():q.EMPTY_NODE,o);return bM(h)}function mo(t,e){return mS(e,t.syncPointTree_,null,sh(t.pendingWriteTree_,_e()))}function mS(t,e,n,i){if(ue(t.path))return gS(t,e,n,i);{const r=e.get(_e());n==null&&r!=null&&(n=tr(r,_e()));let o=[];const a=oe(t.path),u=t.operationForChild(a),h=e.children.get(a);if(h&&u){const f=n?n.getImmediateChild(a):null,g=iS(i,a);o=o.concat(mS(u,h,f,g))}return r&&(o=o.concat(dg(r,t,i,n))),o}}function gS(t,e,n,i){const r=e.get(_e());n==null&&r!=null&&(n=tr(r,_e()));let o=[];return e.children.inorderTraversal((a,u)=>{const h=n?n.getImmediateChild(a):null,f=iS(i,a),g=t.operationForChild(a);g&&(o=o.concat(gS(g,u,h,f)))}),r&&(o=o.concat(dg(r,t,i,n))),o}function _S(t,e){const n=e.query,i=Ga(t,n);return{hashFn:()=>(NM(e)||q.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?QM(t,n._path,i):KM(t,n._path);{const o=KL(r,n);return kc(t,n,null,o)}}}}function Ga(t,e){const n=ah(e);return t.queryToTagMap.get(n)}function ah(t){return t._path.toString()+"$"+t._queryIdentifier}function pg(t,e){return t.tagToQueryMap.get(e)}function mg(t){const e=t.indexOf("$");return z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ae(t.substr(0,e))}}function gg(t,e,n){const i=t.syncPointTree_.get(e);z(i,"Missing sync point for query tag that we're tracking");const r=sh(t.pendingWriteTree_,e);return dg(i,n,r,null)}function $M(t){return t.fold((e,n,i)=>{if(n&&ar(n))return[oh(n)];{let r=[];return n&&(r=cS(n)),ft(i,(o,a)=>{r=r.concat(a)}),r}})}function va(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(WM())(t._repo,t._path):t}function YM(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=ah(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function JM(){return HM++}function XM(t,e,n){const i=e._path,r=Ga(t,e),o=_S(t,n),a=t.listenProvider_.startListening(va(e),r,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(i);if(r)z(!ar(u.value),"If we're adding a query, it shouldn't be shadowed");else{const h=u.fold((f,g,p)=>{if(!ue(f)&&g&&ar(g))return[oh(g).query];{let v=[];return g&&(v=v.concat(cS(g).map(E=>E.query))),ft(p,(E,w)=>{v=v.concat(w)}),v}});for(let f=0;f<h.length;++f){const g=h[f];t.listenProvider_.stopListening(va(g),Ga(t,g))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _g(n)}node(){return this.node_}}class vg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=je(this.path_,e);return new vg(this.syncTree_,n)}node(){return fg(this.syncTree_,this.path_)}}const eD=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},yw=function(t,e,n){if(!t||typeof t!="object")return t;if(z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return tD(t[".sv"],e,n);if(typeof t[".sv"]=="object")return nD(t[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},tD=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+t)}},nD=function(t,e,n){t.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&z(!1,"Unexpected increment value: "+i);const r=e.node();if(z(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return typeof a!="number"?i:a+i},vS=function(t,e,n,i){return yg(e,new vg(n,t),i)},yS=function(t,e,n){return yg(t,new _g(e),n)};function yg(t,e,n){const i=t.getPriority().val(),r=yw(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const a=t,u=yw(a.getValue(),e,n);return u!==a.getValue()||r!==a.getPriority().val()?new it(u,Xe(r)):t}else{const a=t;return o=a,r!==a.getPriority().val()&&(o=o.updatePriority(new it(r))),a.forEachChild(Fe,(u,h)=>{const f=yg(h,e.getImmediateChild(u),n);f!==h&&(o=o.updateImmediateChild(u,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Eg(t,e){let n=e instanceof Ae?e:new Ae(e),i=t,r=oe(n);for(;r!==null;){const o=Xs(i.node.children,r)||{children:{},childCount:0};i=new wg(r,i,o),n=Ie(n),r=oe(n)}return i}function go(t){return t.node.value}function wS(t,e){t.node.value=e,pp(t)}function ES(t){return t.node.childCount>0}function iD(t){return go(t)===void 0&&!ES(t)}function lh(t,e){ft(t.node.children,(n,i)=>{e(new wg(n,t,i))})}function AS(t,e,n,i){n&&!i&&e(t),lh(t,r=>{AS(r,e,!0,i)}),n&&i&&e(t)}function rD(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function pl(t){return new Ae(t.parent===null?t.name:pl(t.parent)+"/"+t.name)}function pp(t){t.parent!==null&&sD(t.parent,t.name,t)}function sD(t,e,n){const i=iD(n),r=zn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,pp(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,pp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=/[\[\].#$\/\u0000-\u001F\u007F]/,aD=/[\[\].#$\u0000-\u001F\u007F]/,jd=10*1024*1024,Ag=function(t){return typeof t=="string"&&t.length!==0&&!oD.test(t)},CS=function(t){return typeof t=="string"&&t.length!==0&&!aD.test(t)},lD=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),CS(t)},uD=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!qm(t)||t&&typeof t=="object"&&zn(t,".sv")},SS=function(t,e,n,i){i&&e===void 0||uh($c(t,"value"),e,n)},uh=function(t,e,n){const i=n instanceof Ae?new xO(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Sr(i));if(typeof e=="function")throw new Error(t+"contains a function "+Sr(i)+" with contents = "+e.toString());if(qm(e))throw new Error(t+"contains "+e.toString()+" "+Sr(i));if(typeof e=="string"&&e.length>jd/3&&Yc(e)>jd)throw new Error(t+"contains a string greater than "+jd+" utf8 bytes "+Sr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(ft(e,(a,u)=>{if(a===".value")r=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!Ag(a)))throw new Error(t+" contains an invalid key ("+a+") "+Sr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);IO(i,a),uh(t,u,i),kO(i)}),r&&o)throw new Error(t+' contains ".value" child '+Sr(i)+" in addition to actual children.")}},cD=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const o=Ha(i);for(let a=0;a<o.length;a++)if(!(o[a]===".priority"&&a===o.length-1)){if(!Ag(o[a]))throw new Error(t+"contains an invalid key ("+o[a]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(TO);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&rn(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},hD=function(t,e,n,i){const r=$c(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];ft(e,(a,u)=>{const h=new Ae(a);if(uh(r,u,je(n,h)),eg(h)===".priority"&&!uD(u))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),cD(r,o)},TS=function(t,e,n,i){if(!CS(n))throw new Error($c(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dD=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),TS(t,e,n)},Cg=function(t,e){if(oe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},fD=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ag(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!lD(n))throw new Error($c(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ch(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();n!==null&&!tg(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function xS(t,e,n){ch(t,n),IS(t,i=>tg(i,e))}function ln(t,e,n){ch(t,n),IS(t,i=>rn(i,e)||rn(e,i))}function IS(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const o=r.path;e(o)?(mD(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function mD(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();pa&&ct("event: "+n.toString()),po(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="repo_interrupt",_D=25;class vD{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wc(),this.transactionQueueTree_=new wg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yD(t,e,n){if(t.stats_=Jm(t.repoInfo_),t.forceRestClient_||$L())t.server_=new yc(t.repoInfo_,(i,r,o,a)=>{ww(t,i,r,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ew(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{et(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new oi(t.repoInfo_,e,(i,r,o,a)=>{ww(t,i,r,o,a)},i=>{Ew(t,i)},i=>{wD(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=tO(t.repoInfo_,()=>new eM(t.stats_,t.server_)),t.infoData_=new qO,t.infoSyncTree_=new vw({startListening:(i,r,o,a)=>{let u=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(u=fl(t.infoSyncTree_,i._path,h),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),Sg(t,"connected",!1),t.serverSyncTree_=new vw({startListening:(i,r,o,a)=>(t.server_.listen(i,o,r,(u,h)=>{const f=a(u,h);ln(t.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function kS(t){const n=t.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function hh(t){return eD({timestamp:kS(t)})}function ww(t,e,n,i,r){t.dataUpdateCount++;const o=new Ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(r)if(i){const h=ac(n,f=>Xe(f));a=GM(t.serverSyncTree_,o,h,r)}else{const h=Xe(n);a=pS(t.serverSyncTree_,o,h,r)}else if(i){const h=ac(n,f=>Xe(f));a=ZM(t.serverSyncTree_,o,h)}else{const h=Xe(n);a=fl(t.serverSyncTree_,o,h)}let u=o;a.length>0&&(u=so(t,o)),ln(t.eventQueue_,u,a)}function Ew(t,e){Sg(t,"connected",e),e===!1&&SD(t)}function wD(t,e){ft(e,(n,i)=>{Sg(t,n,i)})}function Sg(t,e,n){const i=new Ae("/.info/"+e),r=Xe(n);t.infoData_.updateSnapshot(i,r);const o=fl(t.infoSyncTree_,i,r);ln(t.eventQueue_,i,o)}function Tg(t){return t.nextWriteId_++}function ED(t,e,n){const i=qM(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const o=Xe(r).withIndex(e._queryParams.getIndex());fp(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=fl(t.serverSyncTree_,e._path,o);else{const u=Ga(t.serverSyncTree_,e);a=pS(t.serverSyncTree_,e._path,o,u)}return ln(t.eventQueue_,e._path,a),kc(t.serverSyncTree_,e,n,null,!0),o},r=>(ml(t,"get for query "+et(e)+" failed: "+r),Promise.reject(new Error(r))))}function AD(t,e,n,i,r){ml(t,"set",{path:e.toString(),value:n,priority:i});const o=hh(t),a=Xe(n,i),u=fg(t.serverSyncTree_,e),h=yS(a,u,o),f=Tg(t),g=fS(t.serverSyncTree_,e,h,f,!0);ch(t.eventQueue_,g),t.server_.put(e.toString(),a.val(!0),(v,E)=>{const w=v==="ok";w||Tt("set at "+e+" failed: "+v);const x=Wi(t.serverSyncTree_,f,!w);ln(t.eventQueue_,e,x),mp(t,r,v,E)});const p=Ig(t,e);so(t,p),ln(t.eventQueue_,p,[])}function CD(t,e,n,i){ml(t,"update",{path:e.toString(),value:n});let r=!0;const o=hh(t),a={};if(ft(n,(u,h)=>{r=!1,a[u]=vS(je(e,u),Xe(h),t.serverSyncTree_,o)}),r)ct("update() called with empty data.  Don't do anything."),mp(t,i,"ok",void 0);else{const u=Tg(t),h=VM(t.serverSyncTree_,e,a,u);ch(t.eventQueue_,h),t.server_.merge(e.toString(),n,(f,g)=>{const p=f==="ok";p||Tt("update at "+e+" failed: "+f);const v=Wi(t.serverSyncTree_,u,!p),E=v.length>0?so(t,e):e;ln(t.eventQueue_,E,v),mp(t,i,f,g)}),ft(n,f=>{const g=Ig(t,je(e,f));so(t,g)}),ln(t.eventQueue_,e,[])}}function SD(t){ml(t,"onDisconnectEvents");const e=hh(t),n=wc();ap(t.onDisconnect_,_e(),(r,o)=>{const a=vS(r,o,t.serverSyncTree_,e);JC(n,r,a)});let i=[];ap(n,_e(),(r,o)=>{i=i.concat(fl(t.serverSyncTree_,r,o));const a=Ig(t,r);so(t,a)}),t.onDisconnect_=wc(),ln(t.eventQueue_,_e(),i)}function TD(t,e,n){let i;oe(e._path)===".info"?i=fp(t.infoSyncTree_,e,n):i=fp(t.serverSyncTree_,e,n),xS(t.eventQueue_,e._path,i)}function Aw(t,e,n){let i;oe(e._path)===".info"?i=kc(t.infoSyncTree_,e,n):i=kc(t.serverSyncTree_,e,n),xS(t.eventQueue_,e._path,i)}function xD(t){t.persistentConnection_&&t.persistentConnection_.interrupt(gD)}function ml(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ct(n,...e)}function mp(t,e,n,i){e&&po(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let o=r;i&&(o+=": "+i);const a=new Error(o);a.code=r,e(a)}})}function PS(t,e,n){return fg(t.serverSyncTree_,e,n)||q.EMPTY_NODE}function xg(t,e=t.transactionQueueTree_){if(e||dh(t,e),go(e)){const n=NS(t,e);z(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&ID(t,pl(e),n)}else ES(e)&&lh(e,n=>{xg(t,n)})}function ID(t,e,n){const i=n.map(f=>f.currentWriteId),r=PS(t,e,i);let o=r;const a=r.hash();for(let f=0;f<n.length;f++){const g=n[f];z(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const p=Ct(e,g.path);o=o.updateChild(p,g.currentOutputSnapshotRaw)}const u=o.val(!0),h=e;t.server_.put(h.toString(),u,f=>{ml(t,"transaction put response",{path:h.toString(),status:f});let g=[];if(f==="ok"){const p=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(Wi(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&p.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();dh(t,Eg(t.transactionQueueTree_,e)),xg(t,t.transactionQueueTree_),ln(t.eventQueue_,e,g);for(let v=0;v<p.length;v++)po(p[v])}else{if(f==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Tt("transaction at "+h.toString()+" failed: "+f);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=f}so(t,e)}},a)}function so(t,e){const n=RS(t,e),i=pl(n),r=NS(t,n);return kD(t,r,i),i}function kD(t,e,n){if(e.length===0)return;const i=[];let r=[];const a=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const h=e[u],f=Ct(n,h.path);let g=!1,p;if(z(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,p=h.abortReason,r=r.concat(Wi(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=_D)g=!0,p="maxretry",r=r.concat(Wi(t.serverSyncTree_,h.currentWriteId,!0));else{const v=PS(t,h.path,a);h.currentInputSnapshot=v;const E=e[u].update(v.val());if(E!==void 0){uh("transaction failed: Data returned ",E,h.path);let w=Xe(E);typeof E=="object"&&E!=null&&zn(E,".priority")||(w=w.updatePriority(v.getPriority()));const k=h.currentWriteId,C=hh(t),A=yS(w,v,C);h.currentOutputSnapshotRaw=w,h.currentOutputSnapshotResolved=A,h.currentWriteId=Tg(t),a.splice(a.indexOf(k),1),r=r.concat(fS(t.serverSyncTree_,h.path,A,h.currentWriteId,h.applyLocally)),r=r.concat(Wi(t.serverSyncTree_,k,!0))}else g=!0,p="nodata",r=r.concat(Wi(t.serverSyncTree_,h.currentWriteId,!0))}ln(t.eventQueue_,n,r),r=[],g&&(e[u].status=2,function(v){setTimeout(v,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(p==="nodata"?i.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):i.push(()=>e[u].onComplete(new Error(p),!1,null))))}dh(t,t.transactionQueueTree_);for(let u=0;u<i.length;u++)po(i[u]);xg(t,t.transactionQueueTree_)}function RS(t,e){let n,i=t.transactionQueueTree_;for(n=oe(e);n!==null&&go(i)===void 0;)i=Eg(i,n),e=Ie(e),n=oe(e);return i}function NS(t,e){const n=[];return bS(t,e,n),n.sort((i,r)=>i.order-r.order),n}function bS(t,e,n){const i=go(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);lh(e,r=>{bS(t,r,n)})}function dh(t,e){const n=go(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,wS(e,n.length>0?n:void 0)}lh(e,i=>{dh(t,i)})}function Ig(t,e){const n=pl(RS(t,e)),i=Eg(t.transactionQueueTree_,e);return rD(i,r=>{Fd(t,r)}),Fd(t,i),AS(i,r=>{Fd(t,r)}),n}function Fd(t,e){const n=go(e);if(n){const i=[];let r=[],o=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(z(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(z(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),r=r.concat(Wi(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?wS(e,void 0):n.length=o+1,ln(t.eventQueue_,pl(e),r);for(let a=0;a<i.length;a++)po(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function RD(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Tt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Cw=function(t,e){const n=ND(t),i=n.namespace;n.domain==="firebase.com"&&di(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&di("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||zL();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new MC(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Ae(n.pathString)}},ND=function(t){let e="",n="",i="",r="",o="",a=!0,u="https",h=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(u=t.substring(0,f-1),t=t.substring(f+2));let g=t.indexOf("/");g===-1&&(g=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(g,p)),g<p&&(r=PD(t.substring(g,p)));const v=RD(t.substring(Math.min(t.length,p)));f=e.indexOf(":"),f>=0?(a=u==="https"||u==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const E=e.slice(0,f);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const w=e.indexOf(".");i=e.substring(0,w).toLowerCase(),n=e.substring(w+1),o=i}"ns"in v&&(o=v.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:a,scheme:u,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",bD=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let r;const o=new Array(8);for(r=7;r>=0;r--)o[r]=Sw.charAt(n%64),n=Math.floor(n/64);z(n===0,"Cannot push at time == 0");let a=o.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)a+=Sw.charAt(e[r]);return z(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+et(this.snapshot.exportVal())}}class OD{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return ue(this._path)?null:eg(this._path)}get ref(){return new _i(this._repo,this._path)}get _queryIdentifier(){const e=lw(this._queryParams),n=$m(e);return n==="{}"?"default":n}get _queryObject(){return lw(this._queryParams)}isEqual(e){if(e=Ke(e),!(e instanceof kg))return!1;const n=this._repo===e._repo,i=tg(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+SO(this._path)}}class _i extends kg{constructor(e,n){super(e,n,new sg,!1)}get parent(){const e=VC(this._path);return e===null?null:new _i(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class qa{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ae(e),i=$a(this.ref,e);return new qa(this._node.getChild(n),i,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new qa(r,$a(this.ref,i),Fe)))}hasChild(e){const n=new Ae(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function he(t,e){return t=Ke(t),t._checkNotDeleted("ref"),e!==void 0?$a(t._root,e):t._root}function $a(t,e){return t=Ke(t),oe(t._path)===null?dD("child","path",e):TS("child","path",e),new _i(t._repo,je(t._path,e))}function fh(t,e){t=Ke(t),Cg("push",t._path),SS("push",e,t._path,!0);const n=kS(t._repo),i=bD(n),r=$a(t,i),o=$a(t,i);let a;return a=Promise.resolve(o),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}function Pg(t){return Cg("remove",t._path),Ut(t,null)}function Ut(t,e){t=Ke(t),Cg("set",t._path),SS("set",e,t._path,!1);const n=new rl;return AD(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Tw(t,e){hD("update",e,t._path);const n=new rl;return CD(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function xw(t){t=Ke(t);const e=new LS(()=>{}),n=new ph(e);return ED(t._repo,t,n).then(i=>new qa(i,new _i(t._repo,t._path),t._queryParams.getIndex()))}class ph{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new LD("value",this,new qa(e.snapshotNode,new _i(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new OD(this,e,n):null}matches(e){return e instanceof ph?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function MD(t,e,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){const h=n,f=(g,p)=>{Aw(t._repo,t,u),h(g,p)};f.userCallback=n.userCallback,f.context=n.context,n=f}const a=new LS(n,o||void 0),u=new ph(a);return TD(t._repo,t,u),()=>Aw(t._repo,t,u)}function xt(t,e,n,i){return MD(t,"value",e,n,i)}DM(_i);zM(_i);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="FIREBASE_DATABASE_EMULATOR_HOST",gp={};let BD=!1;function jD(t,e,n,i){t.repoInfo_=new MC(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function FD(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||di("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=Cw(o,r),u=a.repoInfo,h;typeof process<"u"&&Vy&&(h=Vy[DD]),h?(o=`http://${h}?ns=${u.namespace}`,a=Cw(o,r),u=a.repoInfo):a.repoInfo.secure;const f=new JL(t.name,t.options,e);fD("Invalid Firebase Database URL",a),ue(a.path)||di("Database URL must point to the root of a Firebase Database (not including a child path).");const g=zD(u,t,f,new YL(t.name,n));return new WD(g,t)}function UD(t,e){const n=gp[e];(!n||n[t.key]!==t)&&di(`Database ${e}(${t.repoInfo_}) has already been deleted.`),xD(t),delete n[t.key]}function zD(t,e,n,i){let r=gp[e.name];r||(r={},gp[e.name]=r);let o=r[t.toURLString()];return o&&di("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new vD(t,BD,n,i),r[t.toURLString()]=o,o}class WD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(yD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _i(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&di("Cannot call "+e+" on a deleted database.")}}function ge(t=jm(),e){const n=Jc(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=RA("database");i&&HD(n,...i)}return n}function HD(t,e,n,i={}){t=Ke(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&di("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&di('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ru(Ru.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:LA(i.mockUserToken,t.app.options.projectId);o=new Ru(a)}jD(r,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){ML(ts),Hr(new rr("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return FD(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),jn(Zy,Ky,t),jn(Zy,Ky,"esm2017")}oi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};oi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};VD();var ZD="firebase",KD="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(ZD,KD,"app");const QD={apiKey:"AIzaSyDnxKqjlOn_i6C235rfjnE5FahIjOxeWrQ",authDomain:"mywork-497c9.firebaseapp.com",databaseURL:"https://mywork-497c9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"mywork-497c9",storageBucket:"mywork-497c9.appspot.com",messagingSenderId:"1030977091971",appId:"1:1030977091971:web:d6d62bec2e948d601d1eb6",measurementId:"G-2TDSDFK9B2"},OS=FA(QD),mh=Gm(OS);ge(OS);const vi=S.createContext(void 0),GD=({children:t})=>{const[e,n]=S.useState(null);return S.useEffect(()=>{const i=E1(mh,r=>{if(r){const o=ge(),a=he(o,"users/"+r.uid);xt(a,u=>{const h=u.val();n({uid:r.uid,email:r.email||"",...h})})}else n(null)});return()=>i()},[]),_.jsxs(vi.Provider,{value:{user:e,setUser:n},children:[t," "]})},qD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHpSURBVHgBnZRBUhpREIa7m5FkSdaZUMwJAicIXiD4FhErK3MC5QTGE6AnIKuUxEoNSQ4AOYHcQMqa7FkGcV7b/ZgZKZ1h0H/zXvWjP/7u128QChRe79W8avWIGdsM0F5FeWotn5v65beiPMyHHTRoh8eybRRkzewt7prgYvb4iPJ+n8E0kXHXLhdvOv4QxZ2R+AwYGlTlsVZRCgyjg8MMdrtomXcXExOM5npm6j9GAm+lUPCqx6VAAnukq425l4LWpTFx/UX3FcQPpUBpUDN1A0W6+z/V5eGyNgJXyuvPusuisydAufaJ23ivm0VJ4c3+XrKdlgJj5r/ugHiQ51JjRNjXvbX2PMdQTsLOqytIbzq+65n6z5GDe16TsDJIzzpvh0Ep0EGjz02C+AqKNbdLbG012NofgY1hs2pusG8+HW4E/o66felPqAkyEhML0BMngb4S91Kg0rLgZnD1WogGmrPOyEr+82//RAb2qysH4NT4wzPYoDDqHoubE/1zgZx99Ie9DKjPjYC12aAujP99Clso6bW2p6bVqAkH/BV1r2VppEF4hhKnfVfZchFg5q5gDLaR9HGsz1ANEaLtaNDG9hReqFiKdBuGNiEnH1GCrfqWqyW6DwkRvCcEnGu5xr98MTAZcBklnt8De5rbu6Xo3MoAAAAASUVORK5CYII=",$D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEQSURBVHgBrdRLasJAGMDx75uMdKWdVddZdmFLj9DcIKVQWsgiR2h33dkbFE+ggqD4wCPoDQziwmXWrrIV0c8ZzYjPOMb8IZB5/UIgBCDjsGK7QhTuS0RLX44FpAwBqpFl/fBCPv8fYzdFAL5YLCIuZXdnPpzN587XpBmaII3HT/sul+vLW1ujDPRrIgZqQW1QG6/CiIJ4WjC9ARlzTNFDDDl39NoWfAuqkQl6ClNnj0AT9BJ2BCahJthJ8Aw6VNcl7Cy4hwLVYPMlCIkNkjAVh4Tig37vxf/eGSfGwSATSMcg4xS4fnrnyXMhZe2i9xrfRtgten+IWIIsIipbrelo8PHwLE20If3vKySJvY/rvyvST4m2GPYhPwAAAABJRU5ErkJggg==",YD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAYAAACEYr13AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE9SURBVHgBpVRBToNQEJ2Buse11ZQb9AhcQA2JKezaG9ieADiB9Aa4a3WB1Qv0JjSB7tlW9H+HH0go0g+0LyEww3vDnz+8j9CAMH4yVFQdDjCmUEOA7S9jr+bde1DnYj3xtZ84jKPbVFhB7t7fvHlHuaMvJ/asFNPdY9nhWlwAiyLnhrFtVDWDaqACn/KcSALzduVXXvlhPNEUREdF7lC8bVwBiQ3xkB0CqOPn2y8445MtlDD1j1SS01oL9IGYQrHz83p1CVISBg/D9QI/E+uF+prDGWCcewMSz0SQoW7qq10XYRjZI+WKRzSVZ6VcdldxjatJN3GTWNFmb0UyzgDkGOWDl+HiMV5coK2F3X+/9ijwOFzr0IK8BfGP57OFjqhwUySburlN4QwwDkvRYRhbvoIwhR5eIO8s6cxw/wAWbnWPpYu/3QAAAABJRU5ErkJggg==",JD={user:qD,email:$D,password:YD},Os=({type:t,name:e,value:n,onChange:i,placeholder:r,iconName:o})=>{const a=JD[o];return _.jsxs("div",{id:"input-field",className:"input-field",children:[a&&_.jsx("img",{src:a,alt:`${o} icon`,className:"input-icon"}),_.jsx("input",{type:t,name:e,value:n,onChange:i,placeholder:r,required:!0})]})},XD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEsSURBVHgBtVaLEcIgDA13DtAN7AiO0A10hDpB3cBuUJ2gdQJHqBvoBoxQN8Bw0muk5IAD311KSSB5D+gHIAJKqQL+AZ0YbVQL+qzFTEIbd8gBTFSRpC3ahfQrSAVZmt7hGyEFmKAmbEvir7KowMnSZk9iaSo49iSepsLFXp8ctA5SVbjY63Z2JKtg2K8KWCqeocm5k8MVoCrqkALSDG4tv7OApUL6ks/spbJOjqdASVScIJa9iRUmNjFzhzmuXC9CdDYcezJmx50WS0XrCsrgjWKgvi/DtQrsnEM2ySxT6YlPPypC2ZPJE8SowEsXwV4GjltUxKy9mez9VFIVQHZ+C5mgyNO9wf4DrdIt9m+QB3vTvgQmPeBNng/4Gkehr2b9G7RcvyJvtKsQYvgACiWj7hXViCIAAAAASUVORK5CYII=",Rg=({message:t,className:e})=>_.jsxs("div",{id:"error-message",className:`error-message d-flex align-items-center ${e}`,children:[_.jsx("img",{src:XD,alt:"Error icon",className:"error-icon me-2"}),_.jsxs("div",{children:[_.jsx("strong",{children:"Error"}),_.jsx("br",{}),t]})]}),eB=()=>{const[t,e]=S.useState({name:"",email:"",password:"",confirmPassword:""}),[n,i]=S.useState(""),[r,o]=S.useState(!1),a=es(),u=S.useContext(vi),h=g=>{e({...t,[g.target.name]:g.target.value})};S.useEffect(()=>{const g=Object.values(t).some(p=>p!=="");o(g)},[t]);const f=async g=>{if(g.preventDefault(),t.password!==t.confirmPassword){i("Passwords do not match");return}try{const v=(await m1(mh,t.email,t.password)).user,E=ge();await Ut(he(E,"users/"+v.uid),{name:t.name,email:v.email??"",isAdmin:!1}),u==null||u.setUser({uid:v.uid,email:v.email??"",name:t.name,isAdmin:!1}),a("/login")}catch(p){i(p.message)}};return _.jsxs("div",{className:"registration-container d-flex justify-content-center align-items-center min-vh-100",children:[_.jsx("div",{className:"header",onClick:()=>a("/home/news"),style:{cursor:"pointer"},children:"MyWork"})," ",_.jsxs("div",{id:"registration-form",className:"registration-form bg-dark text-white p-4 rounded",children:[_.jsx("h2",{children:"Create a MyWork Account"}),n&&_.jsx(Rg,{className:"registration-error",message:n}),_.jsxs("form",{onSubmit:f,children:[_.jsx(Os,{type:"text",name:"name",value:t.name,onChange:h,placeholder:"John Carpenter",iconName:"user"}),_.jsx(Os,{type:"email",name:"email",value:t.email,onChange:h,placeholder:"jhcpart@emailserver.com",iconName:"email"}),_.jsx(Os,{type:"password",name:"password",value:t.password,onChange:h,placeholder:"Password",iconName:"password"}),_.jsx(Os,{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:h,placeholder:"Confirm your password",iconName:"password"}),_.jsx("button",{type:"submit",className:`registration-button ${r?"filled":"not-filled"}`,children:"Sign up"})]})]}),_.jsx("div",{className:"footer mt-3 text-white text-center",children:_.jsxs("p",{children:["Already have an account? ",_.jsx("a",{href:"/login",children:"Login"})]})})]})},tB=()=>{const[t,e]=S.useState({email:"",password:""}),[n,i]=S.useState(!1),[r,o]=S.useState(""),a=es(),u=g=>{e({...t,[g.target.name]:g.target.value})};S.useEffect(()=>{const g=Object.values(t).some(p=>p!=="");i(g)},[t]),S.useEffect(()=>{sessionStorage.getItem("loginPageRefreshed")&&sessionStorage.removeItem("loginPageRefreshed")},[]);const h=async g=>{g.preventDefault();try{const v=(await g1(mh,t.email,t.password)).user,E=ge(),w=he(E,`users/${v.uid}`),x=he(E,`admins/${v.uid}`),k=await xw(w);if((await xw(x)).exists())a("/home");else if(k.exists())a("/home");else throw new Error("User data not found")}catch{o("Incorrect username or password!")}},f=()=>{a("/reset-password")};return _.jsxs("div",{id:"login-page",className:"login-page",children:[_.jsx("div",{className:"header",onClick:()=>{a("/home/news")},style:{cursor:"pointer"},children:"MyWork"}),_.jsxs("div",{id:"login-form",className:"login-form bg-dark text-white p-4 rounded",children:[_.jsx("h2",{children:"Welcome back!"}),_.jsx("p",{children:"Sign in to your account"}),r&&_.jsx(Rg,{className:"login-error",message:r}),_.jsxs("form",{onSubmit:h,children:[_.jsx(Os,{type:"email",name:"email",value:t.email,onChange:u,placeholder:"mymail@mailserver.com",iconName:"email"}),_.jsx(Os,{type:"password",name:"password",value:t.password,onChange:u,placeholder:"Password",iconName:"password"}),_.jsx("button",{type:"submit",className:`login-button ${n?"filled":"not-filled"}`,children:"Login"})]})]}),_.jsxs("div",{className:"footer mt-3 text-white",children:[_.jsxs("p",{children:["Don't have an account? ",_.jsx("a",{href:"/register",children:"Sign up"})]}),_.jsx("p",{children:_.jsx("a",{href:"#",className:"text-primary",onClick:f,children:"Forgot password?"})})]})]})},nB=()=>{const[t,e]=S.useState(""),[n,i]=S.useState(""),[r,o]=S.useState(""),[a,u]=S.useState(!1);S.useEffect(()=>{u(t!=="")},[t]);const h=async f=>{f.preventDefault(),i(""),o("");try{await p1(mh,t),o("Password reset email sent!")}catch{i("Error sending password reset email.")}};return _.jsxs("div",{id:"reset-password-page",className:"reset-password-page",children:[_.jsx("div",{className:"header",children:"MyWork"}),_.jsxs("div",{className:"reset-password-form bg-dark text-white p-4 rounded",children:[_.jsx("h2",{children:"Reset Password"}),_.jsxs("form",{onSubmit:h,children:[n&&_.jsx(Rg,{className:"reset-password-error",message:n}),r&&_.jsxs("p",{className:"text-success success-message",children:[r,_.jsx("br",{}),_.jsx(jt,{to:"/login",className:"login-link",children:"Go back to Login page."})]}),_.jsx("div",{className:"input-field mb-3",children:_.jsx("input",{type:"email",name:"email",value:t,onChange:f=>e(f.target.value),placeholder:"Enter your email",className:"form-control",required:!0})}),_.jsx("button",{type:"submit",className:`btn btn-primary send-reset-button ${a?"filled":"not-filled"}`,children:"Send Reset Email"})]})]})]})},Iw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAiFJREFUWIXtl01rE1EUhp8zk7jSuOuiVsFmknFXi0tBpCJiF0IKSWp1J/gTRBSlq/4OEWOlUyiCEKlfXbjWnTI2dVUEA6JNdZGSzHGRmUgStddJgpu8m5k7c868z5w7Zy5XMNT1UyS/7XBL4Bpw1DSvWwq7wAu1uen5+GKYJ4UMT0SZjWv8G30VZcoIoJhmHmEZQKEqymuEZkzjLDAVnnsJkwwVzkekanNmxcePac4iWO8d3oQQFyyTJIFD0bnXh3kIEAAfwmHKCGCYGgGMAHraMJdmLClMa4XnHu1eD8Jj3N7/ozoqkHdxDwhvBZ5aDnej6wKrQA24P2iAdgXyLq7V5CUw3h30qMIqLYiBKwFQnCRLp3m5BkvDMOwByLu4XeafgFIKLhWdeA/VgB/VY6xvbNDYF8BqskZn2ceBB/GsWxILxrZZAm7vFzu8NpR25/xVicAmZ/VOwQ1gL7a58r06wTM2DQA8H39hkrMNi1cCR0KQKzXIlSvUY0NsmYVZAA8/sqk252i9PcDFlHAntvk/qP0NeD5+YDPThlDs6F7BoVB02C1kuDc0gAhiT5lGmf088asCAnPAQVGuDhqgZy1Y26IKlLvmMAK1u+P71X9fDUcAIwAjgHA/B8DlLCf6MVwEC8ENhztGW7P5DAuqlEKYgW3NFFaMAPJgi8O6wExM0x4pfEnCSaMfyzvQ08dZrtdpKKQFDvfhXVN4nIS5UoXtnx0Sl92+16ZHAAAAAElFTkSuQmCC",MS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAADNFJREFUeF7t3YFx00oQBuB7lUAqASoBKiFUQqiEUAlQCS+rsTJ2Yie2OWt92k8zTIAkWt13p18nWZb/axYCBMoK/Fe25RpOgEATAAYBgcICAqBw52s6AQFgDBAoLCAACne+phMQAMYAgcICAqBw52s6AQFgDBAoLCAACne+phMQAMYAgcICAqBw52s6AQFgDBAoLCAACne+phMQAMYAgcICAqBw52s6AQFgDBAoLCAACne+phMQAMYAgcICPQLgbWvt/cbwTWst/m0hQOAyAr9ba39aa/F1/nN2pXMD4FNr7d1mx7fDn83vFwn8s8D9w34Yf36eEwinBkDs+F8c5f+506yAwCUEYkbw9WH/vDt25ccGQEzxY8efp/rHrt/PESCwvEDMCCII4uuLyzEBEDv+7Wsr8n0CBK5OIPbb75tTg70b91oA/HDUv7pOtUEEThGIWcDnQyFwKADiwt43O/8pzn6WwNUKxLWBD/tC4FAAOPJfbV/aMAJnCewNgX0BEEf+uNpvIUBgXQJxTSAuDj4uTwPABb91dbjWEHgqsBMC2wEQ5/2/eBEgsHqBm/l6wHYAOPqvvt81kMAk8DgLmAPA0d/IIFBLYJoFzAHg6F+r87WWwDQLmAMgzv29qcegIFBHIG4Q+hABYPpfp9O1lMC2wE0EgOm/QUGgpsDnCAA3/tTsfK0mcBcB4LZfA4FATYH7CAAXAGt2vlYTmALgLwcCBGoKmAHU7HetJjAJCAADgUBdgelOQBcB6w4ALa8tMF0D8DJg7UGg9XUFppcB3QhUdwBoeW2B2wiAeNR3nAZYCBCoJTDdChyLewFqdbzWEohnBD4GgOsABgSBWgI7bweO04AIAW8JrjUItLauwM4DQYLBLKDuYNDyWgLPHgkWzY+jf1wMNAuoNRi0tp7A3oeCBoOXBOsNBi2uJXDwseAzg1cEag0Ira0jMD0GbLu5+z4ZyKlAnQGhpXUEppf9njb3pQ8HdT2gzuDQ0vULxJE/ZgA7y0sfD24msP5BoYXrF4gjf3w8+LOdP5r+UgDMNN4tuP5BooXrFHh2zn/KDGD7Z+PTguMVAi8RrnOgaNX6BOKof/das46ZAWyvI24WirsGBcFrsr5PIEfg2UeAv7QZpwZArCt2/giBj5u/C4OcjlaVwCwQR/qfm/P8OOc/ejknAJ6uPMLg3eY/4+8WAgQuJzDv4LHDx/LqNL/3DOByTbNmAgQWFegxA1h0gxUjQKCfgADoZ2lNBIYTEADDdZkNJtBPQAD0s7QmAsMJCIDhuswGE+gnIAD6WVoTgeEEBMBwXWaDCfQTEAD9LK2JwHACAmC4LrPBBPoJCIB+ltZEYDgBATBcl9lgAv0EBEA/S2siMJyAABiuy2wwgX4CAqCfpTURGE5AAAzXZTaYQD8BAdDP0poIDCcgAIbrMhtMoJ+AAOhnaU0EhhMQAMN1mQ0m0E9AAPSztCYCwwkIgOG6zAYT6CcgAPpZWhOB4QQEwHBdZoMJ9BMQAP0srYnAcAICYLgus8EE+gkIgH6W1kRgOAEBMFyX2WAC/QQEQD9LayIwnIAAGK7LbDCBfgICoJ+lNREYTkAADNdlNphAPwEB0M/SmggMJyAAhusyG0ygn4AA6GdpTQSGExAAw3WZDSbQT0AA9LO0JgLDCQiA4brMBhPoJyAA+llaE4HhBATAcF1mgwn0ExAA/SyticBwAgJguC6zwQT6CQiAfpbWRGA4AQEwXJfZYAL9BARAP0trIjCcgAAYrstsMIF+Aj0C4H1r7W1r7c3ma2xd/NtCgEB/gfvNKv+01n5v/Tmr0rkB8Km19q61Nu/8ZxX3SwQIdBGIUPh6ThicGgCx43/rsslWQoDAJQQ+PxyYIxBidvDqcmwAxI7/xdT+VU8/QOAaBCIAvj/sr3evbcwxAfBjM9V/bV2+T4DAdQncboLg4GzgpQCIC3kx3Y/zfAsBAmMKxGwgTgv2hsChAIidP478ruaP2em2msC2QOz8H/aFwKEAMO03gAisS2BvCOwLADv/ujpeawjMAnFNIF4ufFyeBkBc6Y8fshAgsE6BnRDYDoA43/+1zjZrFQECWwI38/WA7QBw9DdGCNQQeJwFzAHg6F+j47WSwCwwzQLmAHD0NzAI1BKYZgFzAMS5v9f8aw0Ara0tEDcIfYgAMP2vPRC0vq7ATQSA6X/dAaDltQVuIwDifv94t5+FAIFaAncRAO78q9XpWktgFriPAHAB0IAgUFNgehnwb822azUBAmYAxgCBugLTDMApQN0BoOW1BaYAcBGw9iDQ+roC00VALwPWHQBaXltgehnQjUC1B4HW1xWYbgSKh37GaYCFAIFaAtOtwLG4EFir47WWQDwj8DEAXAcwIAjUEth5O7DHgNfqfK0lsPNAkOBwMdCgIFBD4NkjwaLZZgE1Ol8rCTw+C9RjwQ0GArUEDj4WfGZwQbDWgNDaOgLTY8C2m3voo8G8LFhnUGhpDYHpZb+nTfXhoDU6XytrC5z84aAuCtYeMFq/HoFn0/5jTgG2f8Y1gfUMBi2pJfDizh8Uh04BnjLFQ0PjPgGfHVBrAGntmAIx5f/88D6fCIAXl2MDYF6JIHhN1PcJ5ArEjn937CacGgDzeuMdhPOMwKzgWG0/R+AyArHD/zxlx58349wA2G5GhEGEwJvNfwqEy3SytRKYBWKK/2czxY+/n730CICzi/tFAgRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBXoEwKdNC95tvr5NbZHiBNYt8Lu1Fn9i+bn5+/zvk1t+bgDETv+xtfb+5Ip+gQCB3gL3rbXvD/tjfD0pDE4NgC8PW37be+utjwCBbgKxf0YYHBUExwZAHPG/ddtEKyJA4NICn4+ZERwTAD9M9S/dV9ZP4CICcUoQQXBwNvBSAMTFvDjqO8+/SN9YKYFFBGLn/3AoBA4FQOz8vxbZPEUIEFhC4GZfCOwLgNj5Y9rv5bwlukUNAssI7J0J7AsA5/zLdIgqBJYWuGutfd2eCTwNAC/zLd0l6hFYViBeJowQmJbtAHDev2xHqEYgS+DxesB2ADj6Z3WHugSWFXicBcwB4Oi/bAeoRiBbYJoFzAHg6J/dHeoTWFZgmgXMAfB32dqqESCQLBAvC95EAJj+J/eE8gSSBKYAMP1P0leWQLLAbQRA3O8/P9QjeXuUJ0BgQYG7CAB3/i0orhSBKxK4jwCIN/247/+KesWmEFhIYHoZ0CsAC2krQ+DaBMwArq1HbA+B5QSmGYBTgOXAVSJwTQJTALgIeE1dYlsILCcwXQT0MuBy4CoRuCaB6WVANwJdU5fYFgLLCUw3AsVDP+M0wEKAQC2B6VbgWFwIrNXxWkvg8c1AQeE0wIAgUEtg5+3AngRcq/O1lsDOA0HMAgwIAnUEnj0SbG66awF1BoGW1hSYzv3npnsseM1BoNV1BQ4+FnwmcUGw7uDQ8nULxAeDxIeFPi6HPhvQqcC6B4LW1ROITwqODwndWV76cFCfD1hvkGjxOgV2zvuPmQHMP+ONQuscEFpVR2Dvkf/QRcB9LK4J1BksWrougZ0LfvuadugU4OnPxvsF4l2DHh22rgGiNesUiKN+fABofH1xOTYA5pXE04NjRiAIXpP1fQLLC8S5fuz4cbX/qOXUAJhXGjOCj5t3EgqDo6j9EIGLCcQO//2YI/7TLTg3ALbXE2EQSwTBG7ODi3WyFRMIgTjK/9lQxBQ//n320iMAzi7uFwkQyBUQALn+qhNIFRAAqfyKE8gVEAC5/qoTSBUQAKn8ihPIFRAAuf6qE0gVEACp/IoTyBUQALn+qhNIFRAAqfyKE8gVEAC5/qoTSBUQAKn8ihPIFRAAuf6qE0gVEACp/IoTyBUQALn+qhNIFRAAqfyKE8gVEAC5/qoTSBUQAKn8ihPIFRAAuf6qE0gVEACp/IoTyBX4HzWcGrN1qYysAAAAAElFTkSuQmCC",iB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD+SURBVHgBxZMxEkRAEEWbEsiIyLgBESJu4nSOICOTIRKSCYUyIut3FWWHtbUl2J/oYbz/dQ9pWUUPJNNDKcfFPM9UVRWVZcm1aZrk+z45jvMdMI4jJUnCdRRFpKoq9X1PaZryszAM7wFFUfA1jmPSNI1rONu2zRDLsrgWtfcAboi7vbwJEMMwqOu6ywTy8RMQ+0q6rtM0TfcAbBqG4XIT7ovJTgDP83gCdV2/bcjznN1d170ESMeDlGUZA9AsOLZtu6cDACa3AAjNRMPgCkgQBNQ0DSfBeMVxKiIR7uK4MB0At1EfISfAJ8EdAgTJ9tO5/Kj1mC9rmn0t/f1vfAEXA7DRUX1PdQAAAABJRU5ErkJggg==",uu=[{name:"Home News",path:"/home/news"},{name:"Home Tasks",path:"/home/tasks"},{name:"Home Done Tasks",path:"/home/done-tasks"},{name:"Home Person List",path:"/home/person-list"},{name:"Profile Info",path:"/profile/info"},{name:"Profile Reminders",path:"/profile/reminders"},{name:"Contact",path:"/contact"},{name:"About Us",path:"/about"},{name:"Message Board",path:"/home/message-board"}],rB=()=>{const[t,e]=S.useState(""),[n,i]=S.useState(uu),r=es(),o=u=>{const h=u.target.value;if(e(h),h){const f=uu.filter(g=>g.name.toLowerCase().includes(h.toLowerCase())).sort((g,p)=>g.name.toLowerCase().startsWith(h.toLowerCase())?-1:p.name.toLowerCase().startsWith(h.toLowerCase())?1:0);i(f)}else i(uu)},a=u=>{r(u),e(""),i(uu)};return _.jsxs("div",{className:"search-bar-container",children:[_.jsx("img",{src:iB,alt:"Search",className:"search-icon"}),_.jsx("input",{type:"text",placeholder:"Search",value:t,onChange:o,className:"search-input"}),t&&_.jsx("ul",{className:"search-results",children:n.map(u=>_.jsx("li",{onClick:()=>a(u.path),className:"search-result-item",children:u.name},u.path))})]})},gl=({toggleSidebar:t})=>{const e=dr(),n=es(),i=S.useContext(vi);if(!i)throw new Error("UserContext is not available");const{user:r,setUser:o}=i,[a,u]=S.useState(null),h=p=>e.pathname.startsWith(p);S.useEffect(()=>{if(r){const p=ge(),v=he(p,"users/"+r.uid);xt(v,E=>{const w=E.val();w&&u(w.profilePicture||null)})}},[r]);const f=async()=>{const p=Gm();try{await A1(p),o&&o(null),sessionStorage.getItem("loginPageRefreshed")?(sessionStorage.removeItem("loginPageRefreshed"),n("/login")):(sessionStorage.setItem("loginPageRefreshed","true"),n("/login"),window.location.reload())}catch(v){console.error("Error signing out:",v)}},g=r!=null&&r.isAdmin?"/admin-about":"/about";return _.jsx("header",{id:"header",className:"header p-3",children:_.jsxs("div",{className:"general ",children:[_.jsxs("div",{className:"d-flex align-items-center",children:[_.jsx("button",{className:"menu-button",id:"menuButton",onClick:t,children:_.jsx("img",{src:MS,alt:"Menu",className:"menu-icon"})}),_.jsx("button",{className:"header-title",onClick:()=>n("/home"),children:"MyWork"}),r&&_.jsx("button",{onClick:f,className:"exit-button-mobile",children:_.jsx("img",{src:Iw,alt:"Exit",className:"exit-icon-mobile"})})]}),_.jsxs("div",{className:"navbar2",children:[r&&_.jsx(rB,{}),!r&&_.jsxs("div",{className:"guest-links",children:[_.jsx(jt,{to:"/about",className:`nav-link ${h("/about")?"active":""}`,children:"About Us"}),_.jsx(jt,{to:"/contact",className:`nav-link ${h("/contact")?"active":""}`,children:"Contact"}),_.jsx("button",{className:`nav-link ${h("/login")?"active":""}`,onClick:()=>{sessionStorage.getItem("loginPageRefreshed")?(sessionStorage.removeItem("loginPageRefreshed"),n("/login")):(sessionStorage.setItem("loginPageRefreshed","true"),n("/login"),window.location.reload())},children:"Sign In"})]}),r&&_.jsxs(_.Fragment,{children:[_.jsx(jt,{to:"/profile",className:`nav-link ${h("/profile")?"active":""}`,children:"Profile"}),_.jsx(jt,{to:g,className:`nav-link ${h("/about")||h("/admin-about")?"active":""}`,children:"About Us"}),_.jsx(jt,{to:"/contact",className:`nav-link ${h("/contact")?"active":""}`,children:"Contact"})]})]}),r&&_.jsxs("div",{className:"user-info",children:[a&&_.jsx("img",{src:a,alt:"Profile",className:"user-profile-picture"}),_.jsxs("span",{className:"user-name",children:["Logged In: ",r==null?void 0:r.name]}),_.jsxs("button",{onClick:f,className:"exit-button d-flex align-items-center",children:[_.jsx("img",{src:Iw,alt:"Exit",className:"exit-icon"}),_.jsx("span",{className:"ml-1",children:"Exit"})]})]})]})})},sB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAYAAAAv3j5gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADZSURBVHgB7ZXrDYIwFIWPhAEYQSfQEdgAnMCygRu4gk6gTqAbwAY6AkygG+htWhJS7UMppD/4ksMjNHztbdoCE6EzU94ZZQe/PClFTJdECvh9Q5nDPzkXbeF/FB9EnecaYpgtC4jS/pu1TlRR7oq4D91OIzY0ZD1lmavoCI9EGAnTiE6URvNtSckd21hFBygT2iGTPzlDP48pHEU32CnhSBBzdIW+dCnEVlVBX7qVjFVUGES89heItdYYOlN+EyUyLQ/YqfEDKeU1cFh7HjEMd0TwZbLHRPC8AZD/O0Y3SoVpAAAAAElFTkSuQmCC",kw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAXCAYAAAAV1F8QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEKSURBVHgB7ZXdEYIwEITXn3e1g5RgCdqBdkAHagVqBWoFWoIdWIJagXYAHeCdXOTIAA8hDC9+MzuBgdmDyx4AHWNIL9IZgehVFLnJyixJV9KaNIYfF2vMT39Qx6lop4qnDfT1ieouhipkW8emW2W8dwoxR9IIfuz1ya7kTVpjig7ghBm0jEGWvhf8I11gKKs1S1Cco0Su8XqGPyeIYUy6I9sjO0cx8j0zaBjvoZiNZb2rN5uTHgiEnaMIeWuqikTwD8fFNdLt+lPLQB1HpBVpgoAhsJSFgeEP6Eadcypv8B/e30eVTXTuY+dGg4Zz1Bejp2P8RmBs67gl3LqFFOHft7tPM/gTfM8r+QAsO3ft4HhkWgAAAABJRU5ErkJggg==",oB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADNSURBVHgBtdLtDcIgEAbgS1xAN7gRGMER3EBHcAPchBEcwRH86z9H6Ah4jZC0DVcOuHuTN03KxxMCB9CJp56oHzBMoMbUKxhliZhhJWTuCxTDIV8qQkMcdYL/JZsjeQPfgRypl/QtBjfIEpMimP7NY28OcwwUO5CohUmQ3DswqWEtyASVR8JhrYgrbY4VTAXxaUJgMFUkMhjC+uV0ITdmQYBysAfZg7iTdSE5DwGGo4gEe2ohEkwNacWGECmmgtQwVYTDTJAtZorknEeRHznb/X/ubUgbAAAAAElFTkSuQmCC",aB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAaCAQAAAAHtlR4AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAACYktHRAAAqo0jMgAAAAd0SU1FB+gIFBQTJJ8LFqkAAAIpSURBVDjLjdLBa5RHGAbw33z7bUww6yhNBVvWlFRqwUuUnnoRwV5SiqFq9aI3T1VEL0Vy91qooNZjL21zkoKQWMh/YBAsJkZBE4lY1BRETcxuvvGQ3c26rTbPexlmnmfe531mAr0osc1vNvjOXLKGQL/fLTnqcV3wQh6bZ1V7lA2YC97CgEE12z3OEeXY6muf67dB5qRvtCuSfrnMWbPuuObvEHe64Cvrw59OhjjqsFduKtsjuOlZR4cPDEom1ezW41dxIab4c+yJe+PLuByHYh672yqPQ3E5vox7Y0+8ElN8kuvGHYseuKXLXXX1t2zc85fX7ls0jY15K73Z2YOy4mHocJRmsgOK8nzN6sGqoGCWebKOKYPAQ2oNVlMwZPO/uJ0ofAkhvtKzzlBhcbXDA/PC/1CTj33StHTFj43Vu1F3xvmm4LUlSEEeapBKhBVIZfWQGizNWAKkrjASRu1CX7gULurDrjAaRnStsdqyCRWHDRtE1RFHVTFo2CGVNVbLeWIh/OAz45hyClMYd9pMWtDKpCUIUjJmDCz5pbH91E8tNzot0WeHEgVV1QJKduhrT7z9fXtdNmEf2aeuupoNYJ8Jl/T+xwzIVFR0I1dBGd0qKu3X5s2JC9lzJ3zoFmkmDJNmAtft98TzQkZaFayg0vA2Zw5Ccrsx6LIbLeebsJKb9oXjVvzz3t+UbHEMUyF+64KPrA+PfF/qmg539dukbvm9tWjSueKPN6CwqsyZX7OhAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTA4LTIwVDIwOjE5OjIzKzAwOjAwIphV9wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0wOC0yMFQyMDoxOToyMyswMDowMFPF7UsAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMDgtMjBUMjA6MTk6MzYrMDA6MDCaQuOtAAAAAElFTkSuQmCC",lB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAZCAYAAAAIcL+IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAChSURBVHgBzZPBDYMwEAQ3TgN+5heXQAkpJZ1ACUkFSSckFVACdAAdwFncCctwyDxArDQS1g3S2paBKZbIiZboiZJwWMiHhZA2lrMFSXh5wbDooMeFYrMizmZlSkcfy33CXWfYLRfukCvzP/GVRQH9DGuRDBKTLF4xHqjl9S2ad8Q7/qnAoR1PID6Iu+L4mfMfT+hXKFQG689AYjd1bBK83wAyfDgZRXddoQAAAABJRU5ErkJggg==",uB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAjCAYAAACKPxqrAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHvSURBVHgB7VfNLgRBEK7qbrGJiPEEZiUkTngC67Z+Dt7Aui0u6wnwBNZB7E08AQfEzbwBTiKbMN5gD+tiZ7pUD8v0YA+7MyT4LlNd1d1fuuvr6h5cnbtdAiEPAMiBTIA+ha1ZAUJtZkdiQC4vpCIA9BRkDEScFPBN+DkiAjrsf2wOUxjkueVDSlAJGr92Ol56bTTKi/UVJLiAFGCtiIiu4+3ayZjHqWxA2kRZwiJCFDOVwuXbmSoX64W0zlgiR+A8DQzulIs326GQDuvfVAxIA0kio7oSSlVSr620kEaOGqwiP/p2wMcVIcy2bZa2KU87kZ9oBQT6xtaAjiQ64r7buWazWvWmIxI+DgUk4u1GNzkvri7Urf3ZPx3Dtm3EgPLlHAmS7t7Z6MOL/8YFpUos/63khCaGsu8yISKvq63L5XKNz0gMaucTPpE+TPq7Iqoe5zvmA4Xwkj4FPWBtvr7JeXK4Lu6albT9FLSuWLlW365Vx7mtMMkWmxXOiVUP46Q9E/HQ5Xeb3PX5uxErTHbl74HIvplDEeY79f4DN+w/0T9R5vhQ68rFe7dtyz4Y0jqI7FCHeY7he8/AHqjJjY8FaHUmQhncv43Vcb+5lwL4CtH7QsbjaMV/pxg8yBjmBawCog1l9pcy+hlDftDosPoMgEevB5BQqE0AAAAASUVORK5CYII=",cB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAjCAYAAABl/XGVAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQNSURBVHgBrVfNbttGEJ5ZUrVjpwjzBKUPTtFT5CcodQssA3WewOqhgO0crDyB5SeoeqkD5NDkCewCTdqb2SewcgpgGTHzBFGQKLAicSezy12RifmjyPkAieTucr+dnW9mlghfoB2ceh+Wb7Ycgp8BqK4bEX0oBQ6A5IDHRfzQo3jyx6P/foqujMo+/LZ+VndRHDGJD9cEEnT+fL56kEtmiE6YyINvhC8JNZnautHy96epRRQR4lME7E2kjJzvaoOySeOPY88R6EmCugPwCzcFto8QGo/+WQ3Vvav+LpeWN9EQEdDTxeGw3Q3XSgkKEPKvu9Pst/n6u7Fu37Qnlu00zy8Sqyg6fHZnBb4BtjfOu0i0p+6tde4u+4qsVQQHMCe277300XH/4vX7C8N3a+A6ndE43tIakDLgIaEgIXz7wuKH4THMC+EEoH1F/uXSUrt7vMJuoJ7p1SHkkozriAJUR5Wftu/1A+lAXZD02Be9w39/nC5OInrOdCRqRRPRC0QMEJ27mowV4Seew0Exid0iCPSEanGofR2BjB8qUhFPjsGp7SfbFnfNq8ayJJyEnZBIvi0mqp1ARs4p2NdCHD1onm+pjEHxeG1h+P52TvbwEssMBDpv8siE4x5RmlEGerWo01NdiUE1SqAuL+r/KySS01e6t+Ci49xSMsy1av2sRca5OtDjuJGdcHuj3zFx5JltbkAJBBMVpid27lYRkQLHTocHWZEEKhNBKVkB2psX6sVAU3H85WVx3TcZP7T3oxs3WjAP2eXlpD59kHFYNM4sQvejcO/CPGQgUlEUWWVBUr7W14rSJKASWJ2QESKYATOQzVDfVGK4FpnQJV7Be7D+6gcogfWVSk8wD9mi69okCjGMfy0apzIMK8iKqQfzkCVZ26gMxV4y6VWYYE5QolpNZpWUBy56tr55Kj9mCVUAcy3UyVmTAj6pUq1b1qmqK5f4EEydYisudpt9vVUjQD8VD0UynlQW3imZpPh23oCFmnt/NB6f2qSbyZV2yGBCcP9xnlU6VtPT4tRn7JdbeWTKdwu12po6COV0hxOixuPnd3KFoQqqmT0Cbdk0IJOVFxHypcU+66Bbq7OfvZiVV0QytYTYMlSWyUFCBjaeyFdOLzsaGAFEMCO4atj40yIUWblWZe2vgVFuoEmJQk2Wzdog3L2qmjQz9HkkAVuma54WCO//36bZ/7h886QogGfF7np/n0/YLfMY2vib6nKneXaRigQjVEoDeuHwWZ9IlGZ+ROkRIQe+9pEKjcD28efTiiVz08a4weeRk4SQfI6ilj6rCPH5d1Uu8seoDJTNKp+NSY5tlvBaUDtxcPhstZttzF30zsb5JsdSYKULVPFxiLrADjg/Rmrrl4bvn+SF0CfBL89uxQdQgAAAAABJRU5ErkJggg==",hB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAhCAYAAADOHBvaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALwSURBVHgBtVfNbtpAEJ5ZOxQprcQjECmJVKmH5Ani3iqSQ/oETQ6VCBfgCZI8QekJpB6gTxCqJlWkHoAnwLeqIRV+g7o3KMbTGfNTFzDY1HwSaHdn1t/ut7O7swgxIfuqY6AGlwB4AEApbmo6v/vFD19fmH6/gtEWG6i/Hb+lYU3kMp1LJm1w0RiTCgw98aQtNv/g+ttPb0rNQ3tKjJpezZ50DIiI3MmPPCFcBdnFls08lC6OOw0ZHNdb0q58PgYSVqPMXHyJqLDKDxHzMFLDAsepSZs++cB4fGml6TdcOIQwUJohfSAcbEI8dzX9NJv5nhrPWJ92JoCD3PFjNcyXeCZvIDQQkKChAeXBdWtjYsfyuxDQmazJatklgsNiFHREcF25f255xMlk0l7gydtjK5C8cNpN+SI4HDUy6Zf9mpQ94lJ9R4ibC1zTHO1dkX52AL1eLxKpoHK7dzUp61MKcluIyljUQaTnAYj8TY7ij8MBmJX7fZPrsC5wUhDp+oNhN6p8UVC+25vyeVK/zTwciHQ86yJsDGj5a57UW/wjXkvw1hntzcyaDw8fvBknEluTRmNTUrOav+aIg6M6VphzxOMRtWCDcCmAOJlIlEbruxkochcTe3IjnMNGQKYckwuJBeXb3Tqf/K/jnjmfz3PL+A+xHCLkkD0EumZvC+KCOyzNNuFsw8Xx4894txSZ5bv9uftdzbnR8D3ECJZ54ffmiEfRHZfMZE2uwZXEEt0OQSwBJpd+kA2DDHL/oqZxyoppWA9Nvo1eBhlVkEH2HQfFjkMkgWFCNNg0dJaeCWqZUbJ+HfEdFyPkViIxFWcPjNDEnISf9beftcG7sSKQ+vKqZfDWWJ4WXgXdFCh1xKWzdfayR+rLq5ZBH//zK0IeXBMBCCLCJoXFyufdWtgO06geRbEuibwBUYBYJ2ewck0DiacDkIcbcVYJcBS4lfgcZ00+gcI6S9uENYDLjJIEagpTfIunPWelbNI1s1LfseA/8QenPDU77u8Q2QAAAABJRU5ErkJggg==",DS=({isSidebarOpen:t,toggleSidebar:e,onTasksClick:n})=>{const i=dr(),{user:r}=S.useContext(vi)||{},[o,a]=S.useState(window.innerWidth<=768);S.useEffect(()=>{const f=()=>{a(window.innerWidth<=768)};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),S.useEffect(()=>{o&&e()},[o]);const u=f=>i.pathname===f,h=i.pathname.startsWith("/home");return _.jsxs("div",{id:"sidebar",className:`sidebar ${t?"":"collapsed"} ${o?"mobile-sidebar":""}`,children:[_.jsxs("div",{className:"sidebar-header",children:[_.jsx("button",{className:"menu-button",onClick:e,children:_.jsx("img",{src:MS,alt:"Menu",className:"sidebar-icon"})}),t&&_.jsx("button",{className:"sidebar-title",onClick:()=>window.location.href="/home",children:"MyWork"})]}),_.jsx("div",{className:"sidebar-links",children:h?_.jsxs(_.Fragment,{children:[_.jsxs(jt,{to:"/home/news",className:`sidebar-link ${u("/home/news")?"active":""}`,children:[_.jsx("img",{src:sB,alt:"News",className:"sidebar-icon"}),t&&_.jsx("span",{children:"News"})]}),r&&_.jsxs(_.Fragment,{children:[_.jsxs(jt,{to:r!=null&&r.isAdmin?"/home/admin-tasks":"/home/tasks",className:`sidebar-link ${u("/home/tasks")||u("/home/admin-tasks")?"active":""}`,onClick:n,children:[_.jsx("img",{src:kw,alt:"Tasks",className:"sidebar-icon"}),t&&_.jsx("span",{children:"Tasks"})]}),_.jsxs(jt,{to:"/home/message-board",className:`sidebar-link ${u("/home/message-board")?"active":""}`,children:[_.jsx("img",{src:oB,alt:"Message Board",className:"sidebar-icon"}),t&&_.jsx("span",{children:"Message Board"})]}),_.jsxs(jt,{to:"/home/calendar",className:`sidebar-link ${u("/home/calendar")?"active":""}`,children:[_.jsx("img",{src:aB,alt:"Calendar",className:"sidebar-icon"}),t&&_.jsx("span",{children:"Calendar"})]})]})]}):_.jsxs(_.Fragment,{children:[_.jsxs(jt,{to:"/profile/info",className:`sidebar-link ${u("/profile/info")?"active":""}`,children:[_.jsx("img",{src:lB,alt:"Info",className:"sidebar-icon"}),t&&_.jsx("span",{children:"Info"})]}),_.jsxs(jt,{to:"/profile/reminders",className:`sidebar-link ${u("/profile/reminders")?"active":""}`,children:[_.jsx("img",{src:kw,alt:"Reminders",className:"sidebar-icon"}),t&&_.jsx("span",{children:"Reminders"})]})]})}),t&&_.jsx("div",{className:"sidebar-name",children:_.jsx("span",{children:"Yiğit Alp Bilgin"})}),_.jsxs("div",{className:"sidebar-social-media",children:[_.jsx("a",{href:"https://www.linkedin.com/in/yi%C4%9Fit-alp-bilgin-964444148/",target:"_blank",rel:"noopener noreferrer",children:_.jsx("img",{src:uB,alt:"LinkedIn",className:"social-icon"})}),_.jsx("a",{href:"https://www.instagram.com/yigitalp_bilgin/",target:"_blank",rel:"noopener noreferrer",children:_.jsx("img",{src:cB,alt:"Instagram",className:"social-icon"})}),_.jsx("a",{href:"https://www.twitter.com",target:"_blank",rel:"noopener noreferrer",children:_.jsx("img",{src:hB,alt:"Twitter",className:"social-icon"})})]})]})};function BS(t,e){return function(){return t.apply(e,arguments)}}const{toString:dB}=Object.prototype,{getPrototypeOf:Ng}=Object,gh=(t=>e=>{const n=dB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Sn=t=>(t=t.toLowerCase(),e=>gh(e)===t),_h=t=>e=>typeof e===t,{isArray:_o}=Array,Ya=_h("undefined");function fB(t){return t!==null&&!Ya(t)&&t.constructor!==null&&!Ya(t.constructor)&&Ht(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jS=Sn("ArrayBuffer");function pB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jS(t.buffer),e}const mB=_h("string"),Ht=_h("function"),FS=_h("number"),vh=t=>t!==null&&typeof t=="object",gB=t=>t===!0||t===!1,Nu=t=>{if(gh(t)!=="object")return!1;const e=Ng(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_B=Sn("Date"),vB=Sn("File"),yB=Sn("Blob"),wB=Sn("FileList"),EB=t=>vh(t)&&Ht(t.pipe),AB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ht(t.append)&&((e=gh(t))==="formdata"||e==="object"&&Ht(t.toString)&&t.toString()==="[object FormData]"))},CB=Sn("URLSearchParams"),[SB,TB,xB,IB]=["ReadableStream","Request","Response","Headers"].map(Sn),kB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _l(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),_o(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let u;for(i=0;i<a;i++)u=o[i],e.call(null,t[u],u,t)}}function US(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Nr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zS=t=>!Ya(t)&&t!==Nr;function _p(){const{caseless:t}=zS(this)&&this||{},e={},n=(i,r)=>{const o=t&&US(e,r)||r;Nu(e[o])&&Nu(i)?e[o]=_p(e[o],i):Nu(i)?e[o]=_p({},i):_o(i)?e[o]=i.slice():e[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&_l(arguments[i],n);return e}const PB=(t,e,n,{allOwnKeys:i}={})=>(_l(e,(r,o)=>{n&&Ht(r)?t[o]=BS(r,n):t[o]=r},{allOwnKeys:i}),t),RB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),NB=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},bB=(t,e,n,i)=>{let r,o,a;const u={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)a=r[o],(!i||i(a,t,e))&&!u[a]&&(e[a]=t[a],u[a]=!0);t=n!==!1&&Ng(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},LB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},OB=t=>{if(!t)return null;if(_o(t))return t;let e=t.length;if(!FS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},MB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ng(Uint8Array)),DB=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},BB=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},jB=Sn("HTMLFormElement"),FB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),Pw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),UB=Sn("RegExp"),WS=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};_l(n,(r,o)=>{let a;(a=e(r,o,t))!==!1&&(i[o]=a||r)}),Object.defineProperties(t,i)},zB=t=>{WS(t,(e,n)=>{if(Ht(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Ht(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},WB=(t,e)=>{const n={},i=r=>{r.forEach(o=>{n[o]=!0})};return _o(t)?i(t):i(String(t).split(e)),n},HB=()=>{},VB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Ud="abcdefghijklmnopqrstuvwxyz",Rw="0123456789",HS={DIGIT:Rw,ALPHA:Ud,ALPHA_DIGIT:Ud+Ud.toUpperCase()+Rw},ZB=(t=16,e=HS.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function KB(t){return!!(t&&Ht(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const QB=t=>{const e=new Array(10),n=(i,r)=>{if(vh(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const o=_o(i)?[]:{};return _l(i,(a,u)=>{const h=n(a,r+1);!Ya(h)&&(o[u]=h)}),e[r]=void 0,o}}return i};return n(t,0)},GB=Sn("AsyncFunction"),qB=t=>t&&(vh(t)||Ht(t))&&Ht(t.then)&&Ht(t.catch),VS=((t,e)=>t?setImmediate:e?((n,i)=>(Nr.addEventListener("message",({source:r,data:o})=>{r===Nr&&o===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Nr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ht(Nr.postMessage)),$B=typeof queueMicrotask<"u"?queueMicrotask.bind(Nr):typeof process<"u"&&process.nextTick||VS,b={isArray:_o,isArrayBuffer:jS,isBuffer:fB,isFormData:AB,isArrayBufferView:pB,isString:mB,isNumber:FS,isBoolean:gB,isObject:vh,isPlainObject:Nu,isReadableStream:SB,isRequest:TB,isResponse:xB,isHeaders:IB,isUndefined:Ya,isDate:_B,isFile:vB,isBlob:yB,isRegExp:UB,isFunction:Ht,isStream:EB,isURLSearchParams:CB,isTypedArray:MB,isFileList:wB,forEach:_l,merge:_p,extend:PB,trim:kB,stripBOM:RB,inherits:NB,toFlatObject:bB,kindOf:gh,kindOfTest:Sn,endsWith:LB,toArray:OB,forEachEntry:DB,matchAll:BB,isHTMLForm:jB,hasOwnProperty:Pw,hasOwnProp:Pw,reduceDescriptors:WS,freezeMethods:zB,toObjectSet:WB,toCamelCase:FB,noop:HB,toFiniteNumber:VB,findKey:US,global:Nr,isContextDefined:zS,ALPHABET:HS,generateString:ZB,isSpecCompliantForm:KB,toJSONObject:QB,isAsyncFn:GB,isThenable:qB,setImmediate:VS,asap:$B};function ee(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}b.inherits(ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ZS=ee.prototype,KS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{KS[t]={value:t}});Object.defineProperties(ee,KS);Object.defineProperty(ZS,"isAxiosError",{value:!0});ee.from=(t,e,n,i,r,o)=>{const a=Object.create(ZS);return b.toFlatObject(t,a,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),ee.call(a,t.message,e,n,i,r),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const YB=null;function vp(t){return b.isPlainObject(t)||b.isArray(t)}function QS(t){return b.endsWith(t,"[]")?t.slice(0,-2):t}function Nw(t,e,n){return t?t.concat(e).map(function(r,o){return r=QS(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function JB(t){return b.isArray(t)&&!t.some(vp)}const XB=b.toFlatObject(b,{},null,function(e){return/^is[A-Z]/.test(e)});function yh(t,e,n){if(!b.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,k){return!b.isUndefined(k[x])});const i=n.metaTokens,r=n.visitor||g,o=n.dots,a=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(e);if(!b.isFunction(r))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(b.isDate(w))return w.toISOString();if(!h&&b.isBlob(w))throw new ee("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(w)||b.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,x,k){let C=w;if(w&&!k&&typeof w=="object"){if(b.endsWith(x,"{}"))x=i?x:x.slice(0,-2),w=JSON.stringify(w);else if(b.isArray(w)&&JB(w)||(b.isFileList(w)||b.endsWith(x,"[]"))&&(C=b.toArray(w)))return x=QS(x),C.forEach(function(T,R){!(b.isUndefined(T)||T===null)&&e.append(a===!0?Nw([x],R,o):a===null?x:x+"[]",f(T))}),!1}return vp(w)?!0:(e.append(Nw(k,x,o),f(w)),!1)}const p=[],v=Object.assign(XB,{defaultVisitor:g,convertValue:f,isVisitable:vp});function E(w,x){if(!b.isUndefined(w)){if(p.indexOf(w)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(w),b.forEach(w,function(C,A){(!(b.isUndefined(C)||C===null)&&r.call(e,C,b.isString(A)?A.trim():A,x,v))===!0&&E(C,x?x.concat(A):[A])}),p.pop()}}if(!b.isObject(t))throw new TypeError("data must be an object");return E(t),e}function bw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function bg(t,e){this._pairs=[],t&&yh(t,this,e)}const GS=bg.prototype;GS.append=function(e,n){this._pairs.push([e,n])};GS.toString=function(e){const n=e?function(i){return e.call(this,i,bw)}:bw;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function ej(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qS(t,e,n){if(!e)return t;const i=n&&n.encode||ej,r=n&&n.serialize;let o;if(r?o=r(e,n):o=b.isURLSearchParams(e)?e.toString():new bg(e,n).toString(i),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Lw{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){b.forEach(this.handlers,function(i){i!==null&&e(i)})}}const $S={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tj=typeof URLSearchParams<"u"?URLSearchParams:bg,nj=typeof FormData<"u"?FormData:null,ij=typeof Blob<"u"?Blob:null,rj={isBrowser:!0,classes:{URLSearchParams:tj,FormData:nj,Blob:ij},protocols:["http","https","file","blob","url","data"]},Lg=typeof window<"u"&&typeof document<"u",sj=(t=>Lg&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),oj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",aj=Lg&&window.location.href||"http://localhost",lj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lg,hasStandardBrowserEnv:sj,hasStandardBrowserWebWorkerEnv:oj,origin:aj},Symbol.toStringTag,{value:"Module"})),wn={...lj,...rj};function uj(t,e){return yh(t,new wn.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,o){return wn.isNode&&b.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function cj(t){return b.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function hj(t){const e={},n=Object.keys(t);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],e[o]=t[o];return e}function YS(t){function e(n,i,r,o){let a=n[o++];if(a==="__proto__")return!0;const u=Number.isFinite(+a),h=o>=n.length;return a=!a&&b.isArray(r)?r.length:a,h?(b.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!u):((!r[a]||!b.isObject(r[a]))&&(r[a]=[]),e(n,i,r[a],o)&&b.isArray(r[a])&&(r[a]=hj(r[a])),!u)}if(b.isFormData(t)&&b.isFunction(t.entries)){const n={};return b.forEachEntry(t,(i,r)=>{e(cj(i),r,n,0)}),n}return null}function dj(t,e,n){if(b.isString(t))try{return(e||JSON.parse)(t),b.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const vl={transitional:$S,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=b.isObject(e);if(o&&b.isHTMLForm(e)&&(e=new FormData(e)),b.isFormData(e))return r?JSON.stringify(YS(e)):e;if(b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e)||b.isReadableStream(e))return e;if(b.isArrayBufferView(e))return e.buffer;if(b.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return uj(e,this.formSerializer).toString();if((u=b.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return yh(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),dj(e)):e}],transformResponse:[function(e){const n=this.transitional||vl.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(b.isResponse(e)||b.isReadableStream(e))return e;if(e&&b.isString(e)&&(i&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(u){if(a)throw u.name==="SyntaxError"?ee.from(u,ee.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wn.classes.FormData,Blob:wn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],t=>{vl.headers[t]={}});const fj=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pj=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!n||e[n]&&fj[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Ow=Symbol("internals");function Go(t){return t&&String(t).trim().toLowerCase()}function bu(t){return t===!1||t==null?t:b.isArray(t)?t.map(bu):String(t)}function mj(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const gj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zd(t,e,n,i,r){if(b.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!b.isString(e)){if(b.isString(i))return e.indexOf(i)!==-1;if(b.isRegExp(i))return i.test(e)}}function _j(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function vj(t,e){const n=b.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,o,a){return this[i].call(this,e,r,o,a)},configurable:!0})})}class Dt{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function o(u,h,f){const g=Go(h);if(!g)throw new Error("header name must be a non-empty string");const p=b.findKey(r,g);(!p||r[p]===void 0||f===!0||f===void 0&&r[p]!==!1)&&(r[p||h]=bu(u))}const a=(u,h)=>b.forEach(u,(f,g)=>o(f,g,h));if(b.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(b.isString(e)&&(e=e.trim())&&!gj(e))a(pj(e),n);else if(b.isHeaders(e))for(const[u,h]of e.entries())o(h,u,i);else e!=null&&o(n,e,i);return this}get(e,n){if(e=Go(e),e){const i=b.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return mj(r);if(b.isFunction(n))return n.call(this,r,i);if(b.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Go(e),e){const i=b.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||zd(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function o(a){if(a=Go(a),a){const u=b.findKey(i,a);u&&(!n||zd(i,i[u],u,n))&&(delete i[u],r=!0)}}return b.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const o=n[i];(!e||zd(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,i={};return b.forEach(this,(r,o)=>{const a=b.findKey(i,o);if(a){n[a]=bu(r),delete n[o];return}const u=e?_j(o):String(o).trim();u!==o&&delete n[o],n[u]=bu(r),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return b.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&b.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Ow]=this[Ow]={accessors:{}}).accessors,r=this.prototype;function o(a){const u=Go(a);i[u]||(vj(r,a),i[u]=!0)}return b.isArray(e)?e.forEach(o):o(e),this}}Dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(Dt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});b.freezeMethods(Dt);function Wd(t,e){const n=this||vl,i=e||n,r=Dt.from(i.headers);let o=i.data;return b.forEach(t,function(u){o=u.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function JS(t){return!!(t&&t.__CANCEL__)}function vo(t,e,n){ee.call(this,t??"canceled",ee.ERR_CANCELED,e,n),this.name="CanceledError"}b.inherits(vo,ee,{__CANCEL__:!0});function XS(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ee("Request failed with status code "+n.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function yj(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wj(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,o=0,a;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),g=i[o];a||(a=f),n[r]=h,i[r]=f;let p=o,v=0;for(;p!==r;)v+=n[p++],p=p%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),f-a<e)return;const E=g&&f-g;return E?Math.round(v*1e3/E):void 0}}function Ej(t,e){let n=0,i=1e3/e,r,o;const a=(f,g=Date.now())=>{n=g,r=null,o&&(clearTimeout(o),o=null),t.apply(null,f)};return[(...f)=>{const g=Date.now(),p=g-n;p>=i?a(f,g):(r=f,o||(o=setTimeout(()=>{o=null,a(r)},i-p)))},()=>r&&a(r)]}const Pc=(t,e,n=3)=>{let i=0;const r=wj(50,250);return Ej(o=>{const a=o.loaded,u=o.lengthComputable?o.total:void 0,h=a-i,f=r(h),g=a<=u;i=a;const p={loaded:a,total:u,progress:u?a/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&g?(u-a)/f:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(p)},n)},Mw=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},Dw=t=>(...e)=>b.asap(()=>t(...e)),Aj=wn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(o){let a=o;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(a){const u=b.isString(a)?r(a):a;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),Cj=wn.hasStandardBrowserEnv?{write(t,e,n,i,r,o){const a=[t+"="+encodeURIComponent(e)];b.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),b.isString(i)&&a.push("path="+i),b.isString(r)&&a.push("domain="+r),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Sj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Tj(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function eT(t,e){return t&&!Sj(e)?Tj(t,e):e}const Bw=t=>t instanceof Dt?{...t}:t;function qr(t,e){e=e||{};const n={};function i(f,g,p){return b.isPlainObject(f)&&b.isPlainObject(g)?b.merge.call({caseless:p},f,g):b.isPlainObject(g)?b.merge({},g):b.isArray(g)?g.slice():g}function r(f,g,p){if(b.isUndefined(g)){if(!b.isUndefined(f))return i(void 0,f,p)}else return i(f,g,p)}function o(f,g){if(!b.isUndefined(g))return i(void 0,g)}function a(f,g){if(b.isUndefined(g)){if(!b.isUndefined(f))return i(void 0,f)}else return i(void 0,g)}function u(f,g,p){if(p in e)return i(f,g);if(p in t)return i(void 0,f)}const h={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(f,g)=>r(Bw(f),Bw(g),!0)};return b.forEach(Object.keys(Object.assign({},t,e)),function(g){const p=h[g]||r,v=p(t[g],e[g],g);b.isUndefined(v)&&p!==u||(n[g]=v)}),n}const tT=t=>{const e=qr({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:o,headers:a,auth:u}=e;e.headers=a=Dt.from(a),e.url=qS(eT(e.baseURL,e.url),t.params,t.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(b.isFormData(n)){if(wn.hasStandardBrowserEnv||wn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((h=a.getContentType())!==!1){const[f,...g]=h?h.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([f||"multipart/form-data",...g].join("; "))}}if(wn.hasStandardBrowserEnv&&(i&&b.isFunction(i)&&(i=i(e)),i||i!==!1&&Aj(e.url))){const f=r&&o&&Cj.read(o);f&&a.set(r,f)}return e},xj=typeof XMLHttpRequest<"u",Ij=xj&&function(t){return new Promise(function(n,i){const r=tT(t);let o=r.data;const a=Dt.from(r.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:f}=r,g,p,v,E,w;function x(){E&&E(),w&&w(),r.cancelToken&&r.cancelToken.unsubscribe(g),r.signal&&r.signal.removeEventListener("abort",g)}let k=new XMLHttpRequest;k.open(r.method.toUpperCase(),r.url,!0),k.timeout=r.timeout;function C(){if(!k)return;const T=Dt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),M={data:!u||u==="text"||u==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:T,config:t,request:k};XS(function(F){n(F),x()},function(F){i(F),x()},M),k=null}"onloadend"in k?k.onloadend=C:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(C)},k.onabort=function(){k&&(i(new ee("Request aborted",ee.ECONNABORTED,t,k)),k=null)},k.onerror=function(){i(new ee("Network Error",ee.ERR_NETWORK,t,k)),k=null},k.ontimeout=function(){let R=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const M=r.transitional||$S;r.timeoutErrorMessage&&(R=r.timeoutErrorMessage),i(new ee(R,M.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,t,k)),k=null},o===void 0&&a.setContentType(null),"setRequestHeader"in k&&b.forEach(a.toJSON(),function(R,M){k.setRequestHeader(M,R)}),b.isUndefined(r.withCredentials)||(k.withCredentials=!!r.withCredentials),u&&u!=="json"&&(k.responseType=r.responseType),f&&([v,w]=Pc(f,!0),k.addEventListener("progress",v)),h&&k.upload&&([p,E]=Pc(h),k.upload.addEventListener("progress",p),k.upload.addEventListener("loadend",E)),(r.cancelToken||r.signal)&&(g=T=>{k&&(i(!T||T.type?new vo(null,t,k):T),k.abort(),k=null)},r.cancelToken&&r.cancelToken.subscribe(g),r.signal&&(r.signal.aborted?g():r.signal.addEventListener("abort",g)));const A=yj(r.url);if(A&&wn.protocols.indexOf(A)===-1){i(new ee("Unsupported protocol "+A+":",ee.ERR_BAD_REQUEST,t));return}k.send(o||null)})},kj=(t,e)=>{let n=new AbortController,i;const r=function(h){if(!i){i=!0,a();const f=h instanceof Error?h:this.reason;n.abort(f instanceof ee?f:new vo(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{r(new ee(`timeout ${e} of ms exceeded`,ee.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h&&(h.removeEventListener?h.removeEventListener("abort",r):h.unsubscribe(r))}),t=null)};t.forEach(h=>h&&h.addEventListener&&h.addEventListener("abort",r));const{signal:u}=n;return u.unsubscribe=a,[u,()=>{o&&clearTimeout(o),o=null}]},Pj=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},Rj=async function*(t,e,n){for await(const i of t)yield*Pj(ArrayBuffer.isView(i)?i:await n(String(i)),e)},jw=(t,e,n,i,r)=>{const o=Rj(t,e,r);let a=0,u,h=f=>{u||(u=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:g,value:p}=await o.next();if(g){h(),f.close();return}let v=p.byteLength;if(n){let E=a+=v;n(E)}f.enqueue(new Uint8Array(p))}catch(g){throw h(g),g}},cancel(f){return h(f),o.return()}},{highWaterMark:2})},wh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nT=wh&&typeof ReadableStream=="function",yp=wh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),iT=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Nj=nT&&iT(()=>{let t=!1;const e=new Request(wn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Fw=64*1024,wp=nT&&iT(()=>b.isReadableStream(new Response("").body)),Rc={stream:wp&&(t=>t.body)};wh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Rc[e]&&(Rc[e]=b.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new ee(`Response type '${e}' is not supported`,ee.ERR_NOT_SUPPORT,i)})})})(new Response);const bj=async t=>{if(t==null)return 0;if(b.isBlob(t))return t.size;if(b.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(b.isArrayBufferView(t)||b.isArrayBuffer(t))return t.byteLength;if(b.isURLSearchParams(t)&&(t=t+""),b.isString(t))return(await yp(t)).byteLength},Lj=async(t,e)=>{const n=b.toFiniteNumber(t.getContentLength());return n??bj(e)},Oj=wh&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:o,timeout:a,onDownloadProgress:u,onUploadProgress:h,responseType:f,headers:g,withCredentials:p="same-origin",fetchOptions:v}=tT(t);f=f?(f+"").toLowerCase():"text";let[E,w]=r||o||a?kj([r,o],a):[],x,k;const C=()=>{!x&&setTimeout(()=>{E&&E.unsubscribe()}),x=!0};let A;try{if(h&&Nj&&n!=="get"&&n!=="head"&&(A=await Lj(g,i))!==0){let B=new Request(e,{method:"POST",body:i,duplex:"half"}),F;if(b.isFormData(i)&&(F=B.headers.get("content-type"))&&g.setContentType(F),B.body){const[W,ie]=Mw(A,Pc(Dw(h)));i=jw(B.body,Fw,W,ie,yp)}}b.isString(p)||(p=p?"include":"omit"),k=new Request(e,{...v,signal:E,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:i,duplex:"half",credentials:p});let T=await fetch(k);const R=wp&&(f==="stream"||f==="response");if(wp&&(u||R)){const B={};["status","statusText","headers"].forEach(Q=>{B[Q]=T[Q]});const F=b.toFiniteNumber(T.headers.get("content-length")),[W,ie]=u&&Mw(F,Pc(Dw(u),!0))||[];T=new Response(jw(T.body,Fw,W,()=>{ie&&ie(),R&&C()},yp),B)}f=f||"text";let M=await Rc[b.findKey(Rc,f)||"text"](T,t);return!R&&C(),w&&w(),await new Promise((B,F)=>{XS(B,F,{data:M,headers:Dt.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:k})})}catch(T){throw C(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new ee("Network Error",ee.ERR_NETWORK,t,k),{cause:T.cause||T}):ee.from(T,T&&T.code,t,k)}}),Ep={http:YB,xhr:Ij,fetch:Oj};b.forEach(Ep,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Uw=t=>`- ${t}`,Mj=t=>b.isFunction(t)||t===null||t===!1,rT={getAdapter:t=>{t=b.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let o=0;o<e;o++){n=t[o];let a;if(i=n,!Mj(n)&&(i=Ep[(a=String(n)).toLowerCase()],i===void 0))throw new ee(`Unknown adapter '${a}'`);if(i)break;r[a||"#"+o]=i}if(!i){const o=Object.entries(r).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(Uw).join(`
`):" "+Uw(o[0]):"as no adapter specified";throw new ee("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:Ep};function Hd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vo(null,t)}function zw(t){return Hd(t),t.headers=Dt.from(t.headers),t.data=Wd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),rT.getAdapter(t.adapter||vl.adapter)(t).then(function(i){return Hd(t),i.data=Wd.call(t,t.transformResponse,i),i.headers=Dt.from(i.headers),i},function(i){return JS(i)||(Hd(t),i&&i.response&&(i.response.data=Wd.call(t,t.transformResponse,i.response),i.response.headers=Dt.from(i.response.headers))),Promise.reject(i)})}const sT="1.7.4",Og={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Og[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Ww={};Og.transitional=function(e,n,i){function r(o,a){return"[Axios v"+sT+"] Transitional option '"+o+"'"+a+(i?". "+i:"")}return(o,a,u)=>{if(e===!1)throw new ee(r(a," has been removed"+(n?" in "+n:"")),ee.ERR_DEPRECATED);return n&&!Ww[a]&&(Ww[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,u):!0}};function Dj(t,e,n){if(typeof t!="object")throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const o=i[r],a=e[o];if(a){const u=t[o],h=u===void 0||a(u,o,t);if(h!==!0)throw new ee("option "+o+" must be "+h,ee.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ee("Unknown option "+o,ee.ERR_BAD_OPTION)}}const Ap={assertOptions:Dj,validators:Og},Ii=Ap.validators;class Or{constructor(e){this.defaults=e,this.interceptors={request:new Lw,response:new Lw}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=qr(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:o}=n;i!==void 0&&Ap.assertOptions(i,{silentJSONParsing:Ii.transitional(Ii.boolean),forcedJSONParsing:Ii.transitional(Ii.boolean),clarifyTimeoutError:Ii.transitional(Ii.boolean)},!1),r!=null&&(b.isFunction(r)?n.paramsSerializer={serialize:r}:Ap.assertOptions(r,{encode:Ii.function,serialize:Ii.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&b.merge(o.common,o[n.method]);o&&b.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=Dt.concat(a,o);const u=[];let h=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(h=h&&x.synchronous,u.unshift(x.fulfilled,x.rejected))});const f=[];this.interceptors.response.forEach(function(x){f.push(x.fulfilled,x.rejected)});let g,p=0,v;if(!h){const w=[zw.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,f),v=w.length,g=Promise.resolve(n);p<v;)g=g.then(w[p++],w[p++]);return g}v=u.length;let E=n;for(p=0;p<v;){const w=u[p++],x=u[p++];try{E=w(E)}catch(k){x.call(this,k);break}}try{g=zw.call(this,E)}catch(w){return Promise.reject(w)}for(p=0,v=f.length;p<v;)g=g.then(f[p++],f[p++]);return g}getUri(e){e=qr(this.defaults,e);const n=eT(e.baseURL,e.url);return qS(n,e.params,e.paramsSerializer)}}b.forEach(["delete","get","head","options"],function(e){Or.prototype[e]=function(n,i){return this.request(qr(i||{},{method:e,url:n,data:(i||{}).data}))}});b.forEach(["post","put","patch"],function(e){function n(i){return function(o,a,u){return this.request(qr(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Or.prototype[e]=n(),Or.prototype[e+"Form"]=n(!0)});class Mg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const a=new Promise(u=>{i.subscribe(u),o=u}).then(r);return a.cancel=function(){i.unsubscribe(o)},a},e(function(o,a,u){i.reason||(i.reason=new vo(o,a,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Mg(function(r){e=r}),cancel:e}}}function Bj(t){return function(n){return t.apply(null,n)}}function jj(t){return b.isObject(t)&&t.isAxiosError===!0}const Cp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cp).forEach(([t,e])=>{Cp[e]=t});function oT(t){const e=new Or(t),n=BS(Or.prototype.request,e);return b.extend(n,Or.prototype,e,{allOwnKeys:!0}),b.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return oT(qr(t,r))},n}const $e=oT(vl);$e.Axios=Or;$e.CanceledError=vo;$e.CancelToken=Mg;$e.isCancel=JS;$e.VERSION=sT;$e.toFormData=yh;$e.AxiosError=ee;$e.Cancel=$e.CanceledError;$e.all=function(e){return Promise.all(e)};$e.spread=Bj;$e.isAxiosError=jj;$e.mergeConfig=qr;$e.AxiosHeaders=Dt;$e.formToJSON=t=>YS(b.isHTMLForm(t)?new FormData(t):t);$e.getAdapter=rT.getAdapter;$e.HttpStatusCode=Cp;$e.default=$e;const Fj=()=>{const[t,e]=S.useState([]),[n,i]=S.useState(null),r="https://via.placeholder.com/150";S.useEffect(()=>{(async()=>{try{const h=await $e.get("https://api.nytimes.com/svc/topstories/v2/home.json",{params:{"api-key":"HvwFcwgE3AP69sHN99OfmtAvLujuFMPm"}});e(h.data.results)}catch(h){i("Failed to fetch news"),console.error("Error fetching news:",h)}})()},[]);const o=u=>u?u.startsWith("http:")&&window.location.protocol==="https:"?u.replace("http:","https:"):u:r,a=u=>{window.open(u,"_blank")};return n?_.jsx("div",{id:"latest-news",className:"latest-news",children:n}):_.jsxs("div",{id:"latest-news",className:"latest-news",children:[_.jsx("h2",{children:"Hot Topics"}),t.length>0&&_.jsxs("div",{className:"hot-topic",onClick:()=>a(t[0].url),children:[_.jsx("img",{src:o(t[0].multimedia&&t[0].multimedia[0]?t[0].multimedia[0].url:"")||r,alt:"Hot Topic",className:"hot-topic-image"}),_.jsxs("div",{className:"hot-topic-details",children:[_.jsx("h3",{children:t[0].title}),_.jsxs("p",{children:[t[0].published_date," - ",t[0].source]})]})]}),_.jsx("h2",{children:"Latest News"}),_.jsx("div",{className:"latest-news-list",children:t.slice(1,4).map((u,h)=>{const f=o(u.multimedia&&u.multimedia[0]?u.multimedia[0].url:"");return _.jsxs("div",{className:"latest-news-item",onClick:()=>a(u.url),children:[_.jsx("img",{src:f,alt:"Latest News",className:"latest-news-image"}),_.jsx("p",{children:u.title})]},h)})})]})},Uj=()=>{const[t,e]=S.useState([]);return S.useEffect(()=>{const n=ge(),i=he(n,"tasks");xt(i,r=>{const o=r.val();if(o){const a=Object.keys(o).map(u=>({title:u,...o[u]})).filter(u=>u.status==="TO DO"||u.status==="IN PROGRESS");e(a)}})},[]),_.jsxs("div",{id:"status-section",className:"status-section",children:[_.jsx("h2",{children:"Task Status"}),_.jsxs("table",{children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{className:"task-title",children:"Task Title"}),_.jsx("th",{className:"task-desc",children:"Task Description"}),_.jsx("th",{className:"task-status",children:"Status"})]})}),_.jsx("tbody",{children:t.map((n,i)=>_.jsxs("tr",{children:[_.jsx("td",{className:"task-title",children:i+1})," ",_.jsx("td",{className:"task-desc",children:n.summary}),_.jsx("td",{className:`task-status ${n.status.toLowerCase().replace(" ","-")}`,children:n.status})]},i))})]})]})},zj=()=>{const[t,e]=S.useState([]);return S.useEffect(()=>{const n=ge(),i=he(n,"users");xt(i,r=>{const o=r.val();if(o){const a=Object.keys(o).map(u=>({uid:u,...o[u]}));e(a)}})},[]),_.jsxs("div",{id:"persons-section",className:"persons-section",children:[_.jsx("h2",{children:"Registered Users"}),_.jsx("ul",{children:t.map(n=>_.jsxs("li",{className:"person-item",children:[n.profilePicture&&_.jsx("img",{src:n.profilePicture,alt:`${n.name}'s profile`,className:"profile-picture"}),_.jsx("span",{className:"person-name",children:n.name})," "]},n.uid))})]})},Wj=()=>{const[t,e]=S.useState([]);return S.useEffect(()=>{const n=ge(),i=he(n,"tasks");xt(i,r=>{const o=r.val();if(o){const a=Object.keys(o).map(u=>({key:u,displayKey:o[u].displayKey||t.length+1,...o[u]}));a.sort((u,h)=>u.displayKey-h.displayKey),e(a)}})},[]),_.jsx("div",{id:"home-tasks",className:"home-tasks",children:_.jsxs("table",{className:"tasks-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{className:"key-header",children:"Key"}),_.jsx("th",{children:"Summary"}),_.jsx("th",{children:"Status"}),_.jsx("th",{className:"assignee-header",children:"Assignee"})]})}),_.jsx("tbody",{children:t.map(n=>_.jsxs("tr",{children:[_.jsx("td",{className:"key-cell",children:_.jsxs("div",{className:"key-input-wrapper",children:[_.jsx("span",{className:"key-hash",children:"#"})," ",_.jsx("span",{children:n.displayKey})," "]})}),_.jsxs("td",{className:"summary",children:[n.summary," "]}),_.jsxs("td",{className:`status ${n.status.toLowerCase().replace(" ","-")}`,children:[n.status," "]}),_.jsxs("td",{className:"assignee",children:[n.assignee," "]})]},n.key))})]})})},Ja={_origin:"https://api.emailjs.com"},Hj=(t,e="https://api.emailjs.com")=>{Ja._userID=t,Ja._origin=e},aT=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Hw{constructor(e){this.status=e.status,this.text=e.responseText}}const lT=(t,e,n={})=>new Promise((i,r)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:a})=>{const u=new Hw(a);u.status===200||u.text==="OK"?i(u):r(u)}),o.addEventListener("error",({target:a})=>{r(new Hw(a))}),o.open("POST",Ja._origin+t,!0),Object.keys(n).forEach(a=>{o.setRequestHeader(a,n[a])}),o.send(e)}),Vj=(t,e,n,i)=>{const r=i||Ja._userID;return aT(r,t,e),lT("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},Zj=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},Kj=(t,e,n,i)=>{const r=i||Ja._userID,o=Zj(n);aT(r,t,e);const a=new FormData(o);return a.append("lib_version","3.2.0"),a.append("service_id",t),a.append("template_id",e),a.append("user_id",r),lT("/api/v1.0/email/send-form",a)},uT={init:Hj,send:Vj,sendForm:Kj},Qj=()=>{const[t,e]=S.useState([]),[n,i]=S.useState([]);S.useEffect(()=>{const p=ge(),v=he(p,"tasks");xt(v,w=>{const x=w.val();if(x){const k=Object.keys(x).map(C=>({key:C,displayKey:x[C].displayKey||t.length+1,...x[C]}));k.sort((C,A)=>C.displayKey-A.displayKey),e(k)}});const E=he(p,"users");xt(E,w=>{const x=w.val();if(x){const k=Object.keys(x).map(C=>({uid:C,name:x[C].name,email:x[C].email}));i(k)}})},[]);const r=p=>{const v=[...t],E=v[p].status;let w="TO DO";E==="TO DO"?w="IN PROGRESS":E==="IN PROGRESS"&&(w="DONE"),v[p].status=w,u(v)},o=(p,v,E)=>{const w=[...t];v==="displayKey"?w[p].displayKey=parseInt(E):w[p][v]=E,w.sort((x,k)=>x.displayKey-k.displayKey),e(w),u(w)},a=(p,v)=>{const E=[...t];E[p].assignee=v,e(E),u(E)},u=p=>{const v=ge(),E=he(v,"tasks"),w=p.reduce((x,k)=>(x[k.key]={displayKey:k.displayKey,summary:k.summary,status:k.status,assignee:k.assignee},x),{});Ut(E,w)},h=()=>{const p=ge(),v=Date.now().toString(),E=t.length>0?Math.max(...t.map(x=>x.displayKey))+1:1,w={key:v,displayKey:E,summary:"",status:"TO DO",assignee:""};Ut(he(p,"tasks/"+w.key),w),e(x=>[...x,w].sort((k,C)=>k.displayKey-C.displayKey))},f=p=>{const v=ge(),E=he(v,"tasks/"+p);Pg(E),e(w=>w.filter(x=>x.key!==p))},g=p=>{const v=n.find(E=>E.name===p.assignee);if(v){const E={name:v.name,task_summary:p.summary,task_status:p.status,email:v.email};uT.send("service_h2uk57t","template_0yelkcd",E,"9h7w37IYT_ZFZeu8r").then(()=>{alert("Reminder email sent successfully!")}).catch(w=>{console.error("Error sending email:",w)})}};return _.jsxs("div",{id:"home-tasks",className:"home-tasks",children:[_.jsx("button",{onClick:h,className:"add-task-button",children:"Add Task"}),_.jsxs("table",{className:"tasks-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{className:"key-header",children:"Key"}),_.jsx("th",{children:"Summary"}),_.jsx("th",{children:"Status"}),_.jsx("th",{className:"assignee-admin-header",children:"Assignee"}),_.jsx("th",{className:"action-header",children:"Actions"})]})}),_.jsx("tbody",{children:t.map((p,v)=>_.jsxs("tr",{children:[_.jsx("td",{className:"key-cell",children:_.jsxs("div",{className:"key-input-wrapper",children:[_.jsx("span",{className:"key-hash",children:"#"}),_.jsx("input",{type:"number",value:p.displayKey,onChange:E=>o(v,"displayKey",E.target.value),className:"key-input",min:"1"})]})}),_.jsx("td",{className:"summary",children:_.jsx("textarea",{value:p.summary,onChange:E=>o(v,"summary",E.target.value)})}),_.jsx("td",{className:`status ${p.status.toLowerCase().replace(" ","-")}`,onClick:()=>r(v),children:p.status}),_.jsxs("td",{className:"assignee-admin",children:[_.jsxs("select",{value:p.assignee,onChange:E=>a(v,E.target.value),children:[_.jsx("option",{value:"",children:"Select Assignee"}),n.map(E=>_.jsx("option",{value:E.name,children:E.name},E.uid))]}),p.assignee&&_.jsx("button",{onClick:()=>g(p),className:"send-email-button",children:"Send Email"})]}),_.jsx("td",{className:"actions",children:_.jsx("button",{onClick:()=>f(p.key),className:"delete-button",children:"Delete"})})]},p.key))})]})]})},Gj=({messages:t})=>_.jsxs("div",{className:"message-list",children:[_.jsx("h2",{children:"Message Board"}),_.jsxs("table",{className:"table table-hover",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Message Title"}),_.jsx("th",{children:"Last Message"})]})}),_.jsx("tbody",{children:t.map(e=>_.jsxs("tr",{children:[_.jsx("td",{children:_.jsx(jt,{to:`/home/message-board/${e.id}`,children:e.title})}),_.jsxs("td",{children:[_.jsx("span",{children:e.lastSender||"Unknown"})," - ",_.jsx("span",{children:new Date(e.lastDate).toLocaleString()}),_.jsx("p",{children:e.lastMessage||"No message yet"})]})]},e.id))})]})]}),qj=({onAdd:t})=>{const[e,n]=S.useState(""),[i,r]=S.useState(""),o=()=>{e&&i?(console.log("Add button clicked",{title:e,content:i}),t(e,i)):console.log("Title or content missing")},a=()=>{n(""),r("")};return _.jsxs("div",{className:"create-new-title",children:[_.jsx("h2",{children:"Create New Title"}),_.jsx("div",{className:"form-group",children:_.jsx("input",{type:"text",value:e,onChange:u=>n(u.target.value),className:"form-control",placeholder:"Title"})}),_.jsx("div",{className:"form-group",children:_.jsx("textarea",{value:i,onChange:u=>r(u.target.value),className:"form-control",placeholder:"Content"})}),_.jsxs("div",{className:"button-group",children:[_.jsx("button",{onClick:o,className:"btn btn-primary",children:"Add"}),_.jsx("button",{onClick:a,className:"btn btn-secondary",children:"Clear"})]})]})},$j=()=>{const[t,e]=S.useState([]),n=S.useContext(vi),i=n==null?void 0:n.user;S.useEffect(()=>{const o=ge(),a=he(o,"Messages");xt(a,u=>{const h=u.val()||{},f=Object.keys(h).map(g=>{const p=Object.values(h[g].messages||{}),v=p[p.length-1]||{};return{id:g,title:h[g].title,lastMessage:v.content||"No message yet",lastSender:v.sender||"Unknown",lastDate:v.date||""}});e(f)})},[]);const r=(o,a)=>{if(!i){console.log("User not authenticated");return}const u=ge(),h=he(u,`users/${i.uid}`);xt(h,f=>{const g=f.val(),p=(g==null?void 0:g.name)||"Anonymous",v=he(u,"Messages"),E=fh(v);console.log("Adding new message:",{title:o,content:a,senderName:p}),Ut(E,{title:o,messages:{1:{sender:p,content:a,date:new Date().toISOString()}}}).then(()=>{console.log("New message added successfully")}).catch(w=>{console.error("Error adding new title:",w)})},{onlyOnce:!0})};return _.jsxs("div",{id:"message-board",className:"message-board",children:[_.jsx(Gj,{messages:t})," ",_.jsx(qj,{onAdd:r})]})},Yj=({onSubmit:t})=>{const[e,n]=S.useState(""),i=r=>{r.preventDefault(),e.trim()&&(t(e),n(""))};return _.jsxs("form",{onSubmit:i,children:[_.jsx("textarea",{value:e,onChange:r=>n(r.target.value),placeholder:"Type your message here"}),_.jsx("button",{type:"submit",children:"Send"})]})},Jj=()=>{const{id:t}=_R(),[e,n]=S.useState(""),[i,r]=S.useState([]),o=S.useContext(vi),a=o==null?void 0:o.user;S.useEffect(()=>{const f=ge(),g=he(f,`Messages/${t}`);xt(g,p=>{const v=p.val()||{};n(v.title||"");const E=Object.keys(v.messages||{}).map(w=>({id:w,...v.messages[w]}));r(E)})},[t]);const u=f=>{if(!a)return;const g=ge(),p=he(g,`Messages/${t}/messages`),v=fh(p);Ut(v,{sender:a.name,content:f,date:new Date().toISOString()})},h=f=>{const g={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(f).toLocaleString("en-GB",g)};return _.jsx("div",{id:"message-detail-page",children:_.jsxs("div",{className:"message-detail",children:[_.jsx("h2",{children:e}),_.jsx("div",{className:"messages",children:i.map((f,g)=>_.jsxs("div",{className:"message",children:[_.jsxs("p",{children:[_.jsx("strong",{children:f.sender})," - ",h(f.date)]}),_.jsx("p",{children:f.content})]},g))}),_.jsx(Yj,{onSubmit:u})]})})},Xj=({events:t,onEdit:e,onDelete:n,onViewDetails:i})=>_.jsx("div",{id:"calendar-event-list",children:t.map(r=>_.jsxs("div",{className:"event-item",children:[_.jsxs("div",{className:"event-details",children:[_.jsx("h3",{children:r.title}),_.jsxs("p",{children:[r.date," at ",r.time]})]}),_.jsxs("div",{className:"button-group",children:[_.jsx("button",{onClick:()=>i(r),children:"View Details"}),_.jsx("button",{onClick:()=>e(r),children:"Edit"}),_.jsx("button",{onClick:()=>n(r.id),children:"Delete"})]})]},r.id))}),Vw=({event:t={id:"",title:"",description:"",date:"",time:""},onSave:e,onCancel:n})=>{const[i,r]=S.useState(t.title),[o,a]=S.useState(t.description),[u,h]=S.useState(t.date),[f,g]=S.useState(t.time),p=()=>{const v={id:t.id||"",title:i,description:o,date:u,time:f};e(v)};return _.jsxs("div",{id:"calendar-form",children:[_.jsx("h2",{children:t.id?"Edit Event":"Add New Event"}),_.jsx("input",{type:"text",value:i,onChange:v=>r(v.target.value),placeholder:"Title"}),_.jsx("textarea",{value:o,onChange:v=>a(v.target.value),placeholder:"Description"}),_.jsx("input",{type:"date",value:u,onChange:v=>h(v.target.value)}),_.jsx("input",{type:"time",value:f,onChange:v=>g(v.target.value)}),_.jsx("button",{onClick:p,children:"Save"}),_.jsx("button",{onClick:n,children:"Cancel"})]})},eF=({event:t,onEdit:e,onDelete:n,onClose:i})=>_.jsxs("div",{id:"calendar-event-details",children:[_.jsx("h2",{children:"Event Details"}),_.jsxs("p",{children:[_.jsx("strong",{children:"Title:"})," ",t.title]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Description:"})," ",t.description]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Date:"})," ",t.date]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Time:"})," ",t.time]}),_.jsxs("div",{className:"event-details-actions",children:[_.jsx("button",{onClick:e,children:"Edit"}),_.jsx("button",{onClick:n,children:"Delete"}),_.jsx("button",{onClick:i,children:"Close"})]})]}),tF=()=>{const[t,e]=S.useState([]),[n,i]=S.useState(void 0),[r,o]=S.useState(!1);S.useEffect(()=>{const p=ge(),v=he(p,"calendar/events");xt(v,E=>{const w=E.val()||{},x=Object.keys(w).map(k=>({id:k,...w[k]}));e(x)})},[]);const a=p=>{const v=ge(),E=p.id?he(v,`calendar/events/${p.id}`):fh(he(v,"calendar/events")),w={...p,id:p.id||E.key};Ut(E,w),o(!1),i(void 0)},u=p=>{const v=ge(),E=he(v,`calendar/events/${p}`);Pg(E),i(void 0)},h=p=>{i(p),o(!0)},f=p=>{i(p),o(!1)},g=()=>{i(void 0),o(!1)};return _.jsxs("div",{id:"calendar-page",children:[_.jsx("h1",{children:"Calendar of Events"}),r?_.jsx(Vw,{event:n,onSave:a,onCancel:g}):n?_.jsx(eF,{event:n,onEdit:()=>h(n),onDelete:()=>u(n.id),onClose:g}):_.jsx(Vw,{onSave:a,onCancel:g}),_.jsx(Xj,{events:t,onEdit:h,onDelete:u,onViewDetails:f})]})},yl=()=>{const t=document.createElement("link");t.rel="stylesheet",t.href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",document.head.appendChild(t)};var cT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var u=arguments[a];u&&(o=r(o,i(u)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var u in o)e.call(o,u)&&o[u]&&(a=r(a,u));return a}function r(o,a){return a?o?o+" "+a:o+a:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(cT);var nF=cT.exports;const Cn=bc(nF),yo=!!(typeof window<"u"&&window.document&&window.document.createElement);var Sp=!1,Tp=!1;try{var Vd={get passive(){return Sp=!0},get once(){return Tp=Sp=!0}};yo&&(window.addEventListener("test",Vd,Vd),window.removeEventListener("test",Vd,!0))}catch{}function hT(t,e,n,i){if(i&&typeof i!="boolean"&&!Tp){var r=i.once,o=i.capture,a=n;!Tp&&r&&(a=n.__once||function u(h){this.removeEventListener(e,u,o),n.call(this,h)},n.__once=a),t.addEventListener(e,a,Sp?i:o)}t.addEventListener(e,n,i)}function Eh(t){return t&&t.ownerDocument||document}function xp(t,e,n,i){var r=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)}var cu;function Zw(t){if((!cu&&cu!==0||t)&&yo){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),cu=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return cu}function iF(){return S.useState(null)}function rF(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t},[t]),e}function Ln(t){const e=rF(t);return S.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Kw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function sF(t,e){const n=Kw(t),i=Kw(e);return r=>{n&&n(r),i&&i(r)}}function wl(t,e){return S.useMemo(()=>sF(t,e),[t,e])}function oF(t){const e=S.useRef(t);return e.current=t,e}function dT(t){const e=oF(t);S.useEffect(()=>()=>e.current(),[])}function aF(t){var e=Eh(t);return e&&e.defaultView||window}function lF(t,e){return aF(t).getComputedStyle(t,e)}var uF=/([A-Z])/g;function cF(t){return t.replace(uF,"-$1").toLowerCase()}var hF=/^ms-/;function hu(t){return cF(t).replace(hF,"-ms-")}var dF=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function fF(t){return!!(t&&dF.test(t))}function Mr(t,e){var n="",i="";if(typeof e=="string")return t.style.getPropertyValue(hu(e))||lF(t).getPropertyValue(hu(e));Object.keys(e).forEach(function(r){var o=e[r];!o&&o!==0?t.style.removeProperty(hu(r)):fF(r)?i+=r+"("+o+") ":n+=hu(r)+": "+o+";"}),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}function Nc(t,e,n,i){return hT(t,e,n,i),function(){xp(t,e,n,i)}}function pF(t,e,n,i){if(i===void 0&&(i=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,i),t.dispatchEvent(r)}}function mF(t){var e=Mr(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function gF(t,e,n){n===void 0&&(n=5);var i=!1,r=setTimeout(function(){i||pF(t,"transitionend",!0)},e+n),o=Nc(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),o()}}function fT(t,e,n,i){n==null&&(n=mF(t)||0);var r=gF(t,n,i),o=Nc(t,"transitionend",e);return function(){r(),o()}}function Zd(t){t===void 0&&(t=Eh());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Qw(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function _F(){const t=S.useRef(!0),e=S.useRef(()=>t.current);return S.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function vF(t){const e=S.useRef(null);return S.useEffect(()=>{e.current=t}),e.current}const yF="data-rr-ui-";function wF(t){return`${yF}${t}`}function EF(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Gw=wF("modal-open");class Dg{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return EF(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[i]:r.style[i]},e.scrollBarWidth&&(n[i]=`${parseInt(Mr(r,i)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(Gw,""),Mr(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Gw),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const pT=S.createContext(yo?window:void 0);pT.Provider;function Bg(){return S.useContext(pT)}const Kd=(t,e)=>yo?t==null?(e||Eh()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function AF(t,e){const n=Bg(),[i,r]=S.useState(()=>Kd(t,n==null?void 0:n.document));if(!i){const o=Kd(t);o&&r(o)}return S.useEffect(()=>{},[e,i]),S.useEffect(()=>{const o=Kd(t);o!==i&&r(o)},[t,i]),i}const CF=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",SF=typeof document<"u",qw=SF||CF?S.useLayoutEffect:S.useEffect;function TF({children:t,in:e,onExited:n,mountOnEnter:i,unmountOnExit:r}){const o=S.useRef(null),a=S.useRef(e),u=Ln(n);S.useEffect(()=>{e?a.current=!0:u(o.current)},[e,u]);const h=wl(o,t.ref),f=S.cloneElement(t,{ref:h});return e?f:r||!a.current&&i?null:f}function xF(t){return t.code==="Escape"||t.keyCode===27}function IF(){const t=S.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}const kF=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function PF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function RF(t){let{onEnter:e,onEntering:n,onEntered:i,onExit:r,onExiting:o,onExited:a,addEndListener:u,children:h}=t,f=PF(t,kF);const{major:g}=IF(),p=g>=19?h.props.ref:h.ref,v=S.useRef(null),E=wl(v,typeof h=="function"?null:p),w=B=>F=>{B&&v.current&&B(v.current,F)},x=S.useCallback(w(e),[e]),k=S.useCallback(w(n),[n]),C=S.useCallback(w(i),[i]),A=S.useCallback(w(r),[r]),T=S.useCallback(w(o),[o]),R=S.useCallback(w(a),[a]),M=S.useCallback(w(u),[u]);return Object.assign({},f,{nodeRef:v},e&&{onEnter:x},n&&{onEntering:k},i&&{onEntered:C},r&&{onExit:A},o&&{onExiting:T},a&&{onExited:R},u&&{addEndListener:M},{children:typeof h=="function"?(B,F)=>h(B,Object.assign({},F,{ref:E})):S.cloneElement(h,{ref:E})})}const NF=["component"];function bF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const LF=S.forwardRef((t,e)=>{let{component:n}=t,i=bF(t,NF);const r=RF(i);return _.jsx(n,Object.assign({ref:e},r))});function OF({in:t,onTransition:e}){const n=S.useRef(null),i=S.useRef(!0),r=Ln(e);return qw(()=>{if(!n.current)return;let o=!1;return r({in:t,element:n.current,initial:i.current,isStale:()=>o}),()=>{o=!0}},[t,r]),qw(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function MF({children:t,in:e,onExited:n,onEntered:i,transition:r}){const[o,a]=S.useState(!e);e&&o&&a(!1);const u=OF({in:!!e,onTransition:f=>{const g=()=>{f.isStale()||(f.in?i==null||i(f.element,f.initial):(a(!0),n==null||n(f.element)))};Promise.resolve(r(f)).then(g,p=>{throw f.in||a(!0),p})}}),h=wl(u,t.ref);return o&&!e?null:S.cloneElement(t,{ref:h})}function $w(t,e,n){return t?_.jsx(LF,Object.assign({},n,{component:t})):e?_.jsx(MF,Object.assign({},n,{transition:e})):_.jsx(TF,Object.assign({},n))}const DF=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function BF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}let Qd;function jF(t){return Qd||(Qd=new Dg({ownerDocument:t==null?void 0:t.document})),Qd}function FF(t){const e=Bg(),n=t||jF(e),i=S.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:S.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:S.useCallback(r=>{i.current.backdrop=r},[])})}const mT=S.forwardRef((t,e)=>{let{show:n=!1,role:i="dialog",className:r,style:o,children:a,backdrop:u=!0,keyboard:h=!0,onBackdropClick:f,onEscapeKeyDown:g,transition:p,runTransition:v,backdropTransition:E,runBackdropTransition:w,autoFocus:x=!0,enforceFocus:k=!0,restoreFocus:C=!0,restoreFocusOptions:A,renderDialog:T,renderBackdrop:R=Ce=>_.jsx("div",Object.assign({},Ce)),manager:M,container:B,onShow:F,onHide:W=()=>{},onExit:ie,onExited:Q,onExiting:ve,onEnter:be,onEntering:Qt,onEntered:at}=t,pr=BF(t,DF);const Se=Bg(),pt=AF(B),O=FF(M),$=_F(),U=vF(n),[K,te]=S.useState(!n),ye=S.useRef(null);S.useImperativeHandle(e,()=>O,[O]),yo&&!U&&n&&(ye.current=Zd(Se==null?void 0:Se.document)),n&&K&&te(!1);const le=Ln(()=>{if(O.add(),Tn.current=Nc(document,"keydown",Gt),wi.current=Nc(document,"focus",()=>setTimeout(J),!0),F&&F(),x){var Ce,mr;const Vn=Zd((Ce=(mr=O.dialog)==null?void 0:mr.ownerDocument)!=null?Ce:Se==null?void 0:Se.document);O.dialog&&Vn&&!Qw(O.dialog,Vn)&&(ye.current=Vn,O.dialog.focus())}}),re=Ln(()=>{if(O.remove(),Tn.current==null||Tn.current(),wi.current==null||wi.current(),C){var Ce;(Ce=ye.current)==null||Ce.focus==null||Ce.focus(A),ye.current=null}});S.useEffect(()=>{!n||!pt||le()},[n,pt,le]),S.useEffect(()=>{K&&re()},[K,re]),dT(()=>{re()});const J=Ln(()=>{if(!k||!$()||!O.isTopModal())return;const Ce=Zd(Se==null?void 0:Se.document);O.dialog&&Ce&&!Qw(O.dialog,Ce)&&O.dialog.focus()}),Ye=Ln(Ce=>{Ce.target===Ce.currentTarget&&(f==null||f(Ce),u===!0&&W())}),Gt=Ln(Ce=>{h&&xF(Ce)&&O.isTopModal()&&(g==null||g(Ce),Ce.defaultPrevented||W())}),wi=S.useRef(),Tn=S.useRef(),Ei=(...Ce)=>{te(!0),Q==null||Q(...Ce)};if(!pt)return null;const qt=Object.assign({role:i,ref:O.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},pr,{style:o,className:r,tabIndex:-1});let Hn=T?T(qt):_.jsx("div",Object.assign({},qt,{children:S.cloneElement(a,{role:"document"})}));Hn=$w(p,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:ie,onExiting:ve,onExited:Ei,onEnter:be,onEntering:Qt,onEntered:at,children:Hn});let Ai=null;return u&&(Ai=R({ref:O.setBackdropRef,onClick:Ye}),Ai=$w(E,w,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ai})),_.jsx(_.Fragment,{children:Ns.createPortal(_.jsxs(_.Fragment,{children:[Ai,Hn]}),pt)})});mT.displayName="Modal";const UF=Object.assign(mT,{Manager:Dg});function zF(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function WF(t,e){t.classList?t.classList.add(e):zF(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var HF=Function.prototype.bind.call(Function.prototype.call,[].slice);function gs(t,e){return HF(t.querySelectorAll(e))}function Yw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function VF(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Yw(t.className,e):t.setAttribute("class",Yw(t.className&&t.className.baseVal||"",e))}const _s={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class ZF extends Dg{adjustAndStore(e,n,i){const r=n.style[e];n.dataset[e]=r,Mr(n,{[e]:`${parseFloat(Mr(n,e))+i}px`})}restore(e,n){const i=n.dataset[e];i!==void 0&&(delete n.dataset[e],Mr(n,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(WF(n,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";gs(n,_s.FIXED_CONTENT).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth)),gs(n,_s.STICKY_CONTENT).forEach(o=>this.adjustAndStore(r,o,-e.scrollBarWidth)),gs(n,_s.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();VF(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";gs(n,_s.FIXED_CONTENT).forEach(o=>this.restore(i,o)),gs(n,_s.STICKY_CONTENT).forEach(o=>this.restore(r,o)),gs(n,_s.NAVBAR_TOGGLER).forEach(o=>this.restore(r,o))}}let Gd;function KF(t){return Gd||(Gd=new ZF(t)),Gd}function QF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}function Ip(t,e){return Ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ip(t,e)}function GF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ip(t,e)}var gT={exports:{}},qF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$F=qF,YF=$F;function _T(){}function vT(){}vT.resetWarningCache=_T;var JF=function(){function t(i,r,o,a,u,h){if(h!==YF){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vT,resetWarningCache:_T};return n.PropTypes=n,n};gT.exports=JF();var XF=gT.exports;const qd=bc(XF),Jw={disabled:!1},yT=tn.createContext(null);var eU=function(e){return e.scrollTop},ia="unmounted",Tr="exited",Ni="entering",xr="entered",kp="exiting",yi=function(t){GF(e,t);function e(i,r){var o;o=t.call(this,i,r)||this;var a=r,u=a&&!a.isMounting?i.enter:i.appear,h;return o.appearStatus=null,i.in?u?(h=Tr,o.appearStatus=Ni):h=xr:i.unmountOnExit||i.mountOnEnter?h=ia:h=Tr,o.state={status:h},o.nextCallback=null,o}e.getDerivedStateFromProps=function(r,o){var a=r.in;return a&&o.status===ia?{status:Tr}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var o=null;if(r!==this.props){var a=this.state.status;this.props.in?a!==Ni&&a!==xr&&(o=Ni):(a===Ni||a===xr)&&(o=kp)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,o,a,u;return o=a=u=r,r!=null&&typeof r!="number"&&(o=r.exit,a=r.enter,u=r.appear!==void 0?r.appear:a),{exit:o,enter:a,appear:u}},n.updateStatus=function(r,o){if(r===void 0&&(r=!1),o!==null)if(this.cancelNextCallback(),o===Ni){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Ns.findDOMNode(this);a&&eU(a)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Tr&&this.setState({status:ia})},n.performEnter=function(r){var o=this,a=this.props.enter,u=this.context?this.context.isMounting:r,h=this.props.nodeRef?[u]:[Ns.findDOMNode(this),u],f=h[0],g=h[1],p=this.getTimeouts(),v=u?p.appear:p.enter;if(!r&&!a||Jw.disabled){this.safeSetState({status:xr},function(){o.props.onEntered(f)});return}this.props.onEnter(f,g),this.safeSetState({status:Ni},function(){o.props.onEntering(f,g),o.onTransitionEnd(v,function(){o.safeSetState({status:xr},function(){o.props.onEntered(f,g)})})})},n.performExit=function(){var r=this,o=this.props.exit,a=this.getTimeouts(),u=this.props.nodeRef?void 0:Ns.findDOMNode(this);if(!o||Jw.disabled){this.safeSetState({status:Tr},function(){r.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:kp},function(){r.props.onExiting(u),r.onTransitionEnd(a.exit,function(){r.safeSetState({status:Tr},function(){r.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,o){o=this.setNextCallback(o),this.setState(r,o)},n.setNextCallback=function(r){var o=this,a=!0;return this.nextCallback=function(u){a&&(a=!1,o.nextCallback=null,r(u))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(r,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:Ns.findDOMNode(this),u=r==null&&!this.props.addEndListener;if(!a||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],f=h[0],g=h[1];this.props.addEndListener(f,g)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===ia)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=QF(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return tn.createElement(yT.Provider,{value:null},typeof a=="function"?a(r,u):tn.cloneElement(tn.Children.only(a),u))},e}(tn.Component);yi.contextType=yT;yi.propTypes={};function vs(){}yi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vs,onEntering:vs,onEntered:vs,onExit:vs,onExiting:vs,onExited:vs};yi.UNMOUNTED=ia;yi.EXITED=Tr;yi.ENTERING=Ni;yi.ENTERED=xr;yi.EXITING=kp;function Xw(t,e){const n=Mr(t,e)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function tU(t,e){const n=Xw(t,"transitionDuration"),i=Xw(t,"transitionDelay"),r=fT(t,o=>{o.target===t&&(r(),e(o))},n+i)}function nU(t){t.offsetHeight}function iU(t){return t&&"setState"in t?Ns.findDOMNode(t):t??null}const rU=tn.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,onExited:o,addEndListener:a,children:u,childRef:h,...f},g)=>{const p=S.useRef(null),v=wl(p,h),E=B=>{v(iU(B))},w=B=>F=>{B&&p.current&&B(p.current,F)},x=S.useCallback(w(t),[t]),k=S.useCallback(w(e),[e]),C=S.useCallback(w(n),[n]),A=S.useCallback(w(i),[i]),T=S.useCallback(w(r),[r]),R=S.useCallback(w(o),[o]),M=S.useCallback(w(a),[a]);return _.jsx(yi,{ref:g,...f,onEnter:x,onEntered:C,onEntering:k,onExit:A,onExited:R,onExiting:T,addEndListener:M,nodeRef:p,children:typeof u=="function"?(B,F)=>u(B,{...F,ref:E}):tn.cloneElement(u,{ref:E})})}),sU={[Ni]:"show",[xr]:"show"},jg=S.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:i,...r},o)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},u=S.useCallback((h,f)=>{nU(h),i==null||i(h,f)},[i]);return _.jsx(rU,{ref:o,addEndListener:tU,...a,onEnter:u,childRef:e.ref,children:(h,f)=>S.cloneElement(e,{...f,className:Cn("fade",t,e.props.className,sU[h],n[h])})})});jg.displayName="Fade";const oU=["xxl","xl","lg","md","sm","xs"],aU="xs",wT=S.createContext({prefixes:{},breakpoints:oU,minBreakpoint:aU});function wo(t,e){const{prefixes:n}=S.useContext(wT);return t||n[e]||e}function lU(){const{dir:t}=S.useContext(wT);return t==="rtl"}const ET=S.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=wo(e,"modal-body"),_.jsx(n,{ref:r,className:Cn(t,e),...i})));ET.displayName="ModalBody";const AT=S.createContext({onHide(){}}),Fg=S.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:i,size:r,fullscreen:o,children:a,scrollable:u,...h},f)=>{t=wo(t,"modal");const g=`${t}-dialog`,p=typeof o=="string"?`${t}-fullscreen-${o}`:`${t}-fullscreen`;return _.jsx("div",{...h,ref:f,className:Cn(g,e,r&&`${t}-${r}`,i&&`${g}-centered`,u&&`${g}-scrollable`,o&&p),children:_.jsx("div",{className:Cn(`${t}-content`,n),children:a})})});Fg.displayName="ModalDialog";const CT=S.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=wo(e,"modal-footer"),_.jsx(n,{ref:r,className:Cn(t,e),...i})));CT.displayName="ModalFooter";const uU={"aria-label":qd.string,onClick:qd.func,variant:qd.oneOf(["white"])},Ug=S.forwardRef(({className:t,variant:e,"aria-label":n="Close",...i},r)=>_.jsx("button",{ref:r,type:"button",className:Cn("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...i}));Ug.displayName="CloseButton";Ug.propTypes=uU;const cU=S.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:i,children:r,...o},a)=>{const u=S.useContext(AT),h=Ln(()=>{u==null||u.onHide(),i==null||i()});return _.jsxs("div",{ref:a,...o,children:[r,n&&_.jsx(Ug,{"aria-label":t,variant:e,onClick:h})]})}),ST=S.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...r},o)=>(t=wo(t,"modal-header"),_.jsx(cU,{ref:o,...r,className:Cn(e,t),closeLabel:n,closeButton:i})));ST.displayName="ModalHeader";const hU=t=>S.forwardRef((e,n)=>_.jsx("div",{...e,ref:n,className:Cn(e.className,t)})),dU=hU("h4"),TT=S.forwardRef(({className:t,bsPrefix:e,as:n=dU,...i},r)=>(e=wo(e,"modal-title"),_.jsx(n,{ref:r,className:Cn(t,e),...i})));TT.displayName="ModalTitle";function fU(t){return _.jsx(jg,{...t,timeout:null})}function pU(t){return _.jsx(jg,{...t,timeout:null})}const xT=S.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:i,contentClassName:r,children:o,dialogAs:a=Fg,"data-bs-theme":u,"aria-labelledby":h,"aria-describedby":f,"aria-label":g,show:p=!1,animation:v=!0,backdrop:E=!0,keyboard:w=!0,onEscapeKeyDown:x,onShow:k,onHide:C,container:A,autoFocus:T=!0,enforceFocus:R=!0,restoreFocus:M=!0,restoreFocusOptions:B,onEntered:F,onExit:W,onExiting:ie,onEnter:Q,onEntering:ve,onExited:be,backdropClassName:Qt,manager:at,...pr},Se)=>{const[pt,O]=S.useState({}),[$,U]=S.useState(!1),K=S.useRef(!1),te=S.useRef(!1),ye=S.useRef(null),[le,re]=iF(),J=wl(Se,re),Ye=Ln(C),Gt=lU();t=wo(t,"modal");const wi=S.useMemo(()=>({onHide:Ye}),[Ye]);function Tn(){return at||KF({isRTL:Gt})}function Ei(de){if(!yo)return;const Zn=Tn().getScrollbarWidth()>0,Ao=de.scrollHeight>Eh(de).documentElement.clientHeight;O({paddingRight:Zn&&!Ao?Zw():void 0,paddingLeft:!Zn&&Ao?Zw():void 0})}const qt=Ln(()=>{le&&Ei(le.dialog)});dT(()=>{xp(window,"resize",qt),ye.current==null||ye.current()});const Hn=()=>{K.current=!0},Ai=de=>{K.current&&le&&de.target===le.dialog&&(te.current=!0),K.current=!1},Ce=()=>{U(!0),ye.current=fT(le.dialog,()=>{U(!1)})},mr=de=>{de.target===de.currentTarget&&Ce()},Vn=de=>{if(E==="static"){mr(de);return}if(te.current||de.target!==de.currentTarget){te.current=!1;return}C==null||C()},rs=de=>{w?x==null||x(de):(de.preventDefault(),E==="static"&&Ce())},Ch=(de,Zn)=>{de&&Ei(de),Q==null||Q(de,Zn)},El=de=>{ye.current==null||ye.current(),W==null||W(de)},Eo=(de,Zn)=>{ve==null||ve(de,Zn),hT(window,"resize",qt)},Al=de=>{de&&(de.style.display=""),be==null||be(de),xp(window,"resize",qt)},Cl=S.useCallback(de=>_.jsx("div",{...de,className:Cn(`${t}-backdrop`,Qt,!v&&"show")}),[v,Qt,t]),Sl={...n,...pt};Sl.display="block";const Sh=de=>_.jsx("div",{role:"dialog",...de,style:Sl,className:Cn(e,t,$&&`${t}-static`,!v&&"show"),onClick:E?Vn:void 0,onMouseUp:Ai,"data-bs-theme":u,"aria-label":g,"aria-labelledby":h,"aria-describedby":f,children:_.jsx(a,{...pr,onMouseDown:Hn,className:i,contentClassName:r,children:o})});return _.jsx(AT.Provider,{value:wi,children:_.jsx(UF,{show:p,ref:J,backdrop:E,container:A,keyboard:!0,autoFocus:T,enforceFocus:R,restoreFocus:M,restoreFocusOptions:B,onEscapeKeyDown:rs,onShow:k,onHide:C,onEnter:Ch,onEntering:Eo,onEntered:F,onExit:El,onExiting:ie,onExited:Al,manager:Tn(),transition:v?fU:void 0,backdropTransition:v?pU:void 0,renderBackdrop:Cl,renderDialog:Sh})})});xT.displayName="Modal";const qo=Object.assign(xT,{Body:ET,Header:ST,Title:TT,Footer:CT,Dialog:Fg,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),mU=()=>{const[t,e]=S.useState(!0),[n,i]=S.useState(!1),[r,o]=S.useState(!1),a=S.useContext(vi),u=a==null?void 0:a.user,h=es();S.useEffect(()=>{yl()},[]),S.useEffect(()=>{const v=setTimeout(()=>{i(!0),u||o(!0)},1e3);return()=>clearTimeout(v)},[a,u]);const f=()=>{u!=null&&u.isAdmin?h("/home/admin-tasks"):h("/home/tasks")},g=()=>{e(!t)},p=()=>{o(!1)};return n?_.jsxs("div",{id:"home-page",children:[_.jsx(gl,{toggleSidebar:g}),_.jsxs("div",{className:"home-container",children:[_.jsx(DS,{onTasksClick:f,isSidebarOpen:t,toggleSidebar:g}),_.jsx("div",{className:`home-main ${t?"":"collapsed"}`,children:_.jsxs(bm,{children:[_.jsx(He,{path:"/",element:_.jsx(Ri,{to:"news"})}),_.jsx(He,{path:"news",element:_.jsxs(_.Fragment,{children:[_.jsx(Fj,{}),_.jsxs("div",{className:"home-bottom",children:[_.jsx(Uj,{}),_.jsx(zj,{})]})]})}),_.jsx(He,{path:"tasks",element:u?_.jsx(Wj,{}):_.jsx(Ri,{to:"/login",replace:!0})}),_.jsx(He,{path:"admin-tasks",element:u!=null&&u.isAdmin?_.jsx(Qj,{}):_.jsx(Ri,{to:"/login",replace:!0})}),_.jsx(He,{path:"message-board",element:u?_.jsx($j,{}):_.jsx(Ri,{to:"/login",replace:!0})}),_.jsx(He,{path:"message-board/:id",element:u?_.jsx(Jj,{}):_.jsx(Ri,{to:"/login",replace:!0})}),_.jsx(He,{path:"calendar",element:u?_.jsx(tF,{}):_.jsx(Ri,{to:"/login",replace:!0})}),_.jsx(He,{path:"*",element:_.jsx("div",{children:"Not Found"})})," "]})})]}),_.jsxs(qo,{show:r,onHide:p,children:[_.jsx(qo.Header,{closeButton:!0,children:_.jsx(qo.Title,{children:"Sign In"})}),_.jsx(qo.Body,{children:_.jsx("p",{children:"Sign In to access all content!"})}),_.jsxs(qo.Footer,{children:[_.jsx("button",{className:"btn btn-primary",onClick:()=>{sessionStorage.getItem("loginPageRefreshed")?(sessionStorage.removeItem("loginPageRefreshed"),h("/login")):(sessionStorage.setItem("loginPageRefreshed","true"),h("/login"),window.location.reload())},children:"Sign In"}),_.jsx("button",{className:"btn btn-secondary",onClick:p,children:"Close"})]})]})]}):_.jsx("div",{children:"Loading..."})},gU=()=>{const[t,e]=S.useState(""),[n,i]=S.useState(""),[r,o]=S.useState(""),a=h=>{h.preventDefault();const f=ge(),g=fh(he(f,"Contact-Request"));Ut(g,{name:t,email:n,phoneNumber:r}).then(()=>{u(t,n,r)}).catch(p=>{console.error("Error saving contact request:",p)})},u=(h,f,g)=>{const p={name:h,email:f,phone:g};uT.send("service_h2uk57t","template_l39cbsp",p,"9h7w37IYT_ZFZeu8r").then(v=>{console.log("Email sent successfully:",v.status,v.text),alert("Your contact request has been sent successfully!")}).catch(v=>{console.error("Failed to send email:",v)})};return _.jsxs("form",{onSubmit:a,children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"name",children:"Name"}),_.jsx("input",{type:"text",className:"form-control",id:"name",value:t,onChange:h=>e(h.target.value),required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"email",children:"Email"}),_.jsx("input",{type:"email",className:"form-control",id:"email",value:n,onChange:h=>i(h.target.value),required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"phoneNumber",children:"Phone Number"}),_.jsx("input",{type:"tel",className:"form-control",id:"phoneNumber",value:r,onChange:h=>o(h.target.value)})]}),_.jsx("button",{type:"submit",className:"btn submit-button",children:"Send"})]})},_U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAABHNCSVQICAgIfAhkiAAAAbxJREFUSIm1l81xgzAQhb9MGlAJlOASuOZGB6GD0IHpwO4AOnA6oARKoATnmJtzQBtWskCyLXbGM9ai3bc/b1n7ndflC/gADPAL/GTwGZUBuKnPCNR7g5ZAA/TApMAn4JDqxABHoAOqJ4MYFfgxBVAb3IDPiM3JBlgDhdI3KcAacATaRGC/pyfrCxuI6MstwElFnAJ8YG5Dj9tP8dEondGGXeCyiABfiROjYMlcg4iu1ZGuAYaAjfesAy645ROQzp5LZe+AjpEsxJHPaN1TIYyxALqXgz7rC34WIkfWq2GYCSM+JKgWt6TS20YMz96FEGCsp6W9N6ycK9ySOzXX2VakkwiWbLF+pDqhIIAAw5RhiEBZRAh1xe1bzzL0u4j0VpcgxMSsYlg2RaP0wjy/CtmkJEyeVulD20eP1TPb6R/An0vRS4/lmR4reZ68S7X0K8CNcj5x/96WwFLHzJG1zYP9LkFtVSQ7MMz9Pwf0WYAvykH9gK0AD5F7UQfy/iwSbIRgsQ22KTXLHE9s/+gSwNA6fFgK7klU42auAetXAX1wvcCvzGXv2AlQS4mbeZRwbxnBC+bRMMA3G/9p/gA/KNnq5ohm2wAAAABJRU5ErkJggg==",vU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAcCAYAAAB2+A+pAAAABHNCSVQICAgIfAhkiAAAAcFJREFUSIntVtGNgzAMNacbwBucu0FG4DZghGYC2gmACVomSEdgA0aADZIN8Aa5j9ZVBYEGrtX93JP8YbBivfdsQuK9h7/AZ2zh5XLZx9YiImdZ1iwWee+jAgB8bBCRfXZeNGPBfr+/zL1jZmyaJos5JxGPm6bJmBnHBVmWNYjISZJcaXufzB3mnKPdbmeJyFlrd4udhXqapi0EZHPOfT1KvSSftZZgq9R5nteIyHVd58yMp9PpiIgcI5+AmbEsy1JyInITi8aMhSER2ZACMYzHkaZpu3q4RIGqqgoAgEcmIaYA13XK87xmZqzrOg8WP2M89jgmxGNRYBNjQVEUVWxtzExEN16SeAs+1hSXN4RymeTz+XyIOizW49AuP+ahHX6JxwAAxhg9lyMiG2N09M6vYbw2lhiv8lhrbbTWJpQzM2qtzfF4PL2cMfx7/AuPJ4wPh8MZEVm+u5KvUUYQut9nGb8jQozvfyB93yuZTOccGWM0ETnJ27b93sIa4Oq/UqoPMpYQb7uuU957QMQBntzDW2LyoCiKEm5roZTqAMArpbq3Nx6GAR/9JiJrraVXN757PEbf9woAYOLNizDb+N34AX3T6uZIxY3/AAAAAElFTkSuQmCC",yU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAcCAYAAADvANYcAAAABHNCSVQICAgIfAhkiAAAAghJREFUSIntVtGRnDAM1WWuAJegVBDowHRAB3AVrLcCQwXQAVwFpAO7A9gKRAe4A+cj8YyO4TBscrP7Ec1oBoxlPz2eLb147+HR9u3RAAAAXmMT+r4vzywopbSIOJ9C4b3fdQDwZ7zrujK25tp3mZjnGXmGe3OnaUqcc+J2u/04xcIeE23bXoQQS8gwlo2U0oS5ZVl2RIR3MzFNU3K9XhtrrVx/2xoDAEiSZOLvfd+X1lqpta7LsuxPMVFVlQ7ZCCGWYRhyzgR8ogNjjAxMaK0rRKQzrID3HogIeWCe58OyLIJv7L0HRKQt5yCCMLXWFU+o7/tiF4QxRvIArnAOgohwy7kmQiwRYZIkI2fkMIg1jWd/R9d15VrUMRAfhImIc1EU73Vd6yCu9feYxuq61uFoh4sreuFxJhCRtjQCAD4mLk69EGJpmkZxbewxsVk7EHEmou9a6zqMZVlmtjKy1so0TcdpmhIAgDzPf47jmCql2hhru0xwXwtMSmmICJdlEUqphmc/DEO+jj/CRBRE8KZpFBcbf75cLm040veAOFzKlVLtOI5pURTvAADOOYGIszEma9tWCSHcYfpXFi3l3ILSpZR2nmdUSrV/s/ldIIIdqgcn7Ck6q/8ggj0FiA/CdM6JLMvMv9yAt4iHQXzWPX2lvQL8bs+6rnv7yo32KvDLnz7hofYUwvwF87kH80h+u/sAAAAASUVORK5CYII=",wU=()=>_.jsxs("div",{className:"contact-info mt-4 d-flex flex-column flex-md-row justify-content-between",children:[_.jsxs("div",{className:"contact-item d-flex align-items-center mb-2 mb-md-0",children:[_.jsx("img",{src:_U,alt:"Phone",className:"contact-icon"}),_.jsxs("div",{children:[_.jsx("p",{className:"font-weight-bold mb-0",children:"PHONE"}),_.jsx("span",{className:"text-danger",children:"03 5432 1234"})]})]}),_.jsxs("div",{className:"contact-item d-flex align-items-center mb-2 mb-md-0",children:[_.jsx("img",{src:vU,alt:"Fax",className:"contact-icon"}),_.jsxs("div",{children:[_.jsx("p",{className:"font-weight-bold mb-0",children:"FAX"}),_.jsx("span",{className:"text-danger",children:"03 5432 1234"})]})]}),_.jsxs("div",{className:"contact-item d-flex align-items-center",children:[_.jsx("img",{src:yU,alt:"Email",className:"contact-icon"}),_.jsxs("div",{children:[_.jsx("p",{className:"font-weight-bold mb-0",children:"EMAIL"}),_.jsx("a",{href:"mailto:info@marcc.com.au",className:"text-danger",children:"bilginyigitalp03@gmail.com"})]})]})]});function IT(t,e){const n=S.useRef(e);S.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const EU=1;function AU(t){return Object.freeze({__version:EU,map:t})}function CU(t,e){return Object.freeze({...t,...e})}const kT=S.createContext(null),PT=kT.Provider;function zg(){const t=S.useContext(kT);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function SU(t){function e(n,i){const{instance:r,context:o}=t(n).current;return S.useImperativeHandle(i,()=>r),n.children==null?null:tn.createElement(PT,{value:o},n.children)}return S.forwardRef(e)}function TU(t){function e(n,i){const[r,o]=S.useState(!1),{instance:a}=t(n,o).current;S.useImperativeHandle(i,()=>a),S.useEffect(function(){r&&a.update()},[a,r,n.children]);const u=a._contentNode;return u?xm.createPortal(n.children,u):null}return S.forwardRef(e)}function xU(t){function e(n,i){const{instance:r}=t(n).current;return S.useImperativeHandle(i,()=>r),null}return S.forwardRef(e)}function RT(t,e){const n=S.useRef();S.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Wg(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function IU(t,e){return function(i,r){const o=zg(),a=t(Wg(i,o),o);return IT(o.map,i.attribution),RT(a.current,i.eventHandlers),e(a.current,o,i,r),a}}var Pp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(gI,function(n){var i="1.9.4";function r(s){var l,c,d,m;for(c=1,d=arguments.length;c<d;c++){m=arguments[c];for(l in m)s[l]=m[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var c=Array.prototype.slice;if(s.bind)return s.bind.apply(s,c.call(arguments,1));var d=c.call(arguments,2);return function(){return s.apply(l,d.length?d.concat(c.call(arguments)):arguments)}}var u=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,l,c){var d,m,y,I;return I=function(){d=!1,m&&(y.apply(c,m),m=!1)},y=function(){d?m=arguments:(s.apply(c,arguments),setTimeout(I,l),d=!0)},y}function g(s,l,c){var d=l[1],m=l[0],y=d-m;return s===d&&c?s:((s-m)%y+y)%y+m}function p(){return!1}function v(s,l){if(l===!1)return s;var c=Math.pow(10,l===void 0?6:l);return Math.round(s*c)/c}function E(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function w(s){return E(s).split(/\s+/)}function x(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var c in l)s.options[c]=l[c];return s.options}function k(s,l,c){var d=[];for(var m in s)d.push(encodeURIComponent(c?m.toUpperCase():m)+"="+encodeURIComponent(s[m]));return(!l||l.indexOf("?")===-1?"?":"&")+d.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function A(s,l){return s.replace(C,function(c,d){var m=l[d];if(m===void 0)throw new Error("No value provided for variable "+c);return typeof m=="function"&&(m=m(l)),m})}var T=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function R(s,l){for(var c=0;c<s.length;c++)if(s[c]===l)return c;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var F=0;function W(s){var l=+new Date,c=Math.max(0,16-(l-F));return F=l+c,window.setTimeout(s,c)}var ie=window.requestAnimationFrame||B("RequestAnimationFrame")||W,Q=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function ve(s,l,c){if(c&&ie===W)s.call(l);else return ie.call(window,a(s,l))}function be(s){s&&Q.call(window,s)}var Qt={__proto__:null,extend:r,create:o,bind:a,get lastId(){return u},stamp:h,throttle:f,wrapNum:g,falseFn:p,formatNum:v,trim:E,splitWords:w,setOptions:x,getParamString:k,template:A,isArray:T,indexOf:R,emptyImageUrl:M,requestFn:ie,cancelFn:Q,requestAnimFrame:ve,cancelAnimFrame:be};function at(){}at.extend=function(s){var l=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=l.__super__=this.prototype,d=o(c);d.constructor=l,l.prototype=d;for(var m in this)Object.prototype.hasOwnProperty.call(this,m)&&m!=="prototype"&&m!=="__super__"&&(l[m]=this[m]);return s.statics&&r(l,s.statics),s.includes&&(pr(s.includes),r.apply(null,[d].concat(s.includes))),r(d,s),delete d.statics,delete d.includes,d.options&&(d.options=c.options?o(c.options):{},r(d.options,s.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,I=d._initHooks.length;y<I;y++)d._initHooks[y].call(this)}},l},at.include=function(s){var l=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},at.mergeOptions=function(s){return r(this.prototype.options,s),this},at.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),c=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function pr(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=T(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Se={on:function(s,l,c){if(typeof s=="object")for(var d in s)this._on(d,s[d],l);else{s=w(s);for(var m=0,y=s.length;m<y;m++)this._on(s[m],l,c)}return this},off:function(s,l,c){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var d in s)this._off(d,s[d],l);else{s=w(s);for(var m=arguments.length===1,y=0,I=s.length;y<I;y++)m?this._off(s[y]):this._off(s[y],l,c)}return this},_on:function(s,l,c,d){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,c)===!1){c===this&&(c=void 0);var m={fn:l,ctx:c};d&&(m.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(m)}},_off:function(s,l,c){var d,m,y;if(this._events&&(d=this._events[s],!!d)){if(arguments.length===1){if(this._firingCount)for(m=0,y=d.length;m<y;m++)d[m].fn=p;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var I=this._listens(s,l,c);if(I!==!1){var P=d[I];this._firingCount&&(P.fn=p,this._events[s]=d=d.slice()),d.splice(I,1)}}},fire:function(s,l,c){if(!this.listens(s,c))return this;var d=r({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var m=this._events[s];if(m){this._firingCount=this._firingCount+1||1;for(var y=0,I=m.length;y<I;y++){var P=m[y],N=P.fn;P.once&&this.off(s,N,P.ctx),N.call(P.ctx||this,d)}this._firingCount--}}return c&&this._propagateEvent(d),this},listens:function(s,l,c,d){typeof s!="string"&&console.warn('"string" type argument expected');var m=l;typeof l!="function"&&(d=!!l,m=void 0,c=void 0);var y=this._events&&this._events[s];if(y&&y.length&&this._listens(s,m,c)!==!1)return!0;if(d){for(var I in this._eventParents)if(this._eventParents[I].listens(s,l,c,d))return!0}return!1},_listens:function(s,l,c){if(!this._events)return!1;var d=this._events[s]||[];if(!l)return!!d.length;c===this&&(c=void 0);for(var m=0,y=d.length;m<y;m++)if(d[m].fn===l&&d[m].ctx===c)return m;return!1},once:function(s,l,c){if(typeof s=="object")for(var d in s)this._on(d,s[d],l,!0);else{s=w(s);for(var m=0,y=s.length;m<y;m++)this._on(s[m],l,c,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};Se.addEventListener=Se.on,Se.removeEventListener=Se.clearAllEventListeners=Se.off,Se.addOneTimeEventListener=Se.once,Se.fireEvent=Se.fire,Se.hasEventListeners=Se.listens;var pt=at.extend(Se);function O(s,l,c){this.x=c?Math.round(s):s,this.y=c?Math.round(l):l}var $=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};O.prototype={clone:function(){return new O(this.x,this.y)},add:function(s){return this.clone()._add(U(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(U(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new O(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new O(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=$(this.x),this.y=$(this.y),this},distanceTo:function(s){s=U(s);var l=s.x-this.x,c=s.y-this.y;return Math.sqrt(l*l+c*c)},equals:function(s){return s=U(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=U(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function U(s,l,c){return s instanceof O?s:T(s)?new O(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new O(s.x,s.y):new O(s,l,c)}function K(s,l){if(s)for(var c=l?[s,l]:s,d=0,m=c.length;d<m;d++)this.extend(c[d])}K.prototype={extend:function(s){var l,c;if(!s)return this;if(s instanceof O||typeof s[0]=="number"||"x"in s)l=c=U(s);else if(s=te(s),l=s.min,c=s.max,!l||!c)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=c.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(s){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,c;return typeof s[0]=="number"||s instanceof O?s=U(s):s=te(s),s instanceof K?(l=s.min,c=s.max):l=c=s,l.x>=this.min.x&&c.x<=this.max.x&&l.y>=this.min.y&&c.y<=this.max.y},intersects:function(s){s=te(s);var l=this.min,c=this.max,d=s.min,m=s.max,y=m.x>=l.x&&d.x<=c.x,I=m.y>=l.y&&d.y<=c.y;return y&&I},overlaps:function(s){s=te(s);var l=this.min,c=this.max,d=s.min,m=s.max,y=m.x>l.x&&d.x<c.x,I=m.y>l.y&&d.y<c.y;return y&&I},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,c=this.max,d=Math.abs(l.x-c.x)*s,m=Math.abs(l.y-c.y)*s;return te(U(l.x-d,l.y-m),U(c.x+d,c.y+m))},equals:function(s){return s?(s=te(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function te(s,l){return!s||s instanceof K?s:new K(s,l)}function ye(s,l){if(s)for(var c=l?[s,l]:s,d=0,m=c.length;d<m;d++)this.extend(c[d])}ye.prototype={extend:function(s){var l=this._southWest,c=this._northEast,d,m;if(s instanceof re)d=s,m=s;else if(s instanceof ye){if(d=s._southWest,m=s._northEast,!d||!m)return this}else return s?this.extend(J(s)||le(s)):this;return!l&&!c?(this._southWest=new re(d.lat,d.lng),this._northEast=new re(m.lat,m.lng)):(l.lat=Math.min(d.lat,l.lat),l.lng=Math.min(d.lng,l.lng),c.lat=Math.max(m.lat,c.lat),c.lng=Math.max(m.lng,c.lng)),this},pad:function(s){var l=this._southWest,c=this._northEast,d=Math.abs(l.lat-c.lat)*s,m=Math.abs(l.lng-c.lng)*s;return new ye(new re(l.lat-d,l.lng-m),new re(c.lat+d,c.lng+m))},getCenter:function(){return new re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new re(this.getNorth(),this.getWest())},getSouthEast:function(){return new re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof re||"lat"in s?s=J(s):s=le(s);var l=this._southWest,c=this._northEast,d,m;return s instanceof ye?(d=s.getSouthWest(),m=s.getNorthEast()):d=m=s,d.lat>=l.lat&&m.lat<=c.lat&&d.lng>=l.lng&&m.lng<=c.lng},intersects:function(s){s=le(s);var l=this._southWest,c=this._northEast,d=s.getSouthWest(),m=s.getNorthEast(),y=m.lat>=l.lat&&d.lat<=c.lat,I=m.lng>=l.lng&&d.lng<=c.lng;return y&&I},overlaps:function(s){s=le(s);var l=this._southWest,c=this._northEast,d=s.getSouthWest(),m=s.getNorthEast(),y=m.lat>l.lat&&d.lat<c.lat,I=m.lng>l.lng&&d.lng<c.lng;return y&&I},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=le(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function le(s,l){return s instanceof ye?s:new ye(s,l)}function re(s,l,c){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,c!==void 0&&(this.alt=+c)}re.prototype={equals:function(s,l){if(!s)return!1;s=J(s);var c=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return c<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+v(this.lat,s)+", "+v(this.lng,s)+")"},distanceTo:function(s){return Gt.distance(this,J(s))},wrap:function(){return Gt.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,c=l/Math.cos(Math.PI/180*this.lat);return le([this.lat-l,this.lng-c],[this.lat+l,this.lng+c])},clone:function(){return new re(this.lat,this.lng,this.alt)}};function J(s,l,c){return s instanceof re?s:T(s)&&typeof s[0]!="object"?s.length===3?new re(s[0],s[1],s[2]):s.length===2?new re(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new re(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new re(s,l,c)}var Ye={latLngToPoint:function(s,l){var c=this.projection.project(s),d=this.scale(l);return this.transformation._transform(c,d)},pointToLatLng:function(s,l){var c=this.scale(l),d=this.transformation.untransform(s,c);return this.projection.unproject(d)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,c=this.scale(s),d=this.transformation.transform(l.min,c),m=this.transformation.transform(l.max,c);return new K(d,m)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?g(s.lng,this.wrapLng,!0):s.lng,c=this.wrapLat?g(s.lat,this.wrapLat,!0):s.lat,d=s.alt;return new re(c,l,d)},wrapLatLngBounds:function(s){var l=s.getCenter(),c=this.wrapLatLng(l),d=l.lat-c.lat,m=l.lng-c.lng;if(d===0&&m===0)return s;var y=s.getSouthWest(),I=s.getNorthEast(),P=new re(y.lat-d,y.lng-m),N=new re(I.lat-d,I.lng-m);return new ye(P,N)}},Gt=r({},Ye,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var c=Math.PI/180,d=s.lat*c,m=l.lat*c,y=Math.sin((l.lat-s.lat)*c/2),I=Math.sin((l.lng-s.lng)*c/2),P=y*y+Math.cos(d)*Math.cos(m)*I*I,N=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*N}}),wi=6378137,Tn={R:wi,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,s.lat),-c),m=Math.sin(d*l);return new O(this.R*s.lng*l,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(s){var l=180/Math.PI;return new re((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=wi*Math.PI;return new K([-s,-s],[s,s])}()};function Ei(s,l,c,d){if(T(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=c,this._d=d}Ei.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new O((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function qt(s,l,c,d){return new Ei(s,l,c,d)}var Hn=r({},Gt,{code:"EPSG:3857",projection:Tn,transformation:function(){var s=.5/(Math.PI*Tn.R);return qt(s,.5,-s,.5)}()}),Ai=r({},Hn,{code:"EPSG:900913"});function Ce(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function mr(s,l){var c="",d,m,y,I,P,N;for(d=0,y=s.length;d<y;d++){for(P=s[d],m=0,I=P.length;m<I;m++)N=P[m],c+=(m?"L":"M")+N.x+" "+N.y;c+=l?Z.svg?"z":"x":""}return c||"M0 0"}var Vn=document.documentElement.style,rs="ActiveXObject"in window,Ch=rs&&!document.addEventListener,El="msLaunchUri"in navigator&&!("documentMode"in document),Eo=xn("webkit"),Al=xn("android"),Cl=xn("android 2")||xn("android 3"),Sl=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Sh=Al&&xn("Google")&&Sl<537&&!("AudioNode"in window),de=!!window.opera,Zn=!El&&xn("chrome"),Ao=xn("gecko")&&!Eo&&!de&&!rs,qT=!Zn&&xn("safari"),$g=xn("phantom"),Yg="OTransition"in Vn,$T=navigator.platform.indexOf("Win")===0,Jg=rs&&"transition"in Vn,Th="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Cl,Xg="MozPerspective"in Vn,YT=!window.L_DISABLE_3D&&(Jg||Th||Xg)&&!Yg&&!$g,Co=typeof orientation<"u"||xn("mobile"),JT=Co&&Eo,XT=Co&&Th,e_=!window.PointerEvent&&window.MSPointerEvent,t_=!!(window.PointerEvent||e_),n_="ontouchstart"in window||!!window.TouchEvent,ex=!window.L_NO_TOUCH&&(n_||t_),tx=Co&&de,nx=Co&&Ao,ix=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,rx=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",p,l),window.removeEventListener("testPassiveEventSupport",p,l)}catch{}return s}(),sx=function(){return!!document.createElement("canvas").getContext}(),xh=!!(document.createElementNS&&Ce("svg").createSVGRect),ox=!!xh&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ax=!xh&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),lx=navigator.platform.indexOf("Mac")===0,ux=navigator.platform.indexOf("Linux")===0;function xn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Z={ie:rs,ielt9:Ch,edge:El,webkit:Eo,android:Al,android23:Cl,androidStock:Sh,opera:de,chrome:Zn,gecko:Ao,safari:qT,phantom:$g,opera12:Yg,win:$T,ie3d:Jg,webkit3d:Th,gecko3d:Xg,any3d:YT,mobile:Co,mobileWebkit:JT,mobileWebkit3d:XT,msPointer:e_,pointer:t_,touch:ex,touchNative:n_,mobileOpera:tx,mobileGecko:nx,retina:ix,passiveEvents:rx,canvas:sx,svg:xh,vml:ax,inlineSvg:ox,mac:lx,linux:ux},i_=Z.msPointer?"MSPointerDown":"pointerdown",r_=Z.msPointer?"MSPointerMove":"pointermove",s_=Z.msPointer?"MSPointerUp":"pointerup",o_=Z.msPointer?"MSPointerCancel":"pointercancel",Ih={touchstart:i_,touchmove:r_,touchend:s_,touchcancel:o_},a_={touchstart:mx,touchmove:Tl,touchend:Tl,touchcancel:Tl},ss={},l_=!1;function cx(s,l,c){return l==="touchstart"&&px(),a_[l]?(c=a_[l].bind(this,c),s.addEventListener(Ih[l],c,!1),c):(console.warn("wrong event specified:",l),p)}function hx(s,l,c){if(!Ih[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(Ih[l],c,!1)}function dx(s){ss[s.pointerId]=s}function fx(s){ss[s.pointerId]&&(ss[s.pointerId]=s)}function u_(s){delete ss[s.pointerId]}function px(){l_||(document.addEventListener(i_,dx,!0),document.addEventListener(r_,fx,!0),document.addEventListener(s_,u_,!0),document.addEventListener(o_,u_,!0),l_=!0)}function Tl(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var c in ss)l.touches.push(ss[c]);l.changedTouches=[l],s(l)}}function mx(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&lt(l),Tl(s,l)}function gx(s){var l={},c,d;for(d in s)c=s[d],l[d]=c&&c.bind?c.bind(s):c;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var _x=200;function vx(s,l){s.addEventListener("dblclick",l);var c=0,d;function m(y){if(y.detail!==1){d=y.detail;return}if(!(y.pointerType==="mouse"||y.sourceCapabilities&&!y.sourceCapabilities.firesTouchEvents)){var I=p_(y);if(!(I.some(function(N){return N instanceof HTMLLabelElement&&N.attributes.for})&&!I.some(function(N){return N instanceof HTMLInputElement||N instanceof HTMLSelectElement}))){var P=Date.now();P-c<=_x?(d++,d===2&&l(gx(y))):d=1,c=P}}}return s.addEventListener("click",m),{dblclick:l,simDblclick:m}}function yx(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var kh=kl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),So=kl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),c_=So==="webkitTransition"||So==="OTransition"?So+"End":"transitionend";function h_(s){return typeof s=="string"?document.getElementById(s):s}function To(s,l){var c=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!c||c==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(s,null);c=d?d[l]:null}return c==="auto"?null:c}function me(s,l,c){var d=document.createElement(s);return d.className=l||"",c&&c.appendChild(d),d}function Le(s){var l=s.parentNode;l&&l.removeChild(s)}function xl(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function os(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function as(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function Ph(s,l){if(s.classList!==void 0)return s.classList.contains(l);var c=Il(s);return c.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(c)}function ne(s,l){if(s.classList!==void 0)for(var c=w(l),d=0,m=c.length;d<m;d++)s.classList.add(c[d]);else if(!Ph(s,l)){var y=Il(s);Rh(s,(y?y+" ":"")+l)}}function We(s,l){s.classList!==void 0?s.classList.remove(l):Rh(s,E((" "+Il(s)+" ").replace(" "+l+" "," ")))}function Rh(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Il(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function $t(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&wx(s,l)}function wx(s,l){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=s.filters.item(d)}catch{if(l===1)return}l=Math.round(l*100),c?(c.Enabled=l!==100,c.Opacity=l):s.style.filter+=" progid:"+d+"(opacity="+l+")"}function kl(s){for(var l=document.documentElement.style,c=0;c<s.length;c++)if(s[c]in l)return s[c];return!1}function gr(s,l,c){var d=l||new O(0,0);s.style[kh]=(Z.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(c?" scale("+c+")":"")}function Qe(s,l){s._leaflet_pos=l,Z.any3d?gr(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function _r(s){return s._leaflet_pos||new O(0,0)}var xo,Io,Nh;if("onselectstart"in document)xo=function(){X(window,"selectstart",lt)},Io=function(){Te(window,"selectstart",lt)};else{var ko=kl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xo=function(){if(ko){var s=document.documentElement.style;Nh=s[ko],s[ko]="none"}},Io=function(){ko&&(document.documentElement.style[ko]=Nh,Nh=void 0)}}function bh(){X(window,"dragstart",lt)}function Lh(){Te(window,"dragstart",lt)}var Pl,Oh;function Mh(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Rl(),Pl=s,Oh=s.style.outlineStyle,s.style.outlineStyle="none",X(window,"keydown",Rl))}function Rl(){Pl&&(Pl.style.outlineStyle=Oh,Pl=void 0,Oh=void 0,Te(window,"keydown",Rl))}function d_(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Dh(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Ex={__proto__:null,TRANSFORM:kh,TRANSITION:So,TRANSITION_END:c_,get:h_,getStyle:To,create:me,remove:Le,empty:xl,toFront:os,toBack:as,hasClass:Ph,addClass:ne,removeClass:We,setClass:Rh,getClass:Il,setOpacity:$t,testProp:kl,setTransform:gr,setPosition:Qe,getPosition:_r,get disableTextSelection(){return xo},get enableTextSelection(){return Io},disableImageDrag:bh,enableImageDrag:Lh,preventOutline:Mh,restoreOutline:Rl,getSizedParentNode:d_,getScale:Dh};function X(s,l,c,d){if(l&&typeof l=="object")for(var m in l)jh(s,m,l[m],c);else{l=w(l);for(var y=0,I=l.length;y<I;y++)jh(s,l[y],c,d)}return this}var In="_leaflet_events";function Te(s,l,c,d){if(arguments.length===1)f_(s),delete s[In];else if(l&&typeof l=="object")for(var m in l)Fh(s,m,l[m],c);else if(l=w(l),arguments.length===2)f_(s,function(P){return R(l,P)!==-1});else for(var y=0,I=l.length;y<I;y++)Fh(s,l[y],c,d);return this}function f_(s,l){for(var c in s[In]){var d=c.split(/\d/)[0];(!l||l(d))&&Fh(s,d,null,null,c)}}var Bh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function jh(s,l,c,d){var m=l+h(c)+(d?"_"+h(d):"");if(s[In]&&s[In][m])return this;var y=function(P){return c.call(d||s,P||window.event)},I=y;!Z.touchNative&&Z.pointer&&l.indexOf("touch")===0?y=cx(s,l,y):Z.touch&&l==="dblclick"?y=vx(s,y):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Bh[l]||l,y,Z.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(y=function(P){P=P||window.event,zh(s,P)&&I(P)},s.addEventListener(Bh[l],y,!1)):s.addEventListener(l,I,!1):s.attachEvent("on"+l,y),s[In]=s[In]||{},s[In][m]=y}function Fh(s,l,c,d,m){m=m||l+h(c)+(d?"_"+h(d):"");var y=s[In]&&s[In][m];if(!y)return this;!Z.touchNative&&Z.pointer&&l.indexOf("touch")===0?hx(s,l,y):Z.touch&&l==="dblclick"?yx(s,y):"removeEventListener"in s?s.removeEventListener(Bh[l]||l,y,!1):s.detachEvent("on"+l,y),s[In][m]=null}function vr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Uh(s){return jh(s,"wheel",vr),this}function Po(s){return X(s,"mousedown touchstart dblclick contextmenu",vr),s._leaflet_disable_click=!0,this}function lt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function yr(s){return lt(s),vr(s),this}function p_(s){if(s.composedPath)return s.composedPath();for(var l=[],c=s.target;c;)l.push(c),c=c.parentNode;return l}function m_(s,l){if(!l)return new O(s.clientX,s.clientY);var c=Dh(l),d=c.boundingClientRect;return new O((s.clientX-d.left)/c.x-l.clientLeft,(s.clientY-d.top)/c.y-l.clientTop)}var Ax=Z.linux&&Z.chrome?window.devicePixelRatio:Z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function g_(s){return Z.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Ax:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function zh(s,l){var c=l.relatedTarget;if(!c)return!0;try{for(;c&&c!==s;)c=c.parentNode}catch{return!1}return c!==s}var Cx={__proto__:null,on:X,off:Te,stopPropagation:vr,disableScrollPropagation:Uh,disableClickPropagation:Po,preventDefault:lt,stop:yr,getPropagationPath:p_,getMousePosition:m_,getWheelDelta:g_,isExternalTarget:zh,addListener:X,removeListener:Te},__=pt.extend({run:function(s,l,c,d){this.stop(),this._el=s,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=_r(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ve(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,c=this._duration*1e3;l<c?this._runFrame(this._easeOut(l/c),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var c=this._startPos.add(this._offset.multiplyBy(s));l&&c._round(),Qe(this._el,c),this.fire("step")},_complete:function(){be(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),fe=pt.extend({options:{crs:Hn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=x(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(J(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=So&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),X(this._proxy,c_,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,c){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(J(s),l,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=r({animate:c.animate},c.zoom),c.pan=r({animate:c.animate,duration:c.duration},c.pan));var d=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,c.zoom):this._tryAnimatedPan(s,c.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,c.pan&&c.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,c){var d=this.getZoomScale(l),m=this.getSize().divideBy(2),y=s instanceof O?s:this.latLngToContainerPoint(s),I=y.subtract(m).multiplyBy(1-1/d),P=this.containerPointToLatLng(m.add(I));return this.setView(P,l,{zoom:c})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():le(s);var c=U(l.paddingTopLeft||l.padding||[0,0]),d=U(l.paddingBottomRight||l.padding||[0,0]),m=this.getBoundsZoom(s,!1,c.add(d));if(m=typeof l.maxZoom=="number"?Math.min(l.maxZoom,m):m,m===1/0)return{center:s.getCenter(),zoom:m};var y=d.subtract(c).divideBy(2),I=this.project(s.getSouthWest(),m),P=this.project(s.getNorthEast(),m),N=this.unproject(I.add(P).divideBy(2).add(y),m);return{center:N,zoom:m}},fitBounds:function(s,l){if(s=le(s),!s.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(s,l);return this.setView(c.center,c.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=U(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new __,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){ne(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,c,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,c){if(c=c||{},c.animate===!1||!Z.any3d)return this.setView(s,l,c);this._stop();var d=this.project(this.getCenter()),m=this.project(s),y=this.getSize(),I=this._zoom;s=J(s),l=l===void 0?I:l;var P=Math.max(y.x,y.y),N=P*this.getZoomScale(I,l),D=m.distanceTo(d)||1,H=1.42,G=H*H;function se(Ge){var Wl=Ge?-1:1,hI=Ge?N:P,dI=N*N-P*P+Wl*G*G*D*D,fI=2*hI*G*D,Jh=dI/fI,Y_=Math.sqrt(Jh*Jh+1)-Jh,pI=Y_<1e-9?-18:Math.log(Y_);return pI}function wt(Ge){return(Math.exp(Ge)-Math.exp(-Ge))/2}function nt(Ge){return(Math.exp(Ge)+Math.exp(-Ge))/2}function Jt(Ge){return wt(Ge)/nt(Ge)}var Pt=se(0);function fs(Ge){return P*(nt(Pt)/nt(Pt+H*Ge))}function aI(Ge){return P*(nt(Pt)*Jt(Pt+H*Ge)-wt(Pt))/G}function lI(Ge){return 1-Math.pow(1-Ge,1.5)}var uI=Date.now(),q_=(se(1)-Pt)/H,cI=c.duration?1e3*c.duration:1e3*q_*.8;function $_(){var Ge=(Date.now()-uI)/cI,Wl=lI(Ge)*q_;Ge<=1?(this._flyToFrame=ve($_,this),this._move(this.unproject(d.add(m.subtract(d).multiplyBy(aI(Wl)/D)),I),this.getScaleZoom(P/fs(Wl),I),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),$_.call(this),this},flyToBounds:function(s,l){var c=this._getBoundsCenterZoom(s,l);return this.flyTo(c.center,c.zoom,l)},setMaxBounds:function(s){return s=le(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var c=this.getCenter(),d=this._limitCenter(c,this._zoom,le(s));return c.equals(d)||this.panTo(d,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var c=U(l.paddingTopLeft||l.padding||[0,0]),d=U(l.paddingBottomRight||l.padding||[0,0]),m=this.project(this.getCenter()),y=this.project(s),I=this.getPixelBounds(),P=te([I.min.add(c),I.max.subtract(d)]),N=P.getSize();if(!P.contains(y)){this._enforcingBounds=!0;var D=y.subtract(P.getCenter()),H=P.extend(y).getSize().subtract(N);m.x+=D.x<0?-H.x:H.x,m.y+=D.y<0?-H.y:H.y,this.panTo(this.unproject(m),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),d=l.divideBy(2).round(),m=c.divideBy(2).round(),y=d.subtract(m);return!y.x&&!y.y?this:(s.animate&&s.pan?this.panBy(y):(s.pan&&this._rawPanBy(y),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),c=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,c,s):navigator.geolocation.getCurrentPosition(l,c,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,c=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,c=s.coords.longitude,d=new re(l,c),m=d.toBounds(s.coords.accuracy*2),y=this._locateOptions;if(y.setView){var I=this.getBoundsZoom(m);this.setView(d,y.maxZoom?Math.min(I,y.maxZoom):I)}var P={latlng:d,bounds:m,timestamp:s.timestamp};for(var N in s.coords)typeof s.coords[N]=="number"&&(P[N]=s.coords[N]);this.fire("locationfound",P)}},addHandler:function(s,l){if(!l)return this;var c=this[s]=new l(this);return this._handlers.push(c),this.options[s]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Le(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(be(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Le(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var c="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d=me("div",c,l||this._mapPane);return s&&(this._panes[s]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),c=this.unproject(s.getTopRight());return new ye(l,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,c){s=le(s),c=U(c||[0,0]);var d=this.getZoom()||0,m=this.getMinZoom(),y=this.getMaxZoom(),I=s.getNorthWest(),P=s.getSouthEast(),N=this.getSize().subtract(c),D=te(this.project(P,d),this.project(I,d)).getSize(),H=Z.any3d?this.options.zoomSnap:1,G=N.x/D.x,se=N.y/D.y,wt=l?Math.max(G,se):Math.min(G,se);return d=this.getScaleZoom(wt,d),H&&(d=Math.round(d/(H/100))*(H/100),d=l?Math.ceil(d/H)*H:Math.floor(d/H)*H),Math.max(m,Math.min(y,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var c=this._getTopLeftPoint(s,l);return new K(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var c=this.options.crs;return l=l===void 0?this._zoom:l,c.scale(s)/c.scale(l)},getScaleZoom:function(s,l){var c=this.options.crs;l=l===void 0?this._zoom:l;var d=c.zoom(s*c.scale(l));return isNaN(d)?1/0:d},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(J(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(U(s),l)},layerPointToLatLng:function(s){var l=U(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(J(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(J(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(le(s))},distance:function(s,l){return this.options.crs.distance(J(s),J(l))},containerPointToLayerPoint:function(s){return U(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return U(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(U(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(J(s)))},mouseEventToContainerPoint:function(s){return m_(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=h_(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");X(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,ne(s,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=To(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Qe(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ne(s.markerPane,"leaflet-zoom-hide"),ne(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,c){Qe(this._mapPane,new O(0,0));var d=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var m=this._zoom!==l;this._moveStart(m,c)._move(s,l)._moveEnd(m),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,c,d){l===void 0&&(l=this._zoom);var m=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),d?c&&c.pinch&&this.fire("zoom",c):((m||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return be(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Qe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var l=s?Te:X;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){be(this._resizeRequest),this._resizeRequest=ve(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var c=[],d,m=l==="mouseout"||l==="mouseover",y=s.target||s.srcElement,I=!1;y;){if(d=this._targets[h(y)],d&&(l==="click"||l==="preclick")&&this._draggableMoved(d)){I=!0;break}if(d&&d.listens(l,!0)&&(m&&!zh(y,s)||(c.push(d),m))||y===this._container)break;y=y.parentNode}return!c.length&&!I&&!m&&this.listens(l,!0)&&(c=[this]),c},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var c=s.type;c==="mousedown"&&Mh(l),this._fireDOMEvent(s,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,c){if(s.type==="click"){var d=r({},s);d.type="preclick",this._fireDOMEvent(d,d.type,c)}var m=this._findEventTargets(s,l);if(c){for(var y=[],I=0;I<c.length;I++)c[I].listens(l,!0)&&y.push(c[I]);m=y.concat(m)}if(m.length){l==="contextmenu"&&lt(s);var P=m[0],N={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var D=P.getLatLng&&(!P._radius||P._radius<=10);N.containerPoint=D?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(s),N.layerPoint=this.containerPointToLayerPoint(N.containerPoint),N.latlng=D?P.getLatLng():this.layerPointToLatLng(N.layerPoint)}for(I=0;I<m.length;I++)if(m[I].fire(l,N,!0),N.originalEvent._stopped||m[I].options.bubblingMouseEvents===!1&&R(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return _r(this._mapPane)||new O(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var c=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var c=this.getSize()._divideBy(2);return this.project(s,l)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,c){var d=this._getNewPixelOrigin(c,l);return this.project(s,l)._subtract(d)},_latLngBoundsToNewLayerBounds:function(s,l,c){var d=this._getNewPixelOrigin(c,l);return te([this.project(s.getSouthWest(),l)._subtract(d),this.project(s.getNorthWest(),l)._subtract(d),this.project(s.getSouthEast(),l)._subtract(d),this.project(s.getNorthEast(),l)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,c){if(!c)return s;var d=this.project(s,l),m=this.getSize().divideBy(2),y=new K(d.subtract(m),d.add(m)),I=this._getBoundsOffset(y,c,l);return Math.abs(I.x)<=1&&Math.abs(I.y)<=1?s:this.unproject(d.add(I),l)},_limitOffset:function(s,l){if(!l)return s;var c=this.getPixelBounds(),d=new K(c.min.add(s),c.max.add(s));return s.add(this._getBoundsOffset(d,l))},_getBoundsOffset:function(s,l,c){var d=te(this.project(l.getNorthEast(),c),this.project(l.getSouthWest(),c)),m=d.min.subtract(s.min),y=d.max.subtract(s.max),I=this._rebound(m.x,-y.x),P=this._rebound(m.y,-y.y);return new O(I,P)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),c=this.getMaxZoom(),d=Z.any3d?this.options.zoomSnap:1;return d&&(s=Math.round(s/d)*d),Math.max(l,Math.min(c,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){We(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var c=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,l),!0)},_createAnimProxy:function(){var s=this._proxy=me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var c=kh,d=this._proxy.style[c];gr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),d===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Le(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();gr(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(l),m=this._getCenterOffset(s)._divideBy(1-1/d);return c.animate!==!0&&!this.getSize().contains(m)?!1:(ve(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,c,d){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&We(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Sx(s,l){return new fe(s,l)}var un=at.extend({options:{position:"topright"},initialize:function(s){x(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),c=this.getPosition(),d=s._controlCorners[c];return ne(l,"leaflet-control"),c.indexOf("bottom")!==-1?d.insertBefore(l,d.firstChild):d.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Le(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ro=function(s){return new un(s)};fe.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",c=this._controlContainer=me("div",l+"control-container",this._container);function d(m,y){var I=l+m+" "+l+y;s[m+y]=me("div",I,c)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Le(this._controlCorners[s]);Le(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var v_=un.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,c,d){return c<d?-1:d<c?1:0}},initialize:function(s,l,c){x(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in s)this._addLayer(s[d],d);for(d in l)this._addLayer(l[d],d,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return un.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):We(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return We(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=me("div",s),c=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Po(l),Uh(l);var d=this._section=me("section",s+"-list");c&&(this._map.on("click",this.collapse,this),X(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=me("a",s+"-toggle",l);m.href="#",m.title="Layers",m.setAttribute("role","button"),X(m,{keydown:function(y){y.keyCode===13&&this._expandSafely()},click:function(y){lt(y),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=me("div",s+"-base",d),this._separator=me("div",s+"-separator",d),this._overlaysList=me("div",s+"-overlays",d),l.appendChild(d)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,c){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:c}),this.options.sortLayers&&this._layers.sort(a(function(d,m){return this.options.sortFunction(d.layer,m.layer,d.name,m.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xl(this._baseLayersList),xl(this._overlaysList),this._layerControlInputs=[];var s,l,c,d,m=0;for(c=0;c<this._layers.length;c++)d=this._layers[c],this._addItem(d),l=l||d.overlay,s=s||!d.overlay,m+=d.overlay?0:1;return this.options.hideSingleBase&&(s=s&&m>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(h(s.target)),c=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;c&&this._map.fire(c,l)},_createRadioElement:function(s,l){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=c,d.firstChild},_addItem:function(s){var l=document.createElement("label"),c=this._map.hasLayer(s.layer),d;s.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=c):d=this._createRadioElement("leaflet-base-layers_"+h(this),c),this._layerControlInputs.push(d),d.layerId=h(s.layer),X(d,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+s.name;var y=document.createElement("span");l.appendChild(y),y.appendChild(d),y.appendChild(m);var I=s.overlay?this._overlaysList:this._baseLayersList;return I.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,c,d=[],m=[];this._handlingClick=!0;for(var y=s.length-1;y>=0;y--)l=s[y],c=this._getLayer(l.layerId).layer,l.checked?d.push(c):l.checked||m.push(c);for(y=0;y<m.length;y++)this._map.hasLayer(m[y])&&this._map.removeLayer(m[y]);for(y=0;y<d.length;y++)this._map.hasLayer(d[y])||this._map.addLayer(d[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,c,d=this._map.getZoom(),m=s.length-1;m>=0;m--)l=s[m],c=this._getLayer(l.layerId).layer,l.disabled=c.options.minZoom!==void 0&&d<c.options.minZoom||c.options.maxZoom!==void 0&&d>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,X(s,"click",lt),this.expand();var l=this;setTimeout(function(){Te(s,"click",lt),l._preventClick=!1})}}),Tx=function(s,l,c){return new v_(s,l,c)},Wh=un.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",c=me("div",l+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,l+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,l+"-out",c,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,c,d,m){var y=me("a",c,d);return y.innerHTML=s,y.href="#",y.title=l,y.setAttribute("role","button"),y.setAttribute("aria-label",l),Po(y),X(y,"click",yr),X(y,"click",m,this),X(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";We(this._zoomInButton,l),We(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ne(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ne(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});fe.mergeOptions({zoomControl:!0}),fe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Wh,this.addControl(this.zoomControl))});var xx=function(s){return new Wh(s)},y_=un.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",c=me("div",l),d=this.options;return this._addScales(d,l+"-line",c),s.on(d.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),c},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,c){s.metric&&(this._mScale=me("div",l,c)),s.imperial&&(this._iScale=me("div",l,c))},_update:function(){var s=this._map,l=s.getSize().y/2,c=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(c)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),c=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,c,l/s)},_updateImperial:function(s){var l=s*3.2808399,c,d,m;l>5280?(c=l/5280,d=this._getRoundNum(c),this._updateScale(this._iScale,d+" mi",d/c)):(m=this._getRoundNum(l),this._updateScale(this._iScale,m+" ft",m/l))},_updateScale:function(s,l,c){s.style.width=Math.round(this.options.maxWidth*c)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),c=s/l;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,l*c}}),Ix=function(s){return new y_(s)},kx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Hh=un.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?kx+" ":"")+"Leaflet</a>"},initialize:function(s){x(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=me("div","leaflet-control-attribution"),Po(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var c=[];this.options.prefix&&c.push(this.options.prefix),s.length&&c.push(s.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});fe.mergeOptions({attributionControl:!0}),fe.addInitHook(function(){this.options.attributionControl&&new Hh().addTo(this)});var Px=function(s){return new Hh(s)};un.Layers=v_,un.Zoom=Wh,un.Scale=y_,un.Attribution=Hh,Ro.layers=Tx,Ro.zoom=xx,Ro.scale=Ix,Ro.attribution=Px;var kn=at.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});kn.addTo=function(s,l){return s.addHandler(l,this),this};var Rx={Events:Se},w_=Z.touch?"touchstart mousedown":"mousedown",Ci=pt.extend({options:{clickTolerance:3},initialize:function(s,l,c,d){x(this,d),this._element=s,this._dragStartTarget=l||s,this._preventOutline=c},enable:function(){this._enabled||(X(this._dragStartTarget,w_,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ci._dragging===this&&this.finishDrag(!0),Te(this._dragStartTarget,w_,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Ph(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Ci._dragging===this&&this.finishDrag();return}if(!(Ci._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Ci._dragging=this,this._preventOutline&&Mh(this._element),bh(),xo(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,c=d_(this._element);this._startPoint=new O(l.clientX,l.clientY),this._startPos=_r(this._element),this._parentScale=Dh(c);var d=s.type==="mousedown";X(document,d?"mousemove":"touchmove",this._onMove,this),X(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,c=new O(l.clientX,l.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,lt(s),this._moved||(this.fire("dragstart"),this._moved=!0,ne(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Qe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){We(document.body,"leaflet-dragging"),this._lastTarget&&(We(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Te(document,"mousemove touchmove",this._onMove,this),Te(document,"mouseup touchend touchcancel",this._onUp,this),Lh(),Io();var l=this._moved&&this._moving;this._moving=!1,Ci._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function E_(s,l,c){var d,m=[1,4,2,8],y,I,P,N,D,H,G,se;for(y=0,H=s.length;y<H;y++)s[y]._code=wr(s[y],l);for(P=0;P<4;P++){for(G=m[P],d=[],y=0,H=s.length,I=H-1;y<H;I=y++)N=s[y],D=s[I],N._code&G?D._code&G||(se=Nl(D,N,G,l,c),se._code=wr(se,l),d.push(se)):(D._code&G&&(se=Nl(D,N,G,l,c),se._code=wr(se,l),d.push(se)),d.push(N));s=d}return s}function A_(s,l){var c,d,m,y,I,P,N,D,H;if(!s||s.length===0)throw new Error("latlngs not passed");Yt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var G=J([0,0]),se=le(s),wt=se.getNorthWest().distanceTo(se.getSouthWest())*se.getNorthEast().distanceTo(se.getNorthWest());wt<1700&&(G=Vh(s));var nt=s.length,Jt=[];for(c=0;c<nt;c++){var Pt=J(s[c]);Jt.push(l.project(J([Pt.lat-G.lat,Pt.lng-G.lng])))}for(P=N=D=0,c=0,d=nt-1;c<nt;d=c++)m=Jt[c],y=Jt[d],I=m.y*y.x-y.y*m.x,N+=(m.x+y.x)*I,D+=(m.y+y.y)*I,P+=I*3;P===0?H=Jt[0]:H=[N/P,D/P];var fs=l.unproject(U(H));return J([fs.lat+G.lat,fs.lng+G.lng])}function Vh(s){for(var l=0,c=0,d=0,m=0;m<s.length;m++){var y=J(s[m]);l+=y.lat,c+=y.lng,d++}return J([l/d,c/d])}var Nx={__proto__:null,clipPolygon:E_,polygonCenter:A_,centroid:Vh};function C_(s,l){if(!l||!s.length)return s.slice();var c=l*l;return s=Ox(s,c),s=Lx(s,c),s}function S_(s,l,c){return Math.sqrt(No(s,l,c,!0))}function bx(s,l,c){return No(s,l,c)}function Lx(s,l){var c=s.length,d=typeof Uint8Array<"u"?Uint8Array:Array,m=new d(c);m[0]=m[c-1]=1,Zh(s,m,l,0,c-1);var y,I=[];for(y=0;y<c;y++)m[y]&&I.push(s[y]);return I}function Zh(s,l,c,d,m){var y=0,I,P,N;for(P=d+1;P<=m-1;P++)N=No(s[P],s[d],s[m],!0),N>y&&(I=P,y=N);y>c&&(l[I]=1,Zh(s,l,c,d,I),Zh(s,l,c,I,m))}function Ox(s,l){for(var c=[s[0]],d=1,m=0,y=s.length;d<y;d++)Mx(s[d],s[m])>l&&(c.push(s[d]),m=d);return m<y-1&&c.push(s[y-1]),c}var T_;function x_(s,l,c,d,m){var y=d?T_:wr(s,c),I=wr(l,c),P,N,D;for(T_=I;;){if(!(y|I))return[s,l];if(y&I)return!1;P=y||I,N=Nl(s,l,P,c,m),D=wr(N,c),P===y?(s=N,y=D):(l=N,I=D)}}function Nl(s,l,c,d,m){var y=l.x-s.x,I=l.y-s.y,P=d.min,N=d.max,D,H;return c&8?(D=s.x+y*(N.y-s.y)/I,H=N.y):c&4?(D=s.x+y*(P.y-s.y)/I,H=P.y):c&2?(D=N.x,H=s.y+I*(N.x-s.x)/y):c&1&&(D=P.x,H=s.y+I*(P.x-s.x)/y),new O(D,H,m)}function wr(s,l){var c=0;return s.x<l.min.x?c|=1:s.x>l.max.x&&(c|=2),s.y<l.min.y?c|=4:s.y>l.max.y&&(c|=8),c}function Mx(s,l){var c=l.x-s.x,d=l.y-s.y;return c*c+d*d}function No(s,l,c,d){var m=l.x,y=l.y,I=c.x-m,P=c.y-y,N=I*I+P*P,D;return N>0&&(D=((s.x-m)*I+(s.y-y)*P)/N,D>1?(m=c.x,y=c.y):D>0&&(m+=I*D,y+=P*D)),I=s.x-m,P=s.y-y,d?I*I+P*P:new O(m,y)}function Yt(s){return!T(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function I_(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Yt(s)}function k_(s,l){var c,d,m,y,I,P,N,D;if(!s||s.length===0)throw new Error("latlngs not passed");Yt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var H=J([0,0]),G=le(s),se=G.getNorthWest().distanceTo(G.getSouthWest())*G.getNorthEast().distanceTo(G.getNorthWest());se<1700&&(H=Vh(s));var wt=s.length,nt=[];for(c=0;c<wt;c++){var Jt=J(s[c]);nt.push(l.project(J([Jt.lat-H.lat,Jt.lng-H.lng])))}for(c=0,d=0;c<wt-1;c++)d+=nt[c].distanceTo(nt[c+1])/2;if(d===0)D=nt[0];else for(c=0,y=0;c<wt-1;c++)if(I=nt[c],P=nt[c+1],m=I.distanceTo(P),y+=m,y>d){N=(y-d)/m,D=[P.x-N*(P.x-I.x),P.y-N*(P.y-I.y)];break}var Pt=l.unproject(U(D));return J([Pt.lat+H.lat,Pt.lng+H.lng])}var Dx={__proto__:null,simplify:C_,pointToSegmentDistance:S_,closestPointOnSegment:bx,clipSegment:x_,_getEdgeIntersection:Nl,_getBitCode:wr,_sqClosestPointOnSegment:No,isFlat:Yt,_flat:I_,polylineCenter:k_},Kh={project:function(s){return new O(s.lng,s.lat)},unproject:function(s){return new re(s.y,s.x)},bounds:new K([-180,-90],[180,90])},Qh={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,c=this.R,d=s.lat*l,m=this.R_MINOR/c,y=Math.sqrt(1-m*m),I=y*Math.sin(d),P=Math.tan(Math.PI/4-d/2)/Math.pow((1-I)/(1+I),y/2);return d=-c*Math.log(Math.max(P,1e-10)),new O(s.lng*l*c,d)},unproject:function(s){for(var l=180/Math.PI,c=this.R,d=this.R_MINOR/c,m=Math.sqrt(1-d*d),y=Math.exp(-s.y/c),I=Math.PI/2-2*Math.atan(y),P=0,N=.1,D;P<15&&Math.abs(N)>1e-7;P++)D=m*Math.sin(I),D=Math.pow((1-D)/(1+D),m/2),N=Math.PI/2-2*Math.atan(y*D)-I,I+=N;return new re(I*l,s.x*l/c)}},Bx={__proto__:null,LonLat:Kh,Mercator:Qh,SphericalMercator:Tn},jx=r({},Gt,{code:"EPSG:3395",projection:Qh,transformation:function(){var s=.5/(Math.PI*Qh.R);return qt(s,.5,-s,.5)}()}),P_=r({},Gt,{code:"EPSG:4326",projection:Kh,transformation:qt(1/180,1,-1/180,.5)}),Fx=r({},Ye,{projection:Kh,transformation:qt(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var c=l.lng-s.lng,d=l.lat-s.lat;return Math.sqrt(c*c+d*d)},infinite:!0});Ye.Earth=Gt,Ye.EPSG3395=jx,Ye.EPSG3857=Hn,Ye.EPSG900913=Ai,Ye.EPSG4326=P_,Ye.Simple=Fx;var cn=pt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var c=this.getEvents();l.on(c,this),this.once("remove",function(){l.off(c,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});fe.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=h(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,l){for(var c in this._layers)s.call(l,this._layers[c]);return this},_addLayers:function(s){s=s?T(s)?s:[s]:[];for(var l=0,c=s.length;l<c;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=h(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,c=this._getZoomSpan();for(var d in this._zoomBoundLayers){var m=this._zoomBoundLayers[d].options;s=m.minZoom===void 0?s:Math.min(s,m.minZoom),l=m.maxZoom===void 0?l:Math.max(l,m.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ls=cn.extend({initialize:function(s,l){x(this,l),this._layers={};var c,d;if(s)for(c=0,d=s.length;c<d;c++)this.addLayer(s[c])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),c,d;for(c in this._layers)d=this._layers[c],d[s]&&d[s].apply(d,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var c in this._layers)s.call(l,this._layers[c]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),Ux=function(s,l){return new ls(s,l)},Kn=ls.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ls.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ls.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ye;for(var l in this._layers){var c=this._layers[l];s.extend(c.getBounds?c.getBounds():c.getLatLng())}return s}}),zx=function(s,l){return new Kn(s,l)},us=at.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){x(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var c=this._getIconUrl(s);if(!c){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(c,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(d,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(s,l){var c=this.options,d=c[l+"Size"];typeof d=="number"&&(d=[d,d]);var m=U(d),y=U(l==="shadow"&&c.shadowAnchor||c.iconAnchor||m&&m.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(c.className||""),y&&(s.style.marginLeft=-y.x+"px",s.style.marginTop=-y.y+"px"),m&&(s.style.width=m.x+"px",s.style.height=m.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return Z.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Wx(s){return new us(s)}var bo=us.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof bo.imagePath!="string"&&(bo.imagePath=this._detectIconPath()),(this.options.imagePath||bo.imagePath)+us.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(c,d,m){var y=d.exec(c);return y&&y[m]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=me("div","leaflet-default-icon-path",document.body),l=To(s,"background-image")||To(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),R_=kn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Ci(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ne(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&We(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,c=l._map,d=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,y=_r(l._icon),I=c.getPixelBounds(),P=c.getPixelOrigin(),N=te(I.min._subtract(P).add(m),I.max._subtract(P).subtract(m));if(!N.contains(y)){var D=U((Math.max(N.max.x,y.x)-N.max.x)/(I.max.x-N.max.x)-(Math.min(N.min.x,y.x)-N.min.x)/(I.min.x-N.min.x),(Math.max(N.max.y,y.y)-N.max.y)/(I.max.y-N.max.y)-(Math.min(N.min.y,y.y)-N.min.y)/(I.min.y-N.min.y)).multiplyBy(d);c.panBy(D,{animate:!1}),this._draggable._newPos._add(D),this._draggable._startPos._add(D),Qe(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=ve(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(be(this._panRequest),this._panRequest=ve(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,c=l._shadow,d=_r(l._icon),m=l._map.layerPointToLatLng(d);c&&Qe(c,d),l._latlng=m,s.latlng=m,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){be(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),bl=cn.extend({options:{icon:new bo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){x(this,l),this._latlng=J(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=J(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=s.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,s.title&&(c.title=s.title),c.tagName==="IMG"&&(c.alt=s.alt||"")),ne(c,l),s.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&X(c,"focus",this._panOnFocus,this);var m=s.icon.createShadow(this._shadow),y=!1;m!==this._shadow&&(this._removeShadow(),y=!0),m&&(ne(m,l),m.alt=""),this._shadow=m,s.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&y&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(this._icon,"focus",this._panOnFocus,this),Le(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Le(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Qe(this._icon,s),this._shadow&&Qe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),R_)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new R_(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&$t(this._icon,s),this._shadow&&$t(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,c=l.iconSize?U(l.iconSize):U(0,0),d=l.iconAnchor?U(l.iconAnchor):U(0,0);s.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:c.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Hx(s,l){return new bl(s,l)}var Si=cn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return x(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ll=Si.extend({options:{fill:!0,radius:10},initialize:function(s,l){x(this,l),this._latlng=J(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=J(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Si.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,c=this._clickTolerance(),d=[s+c,l+c];this._pxBounds=new K(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Vx(s,l){return new Ll(s,l)}var Gh=Ll.extend({initialize:function(s,l,c){if(typeof l=="number"&&(l=r({},c,{radius:l})),x(this,l),this._latlng=J(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Si.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,c=this._map,d=c.options.crs;if(d.distance===Gt.distance){var m=Math.PI/180,y=this._mRadius/Gt.R/m,I=c.project([l+y,s]),P=c.project([l-y,s]),N=I.add(P).divideBy(2),D=c.unproject(N).lat,H=Math.acos((Math.cos(y*m)-Math.sin(l*m)*Math.sin(D*m))/(Math.cos(l*m)*Math.cos(D*m)))/m;(isNaN(H)||H===0)&&(H=y/Math.cos(Math.PI/180*l)),this._point=N.subtract(c.getPixelOrigin()),this._radius=isNaN(H)?0:N.x-c.project([D,s-H]).x,this._radiusY=N.y-I.y}else{var G=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(G).x}this._updateBounds()}});function Zx(s,l,c){return new Gh(s,l,c)}var Qn=Si.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){x(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,c=null,d=No,m,y,I=0,P=this._parts.length;I<P;I++)for(var N=this._parts[I],D=1,H=N.length;D<H;D++){m=N[D-1],y=N[D];var G=d(s,m,y,!0);G<l&&(l=G,c=d(s,m,y))}return c&&(c.distance=Math.sqrt(l)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return k_(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=J(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ye,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Yt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],c=Yt(s),d=0,m=s.length;d<m;d++)c?(l[d]=J(s[d]),this._bounds.extend(l[d])):l[d]=this._convertLatLngs(s[d]);return l},_project:function(){var s=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new O(s,s);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,c){var d=s[0]instanceof re,m=s.length,y,I;if(d){for(I=[],y=0;y<m;y++)I[y]=this._map.latLngToLayerPoint(s[y]),c.extend(I[y]);l.push(I)}else for(y=0;y<m;y++)this._projectLatlngs(s[y],l,c)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,c,d,m,y,I,P,N;for(c=0,m=0,y=this._rings.length;c<y;c++)for(N=this._rings[c],d=0,I=N.length;d<I-1;d++)P=x_(N[d],N[d+1],s,d,!0),P&&(l[m]=l[m]||[],l[m].push(P[0]),(P[1]!==N[d+1]||d===I-2)&&(l[m].push(P[1]),m++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,c=0,d=s.length;c<d;c++)s[c]=C_(s[c],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var c,d,m,y,I,P,N=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(c=0,y=this._parts.length;c<y;c++)for(P=this._parts[c],d=0,I=P.length,m=I-1;d<I;m=d++)if(!(!l&&d===0)&&S_(s,P[m],P[d])<=N)return!0;return!1}});function Kx(s,l){return new Qn(s,l)}Qn._flat=I_;var cs=Qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return A_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Qn.prototype._convertLatLngs.call(this,s),c=l.length;return c>=2&&l[0]instanceof re&&l[0].equals(l[c-1])&&l.pop(),l},_setLatLngs:function(s){Qn.prototype._setLatLngs.call(this,s),Yt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Yt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,c=new O(l,l);if(s=new K(s.min.subtract(c),s.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,m=this._rings.length,y;d<m;d++)y=E_(this._rings[d],s,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,c,d,m,y,I,P,N,D;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(y=0,N=this._parts.length;y<N;y++)for(c=this._parts[y],I=0,D=c.length,P=D-1;I<D;P=I++)d=c[I],m=c[P],d.y>s.y!=m.y>s.y&&s.x<(m.x-d.x)*(s.y-d.y)/(m.y-d.y)+d.x&&(l=!l);return l||Qn.prototype._containsPoint.call(this,s,!0)}});function Qx(s,l){return new cs(s,l)}var Gn=Kn.extend({initialize:function(s,l){x(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=T(s)?s:s.features,c,d,m;if(l){for(c=0,d=l.length;c<d;c++)m=l[c],(m.geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var y=this.options;if(y.filter&&!y.filter(s))return this;var I=Ol(s,y);return I?(I.feature=Bl(s),I.defaultOptions=I.options,this.resetStyle(I),y.onEachFeature&&y.onEachFeature(s,I),this.addLayer(I)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Ol(s,l){var c=s.type==="Feature"?s.geometry:s,d=c?c.coordinates:null,m=[],y=l&&l.pointToLayer,I=l&&l.coordsToLatLng||qh,P,N,D,H;if(!d&&!c)return null;switch(c.type){case"Point":return P=I(d),N_(y,s,P,l);case"MultiPoint":for(D=0,H=d.length;D<H;D++)P=I(d[D]),m.push(N_(y,s,P,l));return new Kn(m);case"LineString":case"MultiLineString":return N=Ml(d,c.type==="LineString"?0:1,I),new Qn(N,l);case"Polygon":case"MultiPolygon":return N=Ml(d,c.type==="Polygon"?1:2,I),new cs(N,l);case"GeometryCollection":for(D=0,H=c.geometries.length;D<H;D++){var G=Ol({geometry:c.geometries[D],type:"Feature",properties:s.properties},l);G&&m.push(G)}return new Kn(m);case"FeatureCollection":for(D=0,H=c.features.length;D<H;D++){var se=Ol(c.features[D],l);se&&m.push(se)}return new Kn(m);default:throw new Error("Invalid GeoJSON object.")}}function N_(s,l,c,d){return s?s(l,c):new bl(c,d&&d.markersInheritOptions&&d)}function qh(s){return new re(s[1],s[0],s[2])}function Ml(s,l,c){for(var d=[],m=0,y=s.length,I;m<y;m++)I=l?Ml(s[m],l-1,c):(c||qh)(s[m]),d.push(I);return d}function $h(s,l){return s=J(s),s.alt!==void 0?[v(s.lng,l),v(s.lat,l),v(s.alt,l)]:[v(s.lng,l),v(s.lat,l)]}function Dl(s,l,c,d){for(var m=[],y=0,I=s.length;y<I;y++)m.push(l?Dl(s[y],Yt(s[y])?0:l-1,c,d):$h(s[y],d));return!l&&c&&m.length>0&&m.push(m[0].slice()),m}function hs(s,l){return s.feature?r({},s.feature,{geometry:l}):Bl(l)}function Bl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Yh={toGeoJSON:function(s){return hs(this,{type:"Point",coordinates:$h(this.getLatLng(),s)})}};bl.include(Yh),Gh.include(Yh),Ll.include(Yh),Qn.include({toGeoJSON:function(s){var l=!Yt(this._latlngs),c=Dl(this._latlngs,l?1:0,!1,s);return hs(this,{type:(l?"Multi":"")+"LineString",coordinates:c})}}),cs.include({toGeoJSON:function(s){var l=!Yt(this._latlngs),c=l&&!Yt(this._latlngs[0]),d=Dl(this._latlngs,c?2:l?1:0,!0,s);return l||(d=[d]),hs(this,{type:(c?"Multi":"")+"Polygon",coordinates:d})}}),ls.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(c){l.push(c.toGeoJSON(s).geometry.coordinates)}),hs(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var c=l==="GeometryCollection",d=[];return this.eachLayer(function(m){if(m.toGeoJSON){var y=m.toGeoJSON(s);if(c)d.push(y.geometry);else{var I=Bl(y);I.type==="FeatureCollection"?d.push.apply(d,I.features):d.push(I)}}}),c?hs(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function b_(s,l){return new Gn(s,l)}var Gx=b_,jl=cn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,c){this._url=s,this._bounds=le(l),x(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Le(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&os(this._image),this},bringToBack:function(){return this._map&&as(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=le(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:me("img");if(ne(l,"leaflet-image-layer"),this._zoomAnimated&&ne(l,"leaflet-zoom-animated"),this.options.className&&ne(l,this.options.className),l.onselectstart=p,l.onmousemove=p,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;gr(this._image,c,l)},_reset:function(){var s=this._image,l=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=l.getSize();Qe(s,l.min),s.style.width=c.x+"px",s.style.height=c.y+"px"},_updateOpacity:function(){$t(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),qx=function(s,l,c){return new jl(s,l,c)},L_=jl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:me("video");if(ne(l,"leaflet-image-layer"),this._zoomAnimated&&ne(l,"leaflet-zoom-animated"),this.options.className&&ne(l,this.options.className),l.onselectstart=p,l.onmousemove=p,l.onloadeddata=a(this.fire,this,"load"),s){for(var c=l.getElementsByTagName("source"),d=[],m=0;m<c.length;m++)d.push(c[m].src);this._url=c.length>0?d:[l.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var I=me("source");I.src=this._url[y],l.appendChild(I)}}});function $x(s,l,c){return new L_(s,l,c)}var O_=jl.extend({_initImage:function(){var s=this._image=this._url;ne(s,"leaflet-image-layer"),this._zoomAnimated&&ne(s,"leaflet-zoom-animated"),this.options.className&&ne(s,this.options.className),s.onselectstart=p,s.onmousemove=p}});function Yx(s,l,c){return new O_(s,l,c)}var Pn=cn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof re||T(s))?(this._latlng=J(s),x(this,l)):(x(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&$t(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&$t(this._container,1),this.bringToFront(),this.options.interactive&&(ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?($t(this._container,0),this._removeTimeout=setTimeout(a(Le,void 0,this._container),200)):Le(this._container),this.options.interactive&&(We(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=J(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&os(this._container),this},bringToBack:function(){return this._map&&as(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof Kn){l=null;var c=this._source._layers;for(var d in c)if(c[d]._map){l=c[d];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=U(this.options.offset),c=this._getAnchor();this._zoomAnimated?Qe(this._container,s.add(c)):l=l.add(s).add(c);var d=this._containerBottom=-l.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=d+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});fe.include({_initOverlay:function(s,l,c,d){var m=l;return m instanceof s||(m=new s(d).setContent(l)),c&&m.setLatLng(c),m}}),cn.include({_initOverlay:function(s,l,c,d){var m=c;return m instanceof s?(x(m,d),m._source=this):(m=l&&!d?l:new s(d,this),m.setContent(c)),m}});var Fl=Pn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Pn.prototype.openOn.call(this,s)},onAdd:function(s){Pn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Si||this._source.on("preclick",vr))},onRemove:function(s){Pn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Si||this._source.off("preclick",vr))},getEvents:function(){var s=Pn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=me("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=me("div",s+"-content-wrapper",l);if(this._contentNode=me("div",s+"-content",c),Po(l),Uh(this._contentNode),X(l,"contextmenu",vr),this._tipContainer=me("div",s+"-tip-container",l),this._tip=me("div",s+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=me("a",s+"-close-button",l);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',X(d,"click",function(m){lt(m),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var c=s.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),l.width=c+1+"px",l.whiteSpace="",l.height="";var d=s.offsetHeight,m=this.options.maxHeight,y="leaflet-popup-scrolled";m&&d>m?(l.height=m+"px",ne(s,y)):We(s,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),c=this._getAnchor();Qe(this._container,l.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(To(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+l,d=this._containerWidth,m=new O(this._containerLeft,-c-this._containerBottom);m._add(_r(this._container));var y=s.layerPointToContainerPoint(m),I=U(this.options.autoPanPadding),P=U(this.options.autoPanPaddingTopLeft||I),N=U(this.options.autoPanPaddingBottomRight||I),D=s.getSize(),H=0,G=0;y.x+d+N.x>D.x&&(H=y.x+d-D.x+N.x),y.x-H-P.x<0&&(H=y.x-P.x),y.y+c+N.y>D.y&&(G=y.y+c-D.y+N.y),y.y-G-P.y<0&&(G=y.y-P.y),(H||G)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([H,G]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jx=function(s,l){return new Fl(s,l)};fe.mergeOptions({closePopupOnClick:!0}),fe.include({openPopup:function(s,l,c){return this._initOverlay(Fl,s,l,c).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),cn.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Fl,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Kn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){yr(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Si)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Ul=Pn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Pn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Pn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Pn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=me("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,c,d=this._map,m=this._container,y=d.latLngToContainerPoint(d.getCenter()),I=d.layerPointToContainerPoint(s),P=this.options.direction,N=m.offsetWidth,D=m.offsetHeight,H=U(this.options.offset),G=this._getAnchor();P==="top"?(l=N/2,c=D):P==="bottom"?(l=N/2,c=0):P==="center"?(l=N/2,c=D/2):P==="right"?(l=0,c=D/2):P==="left"?(l=N,c=D/2):I.x<y.x?(P="right",l=0,c=D/2):(P="left",l=N+(H.x+G.x)*2,c=D/2),s=s.subtract(U(l,c,!0)).add(H).add(G),We(m,"leaflet-tooltip-right"),We(m,"leaflet-tooltip-left"),We(m,"leaflet-tooltip-top"),We(m,"leaflet-tooltip-bottom"),ne(m,"leaflet-tooltip-"+P),Qe(m,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&$t(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Xx=function(s,l){return new Ul(s,l)};fe.include({openTooltip:function(s,l,c){return this._initOverlay(Ul,s,l,c).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),cn.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ul,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[l](c),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Kn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(X(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),X(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,c,d;this._tooltip.options.sticky&&s.originalEvent&&(c=this._map.mouseEventToContainerPoint(s.originalEvent),d=this._map.containerPointToLayerPoint(c),l=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(l)}});var M_=us.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),c=this.options;if(c.html instanceof Element?(xl(l),l.appendChild(c.html)):l.innerHTML=c.html!==!1?c.html:"",c.bgPos){var d=U(c.bgPos);l.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function eI(s){return new M_(s)}us.Default=bo;var Lo=cn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){x(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Le(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(os(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(as(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof O?s:new O(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,c=-s(-1/0,1/0),d=0,m=l.length,y;d<m;d++)y=l[d].style.zIndex,l[d]!==this._container&&y&&(c=s(c,+y));isFinite(c)&&(this.options.zIndex=c+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Z.ielt9){$t(this._container,this.options.opacity);var s=+new Date,l=!1,c=!1;for(var d in this._tiles){var m=this._tiles[d];if(!(!m.current||!m.loaded)){var y=Math.min(1,(s-m.loaded)/200);$t(m.el,y),y<1?l=!0:(m.active?c=!0:this._onOpaqueTile(m),m.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),l&&(be(this._fadeFrame),this._fadeFrame=ve(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===s?(this._levels[c].el.style.zIndex=l-Math.abs(s-c),this._onUpdateLevel(c)):(Le(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var d=this._levels[s],m=this._map;return d||(d=this._levels[s]={},d.el=me("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=l,d.origin=m.project(m.unproject(m.getPixelOrigin()),s).round(),d.zoom=s,this._setZoomTransform(d,m.getCenter(),m.getZoom()),p(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var s,l,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var d=l.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Le(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,c,d){var m=Math.floor(s/2),y=Math.floor(l/2),I=c-1,P=new O(+m,+y);P.z=+I;var N=this._tileCoordsToKey(P),D=this._tiles[N];return D&&D.active?(D.retain=!0,!0):(D&&D.loaded&&(D.retain=!0),I>d?this._retainParent(m,y,I,d):!1)},_retainChildren:function(s,l,c,d){for(var m=2*s;m<2*s+2;m++)for(var y=2*l;y<2*l+2;y++){var I=new O(m,y);I.z=c+1;var P=this._tileCoordsToKey(I),N=this._tiles[P];if(N&&N.active){N.retain=!0;continue}else N&&N.loaded&&(N.retain=!0);c+1<d&&this._retainChildren(m,y,c+1,d)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,c,d){var m=Math.round(l);this.options.maxZoom!==void 0&&m>this.options.maxZoom||this.options.minZoom!==void 0&&m<this.options.minZoom?m=void 0:m=this._clampZoom(m);var y=this.options.updateWhenZooming&&m!==this._tileZoom;(!d||y)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),m!==void 0&&this._update(s),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var c in this._levels)this._setZoomTransform(this._levels[c],s,l)},_setZoomTransform:function(s,l,c){var d=this._map.getZoomScale(c,s.zoom),m=s.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(l,c)).round();Z.any3d?gr(s.el,m,d):Qe(s.el,m)},_resetGrid:function(){var s=this._map,l=s.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],d).x/c.x),Math.ceil(s.project([0,l.wrapLng[1]],d).x/c.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],d).y/c.x),Math.ceil(s.project([l.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,c=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),d=l.getZoomScale(c,this._tileZoom),m=l.project(s,this._tileZoom).floor(),y=l.getSize().divideBy(d*2);return new K(m.subtract(y),m.add(y))},_update:function(s){var l=this._map;if(l){var c=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(s),m=this._pxBoundsToTileRange(d),y=m.getCenter(),I=[],P=this.options.keepBuffer,N=new K(m.getBottomLeft().subtract([P,-P]),m.getTopRight().add([P,-P]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var D in this._tiles){var H=this._tiles[D].coords;(H.z!==this._tileZoom||!N.contains(new O(H.x,H.y)))&&(this._tiles[D].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(s,c);return}for(var G=m.min.y;G<=m.max.y;G++)for(var se=m.min.x;se<=m.max.x;se++){var wt=new O(se,G);if(wt.z=this._tileZoom,!!this._isValidTile(wt)){var nt=this._tiles[this._tileCoordsToKey(wt)];nt?nt.current=!0:I.push(wt)}}if(I.sort(function(Pt,fs){return Pt.distanceTo(y)-fs.distanceTo(y)}),I.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Jt=document.createDocumentFragment();for(se=0;se<I.length;se++)this._addTile(I[se],Jt);this._level.el.appendChild(Jt)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var c=this._globalTileRange;if(!l.wrapLng&&(s.x<c.min.x||s.x>c.max.x)||!l.wrapLat&&(s.y<c.min.y||s.y>c.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(s);return le(this.options.bounds).overlaps(d)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,c=this.getTileSize(),d=s.scaleBy(c),m=d.add(c),y=l.unproject(d,s.z),I=l.unproject(m,s.z);return[y,I]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),c=new ye(l[0],l[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),c=new O(+l[0],+l[1]);return c.z=+l[2],c},_removeTile:function(s){var l=this._tiles[s];l&&(Le(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ne(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=p,s.onmousemove=p,Z.ielt9&&this.options.opacity<1&&$t(s,this.options.opacity)},_addTile:function(s,l){var c=this._getTilePos(s),d=this._tileCoordsToKey(s),m=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(m),this.createTile.length<2&&ve(a(this._tileReady,this,s,null,m)),Qe(m,c),this._tiles[d]={el:m,coords:s,current:!0},l.appendChild(m),this.fire("tileloadstart",{tile:m,coords:s})},_tileReady:function(s,l,c){l&&this.fire("tileerror",{error:l,tile:c,coords:s});var d=this._tileCoordsToKey(s);c=this._tiles[d],c&&(c.loaded=+new Date,this._map._fadeAnimated?($t(c.el,0),be(this._fadeFrame),this._fadeFrame=ve(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),l||(ne(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?ve(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new O(this._wrapX?g(s.x,this._wrapX):s.x,this._wrapY?g(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new K(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function tI(s){return new Lo(s)}var ds=Lo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=x(this,l),l.detectRetina&&Z.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var c=document.createElement("img");return X(c,"load",a(this._tileOnLoad,this,l,c)),X(c,"error",a(this._tileOnError,this,l,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(s),c},getTileUrl:function(s){var l={r:Z.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=c),l["-y"]=c}return A(this._url,r(l,this.options))},_tileOnLoad:function(s,l){Z.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,c){var d=this.options.errorTileUrl;d&&l.getAttribute("src")!==d&&(l.src=d),s(c,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,c=this.options.zoomReverse,d=this.options.zoomOffset;return c&&(s=l-s),s+d},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=p,l.onerror=p,!l.complete)){l.src=M;var c=this._tiles[s].coords;Le(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:c})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",M),Lo.prototype._removeTile.call(this,s)},_tileReady:function(s,l,c){if(!(!this._map||c&&c.getAttribute("src")===M))return Lo.prototype._tileReady.call(this,s,l,c)}});function D_(s,l){return new ds(s,l)}var B_=ds.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var c=r({},this.defaultWmsParams);for(var d in l)d in this.options||(c[d]=l[d]);l=x(this,l);var m=l.detectRetina&&Z.retina?2:1,y=this.getTileSize();c.width=y.x*m,c.height=y.y*m,this.wmsParams=c},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ds.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),c=this._crs,d=te(c.project(l[0]),c.project(l[1])),m=d.min,y=d.max,I=(this._wmsVersion>=1.3&&this._crs===P_?[m.y,m.x,y.y,y.x]:[m.x,m.y,y.x,y.y]).join(","),P=ds.prototype.getTileUrl.call(this,s);return P+k(this.wmsParams,P,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+I},setParams:function(s,l){return r(this.wmsParams,s),l||this.redraw(),this}});function nI(s,l){return new B_(s,l)}ds.WMS=B_,D_.wms=nI;var qn=cn.extend({options:{padding:.1},initialize:function(s){x(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var c=this._map.getZoomScale(l,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,l),y=d.multiplyBy(-c).add(m).subtract(this._map._getNewPixelOrigin(s,l));Z.any3d?gr(this._container,y,c):Qe(this._container,y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),c=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new K(c,c.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),j_=qn.extend({options:{tolerance:0},getEvents:function(){var s=qn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");X(s,"mousemove",this._onMouseMove,this),X(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),X(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){be(this._redrawRequest),delete this._ctx,Le(this._container),Te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qn.prototype._update.call(this);var s=this._bounds,l=this._container,c=s.getSize(),d=Z.retina?2:1;Qe(l,s.min),l.width=d*c.x,l.height=d*c.y,l.style.width=c.x+"px",l.style.height=c.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){qn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,c=l.next,d=l.prev;c?c.prev=d:this._drawLast=d,d?d.next=c:this._drawFirst=c,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),c=[],d,m;for(m=0;m<l.length;m++){if(d=Number(l[m]),isNaN(d))return;c.push(d)}s.options._dashArray=c}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||ve(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var c=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)s=d.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var c,d,m,y,I=s._parts,P=I.length,N=this._ctx;if(P){for(N.beginPath(),c=0;c<P;c++){for(d=0,m=I[c].length;d<m;d++)y=I[c][d],N[d?"lineTo":"moveTo"](y.x,y.y);l&&N.closePath()}this._fillStroke(N,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,c=this._ctx,d=Math.max(Math.round(s._radius),1),m=(Math.max(Math.round(s._radiusY),1)||d)/d;m!==1&&(c.save(),c.scale(1,m)),c.beginPath(),c.arc(l.x,l.y/m,d,0,Math.PI*2,!1),m!==1&&c.restore(),this._fillStroke(c,s)}},_fillStroke:function(s,l){var c=l.options;c.fill&&(s.globalAlpha=c.fillOpacity,s.fillStyle=c.fillColor||c.color,s.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=c.opacity,s.lineWidth=c.weight,s.strokeStyle=c.color,s.lineCap=c.lineCap,s.lineJoin=c.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),c,d,m=this._drawFirst;m;m=m.next)c=m.layer,c.options.interactive&&c._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(c))&&(d=c);this._fireEvent(d?[d]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(We(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var c,d,m=this._drawFirst;m;m=m.next)c=m.layer,c.options.interactive&&c._containsPoint(l)&&(d=c);d!==this._hoveredLayer&&(this._handleMouseOut(s),d&&(ne(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,c){this._map._fireDOMEvent(l,c||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var c=l.next,d=l.prev;if(c)c.prev=d;else return;d?d.next=c:c&&(this._drawFirst=c),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var c=l.next,d=l.prev;if(d)d.next=c;else return;c?c.prev=d:d&&(this._drawLast=d),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function F_(s){return Z.canvas?new j_(s):null}var Oo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),iI={_initContainer:function(){this._container=me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Oo("shape");ne(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Oo("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;Le(l),s.removeInteractiveTarget(l),delete this._layers[h(s)]},_updateStyle:function(s){var l=s._stroke,c=s._fill,d=s.options,m=s._container;m.stroked=!!d.stroke,m.filled=!!d.fill,d.stroke?(l||(l=s._stroke=Oo("stroke")),m.appendChild(l),l.weight=d.weight+"px",l.color=d.color,l.opacity=d.opacity,d.dashArray?l.dashStyle=T(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=d.lineCap.replace("butt","flat"),l.joinstyle=d.lineJoin):l&&(m.removeChild(l),s._stroke=null),d.fill?(c||(c=s._fill=Oo("fill")),m.appendChild(c),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(m.removeChild(c),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),c=Math.round(s._radius),d=Math.round(s._radiusY||c);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+c+","+d+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){os(s._container)},_bringToBack:function(s){as(s._container)}},zl=Z.vml?Oo:Ce,Mo=qn.extend({_initContainer:function(){this._container=zl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=zl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Le(this._container),Te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qn.prototype._update.call(this);var s=this._bounds,l=s.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,c.setAttribute("width",l.x),c.setAttribute("height",l.y)),Qe(c,s.min),c.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=zl("path");s.options.className&&ne(l,s.options.className),s.options.interactive&&ne(l,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Le(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,c=s.options;l&&(c.stroke?(l.setAttribute("stroke",c.color),l.setAttribute("stroke-opacity",c.opacity),l.setAttribute("stroke-width",c.weight),l.setAttribute("stroke-linecap",c.lineCap),l.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?l.setAttribute("stroke-dasharray",c.dashArray):l.removeAttribute("stroke-dasharray"),c.dashOffset?l.setAttribute("stroke-dashoffset",c.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),c.fill?(l.setAttribute("fill",c.fillColor||c.color),l.setAttribute("fill-opacity",c.fillOpacity),l.setAttribute("fill-rule",c.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,mr(s._parts,l))},_updateCircle:function(s){var l=s._point,c=Math.max(Math.round(s._radius),1),d=Math.max(Math.round(s._radiusY),1)||c,m="a"+c+","+d+" 0 1,0 ",y=s._empty()?"M0 0":"M"+(l.x-c)+","+l.y+m+c*2+",0 "+m+-c*2+",0 ";this._setPath(s,y)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){os(s._path)},_bringToBack:function(s){as(s._path)}});Z.vml&&Mo.include(iI);function U_(s){return Z.svg||Z.vml?new Mo(s):null}fe.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&F_(s)||U_(s)}});var z_=cs.extend({initialize:function(s,l){cs.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=le(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function rI(s,l){return new z_(s,l)}Mo.create=zl,Mo.pointsToPath=mr,Gn.geometryToLayer=Ol,Gn.coordsToLatLng=qh,Gn.coordsToLatLngs=Ml,Gn.latLngToCoords=$h,Gn.latLngsToCoords=Dl,Gn.getFeature=hs,Gn.asFeature=Bl,fe.mergeOptions({boxZoom:!0});var W_=kn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){X(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Le(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),xo(),bh(),this._startPoint=this._map.mouseEventToContainerPoint(s),X(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=me("div","leaflet-zoom-box",this._container),ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new K(this._point,this._startPoint),c=l.getSize();Qe(this._box,l.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Le(this._box),We(this._container,"leaflet-crosshair")),Io(),Lh(),Te(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});fe.addInitHook("addHandler","boxZoom",W_),fe.mergeOptions({doubleClickZoom:!0});var H_=kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,c=l.getZoom(),d=l.options.zoomDelta,m=s.originalEvent.shiftKey?c-d:c+d;l.options.doubleClickZoom==="center"?l.setZoom(m):l.setZoomAround(s.containerPoint,m)}});fe.addInitHook("addHandler","doubleClickZoom",H_),fe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var V_=kn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Ci(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){We(this._map._container,"leaflet-grab"),We(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=le(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,m=(d-l+c)%s+l-c,y=(d+l+c)%s-l-c,I=Math.abs(m+c)<Math.abs(y+c)?m:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=I},_onDragEnd:function(s){var l=this._map,c=l.options,d=!c.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),d)l.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,I=c.easeLinearity,P=m.multiplyBy(I/y),N=P.distanceTo([0,0]),D=Math.min(c.inertiaMaxSpeed,N),H=P.multiplyBy(D/N),G=D/(c.inertiaDeceleration*I),se=H.multiplyBy(-G/2).round();!se.x&&!se.y?l.fire("moveend"):(se=l._limitOffset(se,l.options.maxBounds),ve(function(){l.panBy(se,{duration:G,easeLinearity:I,noMoveStart:!0,animate:!0})}))}}});fe.addInitHook("addHandler","dragging",V_),fe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Z_=kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),X(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,c=s.scrollTop||l.scrollTop,d=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(d,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},c=this.keyCodes,d,m;for(d=0,m=c.left.length;d<m;d++)l[c.left[d]]=[-1*s,0];for(d=0,m=c.right.length;d<m;d++)l[c.right[d]]=[s,0];for(d=0,m=c.down.length;d<m;d++)l[c.down[d]]=[0,s];for(d=0,m=c.up.length;d<m;d++)l[c.up[d]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},c=this.keyCodes,d,m;for(d=0,m=c.zoomIn.length;d<m;d++)l[c.zoomIn[d]]=s;for(d=0,m=c.zoomOut.length;d<m;d++)l[c.zoomOut[d]]=-s},_addHooks:function(){X(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,c=this._map,d;if(l in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(d=this._panKeys[l],s.shiftKey&&(d=U(d).multiplyBy(3)),c.options.maxBounds&&(d=c._limitOffset(U(d),c.options.maxBounds)),c.options.worldCopyJump){var m=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(d)));c.panTo(m)}else c.panBy(d)}else if(l in this._zoomKeys)c.setZoom(c.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;yr(s)}}});fe.addInitHook("addHandler","keyboard",Z_),fe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var K_=kn.extend({addHooks:function(){X(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=g_(s),c=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var d=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),d),yr(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),c=this._map.options.zoomSnap||0;s._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),m=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,y=c?Math.ceil(m/c)*c:m,I=s._limitZoom(l+(this._delta>0?y:-y))-l;this._delta=0,this._startTime=null,I&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+I):s.setZoomAround(this._lastMousePos,l+I))}});fe.addInitHook("addHandler","scrollWheelZoom",K_);var sI=600;fe.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var Q_=kn.extend({addHooks:function(){X(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new O(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(X(document,"touchend",lt),X(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),sI),X(document,"touchend touchcancel contextmenu",this._cancel,this),X(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Te(document,"touchend",lt),Te(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new O(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var c=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});c._simulated=!0,l.target.dispatchEvent(c)}});fe.addInitHook("addHandler","tapHold",Q_),fe.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var G_=kn.extend({addHooks:function(){ne(this._map._container,"leaflet-touch-zoom"),X(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){We(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var c=l.mouseEventToContainerPoint(s.touches[0]),d=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(c.add(d)._divideBy(2))),this._startDist=c.distanceTo(d),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),X(document,"touchmove",this._onTouchMove,this),X(document,"touchend touchcancel",this._onTouchEnd,this),lt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,c=l.mouseEventToContainerPoint(s.touches[0]),d=l.mouseEventToContainerPoint(s.touches[1]),m=c.distanceTo(d)/this._startDist;if(this._zoom=l.getScaleZoom(m,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&m<1||this._zoom>l.getMaxZoom()&&m>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,m===1)return}else{var y=c._add(d)._divideBy(2)._subtract(this._centerPoint);if(m===1&&y.x===0&&y.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),be(this._animRequest);var I=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ve(I,this,!0),lt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,be(this._animRequest),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});fe.addInitHook("addHandler","touchZoom",G_),fe.BoxZoom=W_,fe.DoubleClickZoom=H_,fe.Drag=V_,fe.Keyboard=Z_,fe.ScrollWheelZoom=K_,fe.TapHold=Q_,fe.TouchZoom=G_,n.Bounds=K,n.Browser=Z,n.CRS=Ye,n.Canvas=j_,n.Circle=Gh,n.CircleMarker=Ll,n.Class=at,n.Control=un,n.DivIcon=M_,n.DivOverlay=Pn,n.DomEvent=Cx,n.DomUtil=Ex,n.Draggable=Ci,n.Evented=pt,n.FeatureGroup=Kn,n.GeoJSON=Gn,n.GridLayer=Lo,n.Handler=kn,n.Icon=us,n.ImageOverlay=jl,n.LatLng=re,n.LatLngBounds=ye,n.Layer=cn,n.LayerGroup=ls,n.LineUtil=Dx,n.Map=fe,n.Marker=bl,n.Mixin=Rx,n.Path=Si,n.Point=O,n.PolyUtil=Nx,n.Polygon=cs,n.Polyline=Qn,n.Popup=Fl,n.PosAnimation=__,n.Projection=Bx,n.Rectangle=z_,n.Renderer=qn,n.SVG=Mo,n.SVGOverlay=O_,n.TileLayer=ds,n.Tooltip=Ul,n.Transformation=Ei,n.Util=Qt,n.VideoOverlay=L_,n.bind=a,n.bounds=te,n.canvas=F_,n.circle=Zx,n.circleMarker=Vx,n.control=Ro,n.divIcon=eI,n.extend=r,n.featureGroup=zx,n.geoJSON=b_,n.geoJson=Gx,n.gridLayer=tI,n.icon=Wx,n.imageOverlay=qx,n.latLng=J,n.latLngBounds=le,n.layerGroup=Ux,n.map=Sx,n.marker=Hx,n.point=U,n.polygon=Qx,n.polyline=Kx,n.popup=Jx,n.rectangle=rI,n.setOptions=x,n.stamp=h,n.svg=U_,n.svgOverlay=Yx,n.tileLayer=D_,n.tooltip=Xx,n.transformation=qt,n.version=i,n.videoOverlay=$x;var oI=window.L;n.noConflict=function(){return window.L=oI,this},window.L=n})})(Pp,Pp.exports);var Ah=Pp.exports;function Hg(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Vg(t,e){return e==null?function(i,r){const o=S.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=S.useRef();o.current||(o.current=t(i,r));const a=S.useRef(i),{instance:u}=o.current;return S.useEffect(function(){a.current!==i&&(e(u,i,a.current),a.current=i)},[u,i,r]),o}}function kU(t,e){S.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function NT(t){return function(n){const i=zg(),r=t(Wg(n,i),i);return IT(i.map,n.attribution),RT(r.current,n.eventHandlers),kU(r.current,i),r}}function PU(t,e){const n=Vg(t,e),i=NT(n);return SU(i)}function RU(t,e){const n=Vg(t),i=IU(n,e);return TU(i)}function NU(t,e){const n=Vg(t,e),i=NT(n);return xU(i)}function bU(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function LU(){return zg().map}function Rp(){return Rp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rp.apply(this,arguments)}function OU({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:a,style:u,whenReady:h,zoom:f,...g},p){const[v]=S.useState({className:r,id:o,style:u}),[E,w]=S.useState(null);S.useImperativeHandle(p,()=>(E==null?void 0:E.map)??null,[E]);const x=S.useCallback(C=>{if(C!==null&&E===null){const A=new Ah.Map(C,g);n!=null&&f!=null?A.setView(n,f):t!=null&&A.fitBounds(t,e),h!=null&&A.whenReady(h),w(AU(A))}},[]);S.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const k=E?tn.createElement(PT,{value:E},i):a??null;return tn.createElement("div",Rp({},v,{ref:x}),k)}const MU=S.forwardRef(OU),DU=PU(function({position:e,...n},i){const r=new Ah.Marker(e,n);return Hg(r,CU(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),BU=RU(function(e,n){const i=new Ah.Popup(e,n.overlayContainer);return Hg(i,n)},function(e,n,{position:i},r){S.useEffect(function(){const{instance:a}=e;function u(f){f.popup===a&&(a.update(),r(!0))}function h(f){f.popup===a&&r(!1)}return n.map.on({popupopen:u,popupclose:h}),n.overlayContainer==null?(i!=null&&a.setLatLng(i),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var g;n.map.off({popupopen:u,popupclose:h}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(a)}},[e,n,r,i])}),jU=NU(function({url:e,...n},i){const r=new Ah.TileLayer(e,Wg(n,i));return Hg(r,i)},function(e,n,i){bU(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),FU=()=>{const t=LU();return S.useEffect(()=>{setTimeout(()=>{t.invalidateSize()},0)},[t]),null},UU=()=>{const t=[41.10476939105021,29.0247126404938];return _.jsx("div",{className:"map-container",children:_.jsxs(MU,{center:t,zoom:13,scrollWheelZoom:!1,style:{height:"500px",width:"100%"},children:[_.jsx(jU,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}),_.jsx(DU,{position:t,children:_.jsx(BU,{children:"Our office is located here!"})}),_.jsx(FU,{})," "]})})},zU=()=>(S.useEffect(()=>{yl()},[]),_.jsxs("div",{id:"contact-page",children:[_.jsx(gl,{toggleSidebar:function(){throw new Error("Function not implemented.")}}),_.jsx("main",{className:"container mt-5",children:_.jsx("div",{className:"middle-content p-4",children:_.jsxs("div",{className:"row form-map-container",children:[_.jsxs("div",{className:"col-md-6 form-container",children:[_.jsxs("h2",{className:"contact-header",children:["Get in ",_.jsx("span",{className:"highlight",children:"Touch"})]}),_.jsx("p",{className:"contact-description",children:"To contact me through email and ask questions, please fill out the form. I will return back to you through the contact info you submit."}),_.jsx(gU,{}),_.jsx(wU,{})]}),_.jsx("div",{className:"col-md-6 map-container",children:_.jsx(UU,{})})]})})})]})),WU=()=>{const[t,e]=S.useState(""),[n,i]=S.useState(!1);return S.useEffect(()=>{yl()},[]),S.useEffect(()=>{const r=ge(),o=he(r,"aboutUs/text");xt(o,a=>{const u=a.val();if(u){const h=u.replace(/\n/g,"<br />");e(h)}else e("Default About Us content.");i(!0)})},[]),_.jsxs("div",{id:"about-page",children:[_.jsx(gl,{toggleSidebar:()=>{}})," ",_.jsx("main",{className:"main-section",children:_.jsxs("div",{className:"content-wrapper",children:[_.jsx("h1",{className:"about-header",children:"About this Website,"}),n?_.jsx("p",{className:"about-paragraph",dangerouslySetInnerHTML:{__html:t}}):_.jsx("div",{children:"Loading..."})]})})]})},HU=()=>{const[t,e]=S.useState(""),[n,i]=S.useState(!1);S.useEffect(()=>{yl()},[]),S.useEffect(()=>{const a=ge(),u=he(a,"aboutUs/text");xt(u,h=>{const f=h.val();f&&(e(f),i(!0))})},[]);const r=a=>{e(a.target.value)},o=()=>{const a=ge();Ut(he(a,"aboutUs/text"),t)};return n?_.jsxs("div",{id:"about-page",children:[_.jsx(gl,{toggleSidebar:()=>{}})," ",_.jsx("main",{className:"main-section",children:_.jsxs("div",{className:"content-wrapper",children:[_.jsx("h1",{className:"about-header",children:"Edit About Us"}),_.jsx("textarea",{className:"about-textarea",value:t,onChange:r}),_.jsx("button",{onClick:o,className:"save-button",children:"Save"})]})})]}):_.jsx("div",{children:"Loading..."})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firebasestorage.googleapis.com",LT="storageBucket",VU=2*60*1e3,ZU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze extends mi{constructor(e,n,i=0){super($d(e),`Firebase Storage: ${n} (${$d(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $d(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ue;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ue||(Ue={}));function $d(t){return"storage/"+t}function Zg(){const t="An unknown error occurred, please check the error payload for server response.";return new ze(Ue.UNKNOWN,t)}function KU(t){return new ze(Ue.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function QU(t){return new ze(Ue.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ze(Ue.UNAUTHENTICATED,t)}function qU(){return new ze(Ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $U(t){return new ze(Ue.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function YU(){return new ze(Ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JU(){return new ze(Ue.CANCELED,"User canceled the upload/download.")}function XU(t){return new ze(Ue.INVALID_URL,"Invalid URL '"+t+"'.")}function e2(t){return new ze(Ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function t2(){return new ze(Ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+LT+"' property when initializing the app?")}function n2(){return new ze(Ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function i2(){return new ze(Ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function r2(t){return new ze(Ue.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Np(t){return new ze(Ue.INVALID_ARGUMENT,t)}function OT(){return new ze(Ue.APP_DELETED,"The Firebase app was deleted.")}function s2(t){return new ze(Ue.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ya(t,e){return new ze(Ue.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function $o(t){throw new ze(Ue.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=zt.makeFromUrl(e,n)}catch{return new zt(e,"")}if(i.path==="")return i;throw e2(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+r+a,"i"),h={bucket:1,path:3};function f(R){R.path_=decodeURIComponent(R.path)}const g="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${p}/${g}/b/${r}/o${v}`,"i"),w={bucket:1,path:3},x=n===bT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",C=new RegExp(`^https?://${x}/${r}/${k}`,"i"),T=[{regex:u,indices:h,postModify:o},{regex:E,indices:w,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let R=0;R<T.length;R++){const M=T[R],B=M.regex.exec(e);if(B){const F=B[M.indices.bucket];let W=B[M.indices.path];W||(W=""),i=new zt(F,W),M.postModify(i);break}}if(i==null)throw XU(e);return i}}class o2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e,n){let i=1,r=null,o=null,a=!1,u=0;function h(){return u===2}let f=!1;function g(...k){f||(f=!0,e.apply(null,k))}function p(k){r=setTimeout(()=>{r=null,t(E,h())},k)}function v(){o&&clearTimeout(o)}function E(k,...C){if(f){v();return}if(k){v(),g.call(null,k,...C);return}if(h()||a){v(),g.call(null,k,...C);return}i<64&&(i*=2);let T;u===1?(u=2,T=0):T=(i+Math.random())*1e3,p(T)}let w=!1;function x(k){w||(w=!0,v(),!f&&(r!==null?(k||(u=2),clearTimeout(r),p(0)):k||(u=1)))}return p(0),o=setTimeout(()=>{a=!0,x(!0)},n),x}function l2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t){return t!==void 0}function c2(t){return typeof t=="object"&&!Array.isArray(t)}function Kg(t){return typeof t=="string"||t instanceof String}function eE(t){return Qg()&&t instanceof Blob}function Qg(){return typeof Blob<"u"}function tE(t,e,n,i){if(i<e)throw Np(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Np(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function MT(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Dr||(Dr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,i,r,o,a,u,h,f,g,p,v=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=p,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,w)=>{this.resolve_=E,this.reject_=w,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new du(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const u=o.getErrorCode()===Dr.NO_ERROR,h=o.getStatus();if(!u||h2(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Dr.ABORT;i(!1,new du(!1,null,g));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new du(f,o))})},n=(i,r)=>{const o=this.resolve_,a=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());u2(h)?o(h):o()}catch(h){a(h)}else if(u!==null){const h=Zg();h.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,h)):a(h)}else if(r.canceled){const h=this.appDelete_?OT():JU();a(h)}else{const h=YU();a(h)}};this.canceled_?n(!1,new du(!1,null,!0)):this.backoffId_=a2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&l2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class du{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function f2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function p2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function m2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function g2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _2(t,e,n,i,r,o,a=!0){const u=MT(t.urlParams),h=t.url+u,f=Object.assign({},t.headers);return m2(f,e),f2(f,n),p2(f,o),g2(f,i),new d2(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function y2(...t){const e=v2();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Qg())return new Blob(t);throw new ze(Ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function w2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t){if(typeof atob>"u")throw r2("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Yd{constructor(e,n){this.data=e,this.contentType=n||null}}function A2(t,e){switch(t){case Mn.RAW:return new Yd(DT(e));case Mn.BASE64:case Mn.BASE64URL:return new Yd(BT(t,e));case Mn.DATA_URL:return new Yd(S2(e),T2(e))}throw Zg()}function DT(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,a=t.charCodeAt(++n);i=65536|(o&1023)<<10|a&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function C2(t){let e;try{e=decodeURIComponent(t)}catch{throw ya(Mn.DATA_URL,"Malformed data URL.")}return DT(e)}function BT(t,e){switch(t){case Mn.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw ya(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Mn.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw ya(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=E2(e)}catch(r){throw r.message.includes("polyfill")?r:ya(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class jT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ya(Mn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=x2(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function S2(t){const e=new jT(t);return e.base64?BT(Mn.BASE64,e.rest):C2(e.rest)}function T2(t){return new jT(t).contentType}function x2(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){let i=0,r="";eE(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(eE(this.data_)){const i=this.data_,r=w2(i,e,n);return r===null?null:new ji(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new ji(i,!0)}}static getBlob(...e){if(Qg()){const n=e.map(i=>i instanceof ji?i.data_:i);return new ji(y2.apply(null,n))}else{const n=e.map(a=>Kg(a)?A2(Mn.RAW,a).data:a.data_);let i=0;n.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(a=>{for(let u=0;u<a.length;u++)r[o++]=a[u]}),new ji(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t){let e;try{e=JSON.parse(t)}catch{return null}return c2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function k2(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function UT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t,e){return e}class Et{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||P2}}let fu=null;function R2(t){return!Kg(t)||t.length<2?t:UT(t)}function zT(){if(fu)return fu;const t=[];t.push(new Et("bucket")),t.push(new Et("generation")),t.push(new Et("metageneration")),t.push(new Et("name","fullPath",!0));function e(o,a){return R2(a)}const n=new Et("name");n.xform=e,t.push(n);function i(o,a){return a!==void 0?Number(a):a}const r=new Et("size");return r.xform=i,t.push(r),t.push(new Et("timeCreated")),t.push(new Et("updated")),t.push(new Et("md5Hash",null,!0)),t.push(new Et("cacheControl",null,!0)),t.push(new Et("contentDisposition",null,!0)),t.push(new Et("contentEncoding",null,!0)),t.push(new Et("contentLanguage",null,!0)),t.push(new Et("contentType",null,!0)),t.push(new Et("metadata","customMetadata",!0)),fu=t,fu}function N2(t,e){function n(){const i=t.bucket,r=t.fullPath,o=new zt(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function b2(t,e,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const a=n[o];i[a.local]=a.xform(i,e[a.server])}return N2(i,t),i}function WT(t,e,n){const i=FT(e);return i===null?null:b2(t,i,n)}function L2(t,e,n,i){const r=FT(e);if(r===null||!Kg(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(f=>{const g=t.bucket,p=t.fullPath,v="/b/"+a(g)+"/o/"+a(p),E=Gg(v,n,i),w=MT({alt:"media",token:f});return E+w})[0]}function O2(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class HT{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){if(!t)throw Zg()}function M2(t,e){function n(i,r){const o=WT(t,r,e);return VT(o!==null),o}return n}function D2(t,e){function n(i,r){const o=WT(t,r,e);return VT(o!==null),L2(o,r,t.host,t._protocol)}return n}function ZT(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=qU():r=GU():n.getStatus()===402?r=QU(t.bucket):n.getStatus()===403?r=$U(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function B2(t){const e=ZT(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=KU(t.path)),o.serverResponse=r.serverResponse,o}return n}function j2(t,e,n){const i=e.fullServerUrl(),r=Gg(i,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,u=new HT(r,o,D2(t,n),a);return u.errorHandler=B2(e),u}function F2(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function U2(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=F2(null,e)),i}function z2(t,e,n,i,r){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let T="";for(let R=0;R<2;R++)T=T+Math.random().toString().slice(2);return T}const h=u();a["Content-Type"]="multipart/related; boundary="+h;const f=U2(e,i,r),g=O2(f,n),p="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+h+"--",E=ji.getBlob(p,i,v);if(E===null)throw n2();const w={name:f.fullPath},x=Gg(o,t.host,t._protocol),k="POST",C=t.maxUploadRetryTime,A=new HT(x,k,M2(t,n),C);return A.urlParams=w,A.headers=a,A.body=E.uploadData(),A.errorHandler=ZT(e),A}class W2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw $o("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $o("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $o("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $o("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $o("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class H2 extends W2{initXhr(){this.xhr_.responseType="text"}}function KT(){return new H2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){this._service=e,n instanceof zt?this._location=n:this._location=zt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $r(e,n)}get root(){const e=new zt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UT(this._location.path)}get storage(){return this._service}get parent(){const e=I2(this._location.path);if(e===null)return null;const n=new zt(this._location.bucket,e);return new $r(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw s2(e)}}function V2(t,e,n){t._throwIfRoot("uploadBytes");const i=z2(t.storage,t._location,zT(),new ji(e,!0),n);return t.storage.makeRequestWithTokens(i,KT).then(r=>({metadata:r,ref:t}))}function Z2(t){t._throwIfRoot("getDownloadURL");const e=j2(t.storage,t._location,zT());return t.storage.makeRequestWithTokens(e,KT).then(n=>{if(n===null)throw i2();return n})}function K2(t,e){const n=k2(t._location.path,e),i=new zt(t._location.bucket,n);return new $r(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){return/^[A-Za-z]+:\/\//.test(t)}function G2(t,e){return new $r(t,e)}function QT(t,e){if(t instanceof qg){const n=t;if(n._bucket==null)throw t2();const i=new $r(n,n._bucket);return e!=null?QT(i,e):i}else return e!==void 0?K2(t,e):t}function q2(t,e){if(e&&Q2(e)){if(t instanceof qg)return G2(t,e);throw Np("To use ref(service, url), the first argument must be a Storage instance.")}else return QT(t,e)}function nE(t,e){const n=e==null?void 0:e[LT];return n==null?null:zt.makeFromBucketSpec(n,t)}function $2(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:LA(r,t.app.options.projectId))}class qg{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=bT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VU,this._maxUploadRetryTime=ZU,this._requests=new Set,r!=null?this._bucket=zt.makeFromBucketSpec(r,this._host):this._bucket=nE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zt.makeFromBucketSpec(this._url,e):this._bucket=nE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $r(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new o2(OT());{const a=_2(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const iE="@firebase/storage",rE="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="storage";function Y2(t,e,n){return t=Ke(t),V2(t,e,n)}function J2(t){return t=Ke(t),Z2(t)}function X2(t,e){return t=Ke(t),q2(t,e)}function ez(t=jm(),e){t=Ke(t);const i=Jc(t,GT).getImmediate({identifier:e}),r=RA("storage");return r&&tz(i,...r),i}function tz(t,e,n,i={}){$2(t,e,n,i)}function nz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new qg(n,i,r,e,ts)}function iz(){Hr(new rr(GT,nz,"PUBLIC").setMultipleInstances(!0)),jn(iE,rE,""),jn(iE,rE,"esm2017")}iz();const rz=()=>{const[t,e]=S.useState(""),[n,i]=S.useState(!1),[r,o]=S.useState(""),[a,u]=S.useState(""),[h,f]=S.useState(""),[g,p]=S.useState(""),[v,E]=S.useState(null),{user:w}=S.useContext(vi)||{};S.useEffect(()=>{if(w){const C=ge(),A=he(C,"users/"+w.uid);xt(A,T=>{const R=T.val();R&&(e(R.profilePicture||""),o(R.name||""),u(R.email||""),f(R["phone-number"]||""))})}},[w]);const x=async C=>{var T;const A=(T=C.target.files)==null?void 0:T[0];if(A&&w){const R=ez(),M=X2(R,`profilePictures/${w.uid}`);i(!0);try{await Y2(M,A);const B=await J2(M),F=ge();await Tw(he(F,"users/"+w.uid),{profilePicture:B}),e(B)}catch(B){console.error("Error uploading file:",B)}i(!1)}},k=async C=>{if(C.preventDefault(),w){const A=ge(),T={};r&&(T["/users/"+w.uid+"/name"]=r),a&&(T["/users/"+w.uid+"/email"]=a),h&&(T["/users/"+w.uid+"/phone-number"]=h);try{if(await Tw(he(A),T),g){const M=Gm().currentUser;M&&await _1(M,g)}E("Your infos are updated successfully!"),setTimeout(()=>E(null),3e3)}catch(R){console.error("Error updating info:",R)}}};return _.jsx("div",{id:"info-section",className:"info-section",children:_.jsxs("div",{className:"info-container",children:[_.jsxs("div",{className:"picture-container",children:[_.jsx("img",{src:t,alt:"Profile",className:"profile-picture"}),_.jsx("label",{htmlFor:"change-picture",className:"change-picture-button",children:n?"Uploading...":"Change Picture"}),_.jsx("input",{type:"file",id:"change-picture",accept:"image/*",onChange:x,style:{display:"none"}})]}),v&&_.jsx("div",{className:"success-message",children:v}),_.jsxs("form",{className:"info-form",onSubmit:k,children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Name"}),_.jsx("input",{type:"text",className:"form-control",value:r,onChange:C=>o(C.target.value),placeholder:"Name"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Email Id"}),_.jsx("input",{type:"email",className:"form-control",value:a,onChange:C=>u(C.target.value),placeholder:"Email Id"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Phone Number"}),_.jsx("input",{type:"tel",className:"form-control",value:h,onChange:C=>f(C.target.value),placeholder:"Phone Number"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Password"}),_.jsx("input",{type:"password",className:"form-control",value:g,onChange:C=>p(C.target.value),placeholder:"Password"})]}),_.jsx("button",{type:"submit",className:"btn btn-primary",children:"Update"})]})]})})},sz=()=>{const[t,e]=S.useState([]),[n,i]=S.useState(null),r=S.useContext(vi);if(!r)return null;const{user:o}=r;S.useEffect(()=>{if(o){const v=ge(),E=he(v,"users/"+o.uid+"/tasks");xt(E,w=>{const x=w.val();if(x){const k=Object.keys(x).map(C=>({key:C,displayKey:x[C].displayKey||t.length+1,...x[C]}));k.sort((C,A)=>C.displayKey-A.displayKey),e(k)}})}},[o]);const a=v=>{const E=[...t],w=E[v].status;let x="TO DO";if(w==="TO DO"?x="IN PROGRESS":w==="IN PROGRESS"&&(x="DONE"),E[v].status=x,e(E),o){const k=ge();Ut(he(k,"users/"+o.uid+"/tasks/"+E[v].key),E[v])}},u=(v,E,w)=>{const x=[...t];if(E==="displayKey"?x[v].displayKey=parseInt(w):x[v][E]=w,x.sort((k,C)=>k.displayKey-C.displayKey),e(x),o){const k=ge();Ut(he(k,"users/"+o.uid+"/tasks/"+x[v].key),x[v])}},h=()=>{if(o){const v=ge(),E=Date.now().toString(),w=t.length>0?Math.max(...t.map(k=>k.displayKey))+1:1,x={key:E,displayKey:w,summary:"",status:"TO DO",comment:""};Ut(he(v,"users/"+o.uid+"/tasks/"+x.key),x),e(k=>[...k,x].sort((C,A)=>C.displayKey-A.displayKey))}},f=v=>{if(o){const E=ge(),w=he(E,"users/"+o.uid+"/tasks/"+v);Pg(w),e(x=>x.filter(k=>k.key!==v))}},g=v=>[...t][v].displayKey.toString().trim()===""?(i("Key cannot be empty."),!1):(i(null),!0),p=v=>{if(!g(v)){const E=[...t];if(E[v].displayKey=t.length>0?Math.max(...t.map(w=>w.displayKey))+1:1,e(E),o){const w=ge();Ut(he(w,"users/"+o.uid+"/tasks/"+E[v].key),E[v])}}};return _.jsxs("div",{id:"profile-tasks",className:"profile-tasks",children:[_.jsx("button",{onClick:h,className:"add-task-button",children:"Add Task"}),n&&_.jsx("div",{className:"error-message",children:n}),_.jsxs("table",{className:"tasks-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{className:"key-header",children:"Key"}),_.jsx("th",{children:"Summary"}),_.jsx("th",{children:"Status"}),_.jsx("th",{className:"comment-header",children:"Comment"}),_.jsx("th",{className:"action-header",children:"Actions"})]})}),_.jsx("tbody",{children:t.map((v,E)=>_.jsxs("tr",{children:[_.jsx("td",{className:"key-cell",children:_.jsxs("div",{className:"key-input-wrapper",children:[_.jsx("span",{className:"key-hash",children:"#"}),_.jsx("input",{type:"number",value:v.displayKey,onChange:w=>u(E,"displayKey",w.target.value),onBlur:()=>p(E),className:"key-input",min:"1"})]})}),_.jsx("td",{className:"summary",children:_.jsx("textarea",{value:v.summary,onChange:w=>u(E,"summary",w.target.value)})}),_.jsx("td",{className:`status ${v.status.toLowerCase().replace(" ","-")}`,onClick:()=>a(E),children:v.status}),_.jsx("td",{className:"comment",children:_.jsx("textarea",{value:v.comment,onChange:w=>u(E,"comment",w.target.value)})}),_.jsx("td",{className:"actions",children:_.jsx("button",{onClick:()=>f(v.key),className:"delete-button",children:"Delete"})})]},v.key))})]})]})},oz=()=>{const[t,e]=S.useState(!0);S.useEffect(()=>{yl()},[]);const n=()=>{e(!t)};return _.jsxs("div",{id:"profile-page",children:[_.jsx(gl,{toggleSidebar:n})," ",_.jsxs("div",{className:"profile-container",children:[_.jsx(DS,{isSidebarOpen:t,toggleSidebar:n})," ",_.jsx("div",{className:`profile-main ${t?"":"collapsed"}`,children:_.jsxs(bm,{children:[_.jsx(He,{path:"/",element:_.jsx(Ri,{to:"info"})}),_.jsx(He,{path:"info",element:_.jsx(rz,{})}),_.jsx(He,{path:"reminders",element:_.jsx(sz,{})})]})})]})]})},az="/react-mywork/assets/background1-CgvLmYpB.png",lz="/react-mywork/assets/background2-DFIw2XSO.png",uz=()=>_.jsxs(BR,{basename:"/react-mywork",children:[" ",_.jsx(GD,{children:_.jsx(cz,{})})]}),cz=()=>{const t=dr(),n=["/register","/login","/reset-password"].includes(t.pathname);return _.jsxs("div",{className:`app ${n?"auth-page":""}`,children:[n&&_.jsxs("div",{className:"left-images",children:[_.jsx("img",{src:lz,alt:"Background 1",className:"background1"}),_.jsx("img",{src:az,alt:"Background 2",className:"background2"})]}),_.jsx("div",{className:"main-content",children:_.jsxs(bm,{children:[_.jsx(He,{path:"/react-mywork",element:_.jsx(Ri,{to:"/home/news"})})," ",_.jsx(He,{path:"/register",element:_.jsx(eB,{})}),_.jsx(He,{path:"/login",element:_.jsx(tB,{})}),_.jsx(He,{path:"/reset-password",element:_.jsx(nB,{})}),_.jsx(He,{path:"/contact",element:_.jsx(zU,{})}),_.jsx(He,{path:"/about",element:_.jsx(WU,{})}),_.jsx(He,{path:"/admin-about",element:_.jsx(HU,{})}),_.jsx(He,{path:"/profile/*",element:_.jsx(oz,{})}),_.jsx(He,{path:"/home/*",element:_.jsx(mU,{})})]})})]})};Jd.createRoot(document.getElementById("root")).render(_.jsx(tn.StrictMode,{children:_.jsx(uz,{})}));
